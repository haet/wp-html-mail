!function(){"use strict";var e,t,n,a,r,l,i={165:function(e,t,n){var a=window.React,r=n.n(a),l=window.ReactDOM,i=n.n(l),o=window.wp.element,c=window.wp.components,m=window.wp.i18n;function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,l=[],_n=!0,i=!1;try{for(n=n.call(e);!(_n=(a=n.next()).done)&&(l.push(a.value),!t||l.length!==t);_n=!0);}catch(e){i=!0,r=e}finally{try{_n||null==n.return||n.return()}finally{if(i)throw r}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?h(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var p=(0,o.createContext)(),g=function(e){var t=f((0,o.useState)(""),2),n=t[0],a=t[1],r=f((0,o.useState)(null),2),l=r[0],i=r[1],c=f((0,o.useState)("container"),2),m=c[0],s=c[1],h=f((0,o.useState)({}),2),g=h[0],b=h[1],y=f((0,o.useState)({}),2),E=y[0],w=y[1],v=f((0,o.useState)({}),2),R=v[0],_=v[1],C=f((0,o.useState)(""),2),T=C[0],x=C[1],S=f((0,o.useState)(""),2),O=S[0],P=S[1],k=f((0,o.useState)({}),2),j=k[0],A=k[1],N=f((0,o.useState)([]),2),I=N[0],D=N[1],B=f((0,o.useState)(!0),2),M=B[0],L=B[1],z=f((0,o.useState)(!1),2),F=(z[0],z[1]);return React.createElement(p.Provider,{value:{panelTitle:n,setPanelTitle:a,panelOptions:l,setPanelOptions:i,editingElement:m,setEditingElement:s,theme:g,setTheme:b,updateTheme:function(e,t){b(u(u({},g),{},d({},e,t)))},loadTheme:function(e){if(0===Object.entries(g).length){var t=new Request(window.mailTemplateDesigner.restUrl+"themesettings",{method:"GET",headers:{"Content-Type":"application/json","X-WP-Nonce":window.mailTemplateDesigner.nonce},credentials:"same-origin"});fetch(t).then((function(e){return e.json()})).then((function(t){e&&e(),b(t),L(!1)}))}},saveTheme:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;F(!0);var n=new Request(window.mailTemplateDesigner.restUrl+"themesettings",{method:"POST",body:JSON.stringify(t||g),headers:{"Content-Type":"application/json","X-WP-Nonce":window.mailTemplateDesigner.nonce}});fetch(n).then((function(e){return e.json()})).then((function(t){F(!1),e&&e(),t.preview&&haet_mail.previewMail(t.preview)}))},settings:E,setSettings:w,updateSetting:function(e,t){w(u(u({},E),{},d({},e,t)))},loadSettings:function(){if(0===Object.entries(E).length){var e=new Request(window.mailTemplateDesigner.restUrl+"settings",{method:"GET",headers:{"Content-Type":"application/json","X-WP-Nonce":window.mailTemplateDesigner.nonce},credentials:"same-origin"});fetch(e).then((function(e){return e.json()})).then((function(e){w(e),L(!1)}))}},saveSettings:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;F(!0);var n=new Request(window.mailTemplateDesigner.restUrl+"settings",{method:"POST",body:JSON.stringify(t||E),headers:{"Content-Type":"application/json","X-WP-Nonce":window.mailTemplateDesigner.nonce}});fetch(n).then((function(e){return e.json()})).then((function(t){F(!1),e&&e(),w(t)}))},pluginSettings:R,setPluginSettings:_,updatePluginSetting:function(e,t,n){_(u(u({},R),{},d({},e,u(u({},R[e]),{},d({},t,n)))))},loadPluginSettings:function(){if(0===Object.entries(R).length){var e=new Request(window.mailTemplateDesigner.restUrl+"pluginsettings",{method:"GET",headers:{"Content-Type":"application/json","X-WP-Nonce":window.mailTemplateDesigner.nonce},credentials:"same-origin"});fetch(e).then((function(e){return e.json()})).then((function(e){_(e),L(!1)}))}},savePluginSettings:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;F(!0);var n=new Request(window.mailTemplateDesigner.restUrl+"pluginsettings",{method:"POST",body:JSON.stringify(t||R),headers:{"Content-Type":"application/json","X-WP-Nonce":window.mailTemplateDesigner.nonce}});fetch(n).then((function(e){return e.json()})).then((function(t){F(!1),e&&e(),_(t)}))},errorMessage:T,setErrorMessage:x,infoMessage:O,setInfoMessage:P,confirmDialog:j,setConfirmDialog:A,isLoading:M,setIsLoading:L,loadAvailableFonts:function(){var e=new Request(window.mailTemplateDesigner.restUrl+"fonts",{method:"GET",headers:{"Content-Type":"application/json","X-WP-Nonce":window.mailTemplateDesigner.nonce},credentials:"same-origin"});fetch(e).then((function(e){return e.json()})).then((function(e){D(e)}))},availableFonts:I}},e.children)};function b(){var e=(0,o.useContext)(p);return e.theme!=={}&&e.editingElement?React.createElement(c.Panel,{header:e.panelTitle,className:"mail-optionspanel"},e.panelOptions):null}function y(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return isNaN(parseInt(e))?t:parseInt(e)}function E(e,t){return t+"_enable_translation"in e&&1==e[t+"_enable_translation"]}function w(e,t){return window.mailTemplateDesigner.isMultiLanguageSite&&E(e,t)&&window.mailTemplateDesigner.currentLanguage&&""!=window.mailTemplateDesigner.currentLanguage?t+"_"+window.mailTemplateDesigner.currentLanguage:t}function v(e,t){if(!window.mailTemplateDesigner.isMultiLanguageSite||!E(e,t))return e[t];var n=w(e,t);return n in e?e[n]:e[t]}function R(e){var t=e.children,n=e.elementTitle,a=e.elementName,r=e.frameSize,l=void 0===r?"normal":r,i=e.handleAlign,m=void 0===i?"left":i,s=(0,o.useContext)(p);return React.createElement("div",{className:"editable-element clearfix",onClick:function(e){e.stopPropagation(),s.setEditingElement(a)}},React.createElement("div",{className:(s.editingElement===a?"edit-frame-active":"edit-frame-default")+" frame-size-"+l+" handle-align-"+m},React.createElement("div",{className:"edit-frame-handle",onClick:function(e){e.stopPropagation(),s.setEditingElement(a)}},n,React.createElement(c.Icon,{icon:"edit"}))),t)}var _=window.wp.blockEditor;function C(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var T=function(e){var t,n,l,i,o=e.color,m=e.onChange,s=(0,a.useRef)(),u=(t=(0,a.useState)(!1),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,l=[],_n=!0,i=!1;try{for(n=n.call(e);!(_n=(a=n.next()).done)&&(l.push(a.value),!t||l.length!==t);_n=!0);}catch(e){i=!0,r=e}finally{try{_n||null==n.return||n.return()}finally{if(i)throw r}}return l}}(t,n)||function(e,t){if(e){if("string"==typeof e)return C(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?C(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),d=u[0],f=u[1],h=(0,a.useCallback)((function(){return f(!1)}),[]);return l=s,i=h,(0,a.useEffect)((function(){var e=!1,t=!1,n=function(n){!e&&t&&l.current&&!l.current.contains(n.target)&&i(n)},a=function(n){t=l.current,e=l.current&&l.current.contains(n.target)};return document.addEventListener("mousedown",a),document.addEventListener("touchstart",a),document.addEventListener("click",n),function(){document.removeEventListener("mousedown",a),document.removeEventListener("touchstart",a),document.removeEventListener("click",n)}}),[l,i]),r().createElement("div",{className:"color-picker-popoper"},r().createElement("div",{className:"swatch",style:{backgroundColor:o},onClick:function(){return f(!0)}}),d&&r().createElement("div",{className:"popover",ref:s},r().createElement(c.ColorPicker,{color:o,onChangeComplete:m,disableAlpha:!0})))};function x(e){!function(e){if(null==e)throw new TypeError("Cannot destructure undefined")}(e);var t=(0,o.useContext)(p),n=t.theme,a=(0,m.__)("Header text","wp-html-mail"),r="headertext",l=React.createElement(React.Fragment,null,React.createElement(c.PanelBody,{title:(0,m.__)("Font","wp-html-mail"),initialOpen:!0},React.createElement(c.PanelRow,null,React.createElement(c.SelectControl,{value:n.headerfont,options:t.availableFonts,onChange:function(e){t.updateTheme("headerfont",e)}}),React.createElement(c.TextControl,{type:"number",onChange:function(e){t.updateTheme("headerfontsize",e)},value:y(n.headerfontsize)}),React.createElement(T,{color:n.headercolor,onChange:function(e){t.updateTheme("headercolor",e.hex)}})),React.createElement(c.PanelRow,null,React.createElement(c.Toolbar,{controls:[{icon:"editor-alignleft",isActive:"left"===n.headeralign,onClick:function(){return t.updateTheme("headeralign","left")}},{icon:"editor-aligncenter",isActive:"center"===n.headeralign,onClick:function(){return t.updateTheme("headeralign","center")}},{icon:"editor-alignright",isActive:"right"===n.headeralign,onClick:function(){return t.updateTheme("headeralign","right")}},{icon:"editor-bold",isActive:1===y(n.headerbold),onClick:function(){return t.updateTheme("headerbold",1===y(n.headerbold)?0:1)}},{icon:"editor-italic",isActive:1===y(n.headeritalic),onClick:function(){return t.updateTheme("headeritalic",1===y(n.headeritalic)?0:1)}},{icon:"arrow-up",isActive:"uppercase"===n.headertexttransform,onClick:function(){return t.updateTheme("headertexttransform","uppercase"===n.headertexttransform?"none":"uppercase")}}]}))),1==window.mailTemplateDesigner.isMultiLanguageSite&&React.createElement(c.PanelBody,{title:(0,m.__)("Translation","wp-html-mail"),initialOpen:!1},React.createElement(c.PanelRow,null,React.createElement(c.FormToggle,{checked:E(n,"headertext"),onChange:function(e){return t.updateTheme("headertext_enable_translation",!E(n,"headertext"))}}),(0,m.__)("Enable translation for this field","wp-html-mail")),React.createElement(c.PanelRow,null,React.createElement("p",{className:"description"},(0,m.__)("If enabled you can use individual settings depending on the current language selected at the top of the page in your admin bar.","wp-html-mail")))));(0,o.useEffect)((function(){t.editingElement===r&&t.setPanelTitle(a)}),[t.editingElement]),(0,o.useEffect)((function(){t.editingElement===r&&t.setPanelOptions(l)}),[t.editingElement,n]);var i=v(n,"headertext"),s=w(n,"headertext");return React.createElement(R,{elementTitle:a,elementName:r,frameSize:"s",handleAlign:"right"},React.createElement("div",{className:r,style:{color:n.headercolor,textAlign:n.headeralign,fontSize:y(n.headerfontsize),fontFamily:n.headerfont,fontStyle:1===y(n.headeritalic)?"italic":"normal",fontWeight:1===y(n.headerbold)?"bold":"normal",textTransform:n.headertexttransform}},React.createElement(_.RichText,{tagName:"div",value:i,allowedFormats:[],onChange:function(e){return t.updateTheme(s,e)},placeholder:(0,m.__)("Header text","wp-html-mail")})))}function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach((function(t){P(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function P(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function k(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function j(e){!function(e){if(null==e)throw new TypeError("Cannot destructure undefined")}(e);var t,n,a=(0,o.useContext)(p),r=a.theme,l=(0,m.__)("Header image","wp-html-mail"),i="headerimage",s=(t=(0,o.useState)(),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,l=[],_n=!0,i=!1;try{for(n=n.call(e);!(_n=(a=n.next()).done)&&(l.push(a.value),!t||l.length!==t);_n=!0);}catch(e){i=!0,r=e}finally{try{_n||null==n.return||n.return()}finally{if(i)throw r}}return l}}(t,n)||function(e,t){if(e){if("string"==typeof e)return k(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?k(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),u=s[0],d=s[1],f=v(r,"headerimg"),h=w(r,"headerimg"),g=React.createElement(React.Fragment,null,React.createElement(c.PanelBody,{title:(0,m.__)("Image","wp-html-mail"),initialOpen:!0},React.createElement(c.PanelRow,null,React.createElement(c.Button,{className:"editor-post-featured-image__toggle",style:f?{backgroundImage:"url("+f+")"}:{},onClick:function(e){if(u)u.open();else{var t=wp.media.frames.file_frame=wp.media({multiple:!1});t.on("select",(function(){var e,n=t.state().get("selection").first().toJSON(),l=n.width>600?Math.round(n.height/n.width*600):n.height,i=n.width>600?600:n.width;a.settheme(O(O({},r),{},(P(e={},h,n.url),P(e,"headerimg_width",i),P(e,"headerimg_height",l),P(e,"headerimg_alt",n.alt),P(e,"headerimg_notice",""),e)))})),t.open(),d(t)}}},(0,m.__)("Select image","wp-html-mail"))),React.createElement(c.PanelRow,null,React.createElement(c.TextControl,{name:"headerimg",value:f,help:(0,m.__)("You can use this field to add an external image url.","wp-html-mail"),onChange:function(e){a.updateTheme(h,e)}})),r.headerimg_notice&&r.headerimg_notice.length>5&&React.createElement(c.PanelRow,null,React.createElement("p",{dangerouslySetInnerHTML:{__html:r.headerimg_notice}}))),React.createElement(c.PanelBody,{title:(0,m.__)("Size & Align","wp-html-mail"),initialOpen:!1},React.createElement(c.PanelRow,null,React.createElement(c.TextControl,{type:"number",onChange:function(e){a.updateTheme("headerimg_width",e)},value:y(r.headerimg_width,400),style:{width:70}}),React.createElement(c.TextControl,{type:"number",onChange:function(e){a.updateTheme("headerimg_height",e)},value:y(r.headerimg_height,100),style:{width:70}}),React.createElement(c.Toolbar,{controls:[{icon:"align-left",isActive:"left"===r.headerimg_align,onClick:function(){return a.updateTheme("headerimg_align","left")}},{icon:"align-center",isActive:"center"===r.headerimg_align,onClick:function(){return a.updateTheme("headerimg_align","center")}},{icon:"align-right",isActive:"right"===r.headerimg_align,onClick:function(){return a.updateTheme("headerimg_align","right")}}]})),("above_text"===r.headerimg_placement||"below_text"===r.headerimg_placement)&&React.createElement(React.Fragment,null,React.createElement(c.PanelRow,null,(0,m.__)("Spacing between image and text","wp-html-mail")),React.createElement(c.PanelRow,null,React.createElement(c.RangeControl,{beforeIcon:"sort",value:y(r.header_spacer,10),onChange:function(e){a.updateTheme("header_spacer",e)},min:0,max:100}))),React.createElement(c.PanelRow,null,React.createElement("p",null,(0,m.__)("If you would like to provide the header image in retina quality, upload an image with a higher resultion, such as for example 1200px x 400px and enter only half the size values in the input fields above (600 x 200).","wp-html-mail")))),1==window.mailTemplateDesigner.isMultiLanguageSite&&React.createElement(c.PanelBody,{title:(0,m.__)("Translation","wp-html-mail"),initialOpen:!0},React.createElement(c.PanelRow,null,React.createElement(c.FormToggle,{checked:E(r,"headerimg"),onChange:function(e){return a.updateTheme("headerimg_enable_translation",!E(r,"headerimg"))}}),(0,m.__)("Enable translation for this field","wp-html-mail")),React.createElement(c.PanelRow,null,React.createElement("p",{className:"description"},(0,m.__)("If enabled you can use individual settings depending on the current language selected at the top of the page in your admin bar.","wp-html-mail"))),React.createElement(c.PanelRow,null,React.createElement("p",{className:"description"},(0,m.__)("Please make sure all images have the same size because only the image url is language dependent.","wp-html-mail")))));(0,o.useEffect)((function(){a.editingElement===i&&a.setPanelTitle(l)}),[a.editingElement]),(0,o.useEffect)((function(){a.editingElement===i&&a.setPanelOptions(g)}),[a.editingElement,r]);var b=r.headerimg_align?r.headerimg_align:r.headeralign;return React.createElement(R,{elementTitle:l,elementName:i,frameSize:"s",handleAlign:"right"},React.createElement("div",{className:i,style:{textAlign:b}},r.headerimg?React.createElement(c.ResizableBox,{size:{height:parseInt(r.headerimg_height),width:parseInt(r.headerimg_width)},lockAspectRatio:parseInt(r.headerimg_width)/parseInt(r.headerimg_height),minHeight:"20",minWidth:"50",showHandle:a.editingElement===i,style:{marginTop:"below_text"===r.headerimg_placement?r.header_spacer+"px":"0px",marginBottom:"above_text"===r.headerimg_placement?r.header_spacer+"px":"0px"},enable:{top:!1,right:!1,bottom:!1,left:!1,topRight:!0,bottomRight:!0,bottomLeft:!0,topLeft:!0},onResizeStop:function(e,t,n,l){a.setTheme(O(O({},r),{},{headerimg_width:parseInt(r.headerimg_width)+l.width,headerimg_height:parseInt(r.headerimg_height)+l.height}))}},React.createElement("img",{src:f})):React.createElement("div",{className:"header-image-placeholder",style:{width:r.headerimg_width?r.headerimg_width+"px":"400px",height:r.headerimg_height?r.headerimg_height+"px":"100px",marginTop:"below_text"===r.headerimg_placement?r.header_spacer+"px":"0px",marginBottom:"above_text"===r.headerimg_placement?r.header_spacer+"px":"0px"}})))}function A(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function N(e){!function(e){if(null==e)throw new TypeError("Cannot destructure undefined")}(e);var t,n,a=(t=(0,o.useState)(1),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,l=[],_n=!0,i=!1;try{for(n=n.call(e);!(_n=(a=n.next()).done)&&(l.push(a.value),!t||l.length!==t);_n=!0);}catch(e){i=!0,r=e}finally{try{_n||null==n.return||n.return()}finally{if(i)throw r}}return l}}(t,n)||function(e,t){if(e){if("string"==typeof e)return A(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?A(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),r=a[0],l=a[1],i=(0,o.useContext)(p),s=i.theme,u=(0,m.__)("Email header","wp-html-mail"),d="header",f=s.headerimg_placement;f||(f=s.headerimg?"replace_text":"just_text");var h=React.createElement(React.Fragment,null,React.createElement(c.PanelBody,{title:(0,m.__)("Image and text placement","wp-html-mail"),initialOpen:!0},React.createElement(c.PanelRow,null,React.createElement(c.RadioControl,{selected:f,className:"mail-header-type",options:[{value:"just_text",label:React.createElement(c.Icon,{icon:React.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"278",height:"45",viewBox:"0 0 278 45"},React.createElement("g",{transform:"translate(-80 -463)"},React.createElement("rect",{width:"278",height:"45",transform:"translate(80 463)",fill:"#9cbecd"}),React.createElement("text",{transform:"translate(219 488)",fill:"#fff",fontSize:"18",fontFamily:"OpenSans-Extrabold, Open Sans",fontWeight:"800"},React.createElement("tspan",{x:"-28.208",y:"0"},"YOUR "),React.createElement("tspan",{x:"-44.868",y:"15"},"SITE TITLE")))),className:"mail-header-type-icon"})},{value:"replace_text",label:React.createElement(c.Icon,{icon:React.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"278",height:"71",viewBox:"0 0 278 71"},React.createElement("g",{transform:"translate(-81 -358)"},React.createElement("rect",{width:"278",height:"71",transform:"translate(81 358)",fill:"#9cbecd"}),React.createElement("g",{transform:"translate(-136 -101)"},React.createElement("path",{d:"M20,0,40,30H0Z",transform:"translate(347 490)",fill:"#fff"}),React.createElement("path",{d:"M14,0,28,21H0Z",transform:"translate(327 499)",fill:"#fff"}),React.createElement("circle",{cx:"7",cy:"7",r:"7",transform:"translate(326 478)",fill:"#fff"})))),className:"mail-header-type-icon"})},{value:"above_text",label:React.createElement(c.Icon,{icon:React.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"278",height:"90",viewBox:"0 0 278 90"},React.createElement("g",{transform:"translate(-80 -109)"},React.createElement("rect",{width:"278",height:"71",transform:"translate(80 109)",fill:"#9cbecd"}),React.createElement("g",{transform:"translate(-137 -350)"},React.createElement("path",{d:"M20,0,40,30H0Z",transform:"translate(347 490)",fill:"#fff"}),React.createElement("path",{d:"M14,0,28,21H0Z",transform:"translate(327 499)",fill:"#fff"}),React.createElement("circle",{cx:"7",cy:"7",r:"7",transform:"translate(326 478)",fill:"#fff"})),React.createElement("rect",{width:"278",height:"15",transform:"translate(80 184)",fill:"#9cbecd"}),React.createElement("text",{transform:"translate(220 195)",fill:"#fff",fontSize:"12",fontFamily:"OpenSans-Extrabold, Open Sans",fontWeight:"800"},React.createElement("tspan",{x:"-48.718",y:"0"},"YOUR SITE TITLE")))),className:"mail-header-type-icon"})},{value:"below_text",label:React.createElement(c.Icon,{icon:React.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"278",height:"92",viewBox:"0 0 278 92"},React.createElement("g",{transform:"translate(-80 -229)"},React.createElement("rect",{width:"278",height:"71",transform:"translate(80 250)",fill:"#9cbecd"}),React.createElement("g",{transform:"translate(-137 -209)"},React.createElement("path",{d:"M20,0,40,30H0Z",transform:"translate(347 490)",fill:"#fff"}),React.createElement("path",{d:"M14,0,28,21H0Z",transform:"translate(327 499)",fill:"#fff"}),React.createElement("circle",{cx:"7",cy:"7",r:"7",transform:"translate(326 478)",fill:"#fff"})),React.createElement("rect",{width:"278",height:"15",transform:"translate(80 231)",fill:"#9cbecd"}),React.createElement("text",{transform:"translate(220 242)",fill:"#fff",fontSize:"12",fontFamily:"OpenSans-Extrabold, Open Sans",fontWeight:"800"},React.createElement("tspan",{x:"-48.718",y:"0"},"YOUR SITE TITLE")))),className:"mail-header-type-icon"})}],onChange:function(e){i.updateTheme("headerimg_placement",e),g()}}))),React.createElement(c.PanelBody,{title:(0,m.__)("Background color","wp-html-mail"),initialOpen:!1},React.createElement(c.PanelRow,null,React.createElement(c.ColorPicker,{color:s.headerbackground,onChangeComplete:function(e){i.updateTheme("headerbackground",e.hex),g()},disableAlpha:!0}))),React.createElement(c.PanelBody,{title:(0,m.__)("Padding","wp-html-mail"),initialOpen:!1},React.createElement(c.PanelRow,null,React.createElement(c.RangeControl,{beforeIcon:"arrow-down",value:y(s.headerpaddingtop,10),onChange:function(e){i.updateTheme("headerpaddingtop",e),g()},min:0,max:100})),React.createElement(c.PanelRow,null,React.createElement(c.RangeControl,{beforeIcon:"arrow-left",value:y(s.headerpaddingright,10),onChange:function(e){i.updateTheme("headerpaddingright",e),g()},min:0,max:100})),React.createElement(c.PanelRow,null,React.createElement(c.RangeControl,{beforeIcon:"arrow-up",value:y(s.headerpaddingbottom,10),onChange:function(e){i.updateTheme("headerpaddingbottom",e),g()},min:0,max:100})),React.createElement(c.PanelRow,null,React.createElement(c.RangeControl,{beforeIcon:"arrow-right",value:y(s.headerpaddingleft,10),onChange:function(e){i.updateTheme("headerpaddingleft",e),g()},min:0,max:100}))));(0,o.useEffect)((function(){i.editingElement===d&&i.setPanelTitle(u)}),[i.editingElement]),(0,o.useEffect)((function(){i.editingElement===d&&i.setPanelOptions(h)}),[i.editingElement,s]);var g=function(){l(Math.random().toString(36).replace(/[^a-z]+/g,"").substr(0,5))};return React.createElement(R,{elementTitle:u,elementName:d,key:r},React.createElement("div",{className:"mail-header",style:{backgroundColor:s.headerbackground,paddingTop:y(s.headerpaddingtop),paddingRight:y(s.headerpaddingright),paddingBottom:y(s.headerpaddingbottom),paddingLeft:y(s.headerpaddingleft)}},"replace_text"===f&&React.createElement(j,null),"above_text"===f&&React.createElement(React.Fragment,null,React.createElement(j,null),React.createElement(x,null)),"below_text"===f&&React.createElement(React.Fragment,null,React.createElement(x,null),React.createElement(j,null)),"just_text"===f&&React.createElement(x,null)))}function I(e){!function(e){if(null==e)throw new TypeError("Cannot destructure undefined")}(e);var t=(0,o.useContext)(p),n=t.theme,a=(0,m.__)("Email content","wp-html-mail"),r="content",l=React.createElement(React.Fragment,null,React.createElement(c.PanelBody,{title:(0,m.__)("Background color","wp-html-mail"),initialOpen:!1},React.createElement(c.PanelRow,null,React.createElement(c.ColorPicker,{color:n.contentbackground,onChangeComplete:function(e){t.updateTheme("contentbackground",e.hex)},disableAlpha:!0}))),React.createElement(c.PanelBody,{title:(0,m.__)("Headline Font","wp-html-mail"),initialOpen:!1},React.createElement(c.PanelRow,null,React.createElement(c.SelectControl,{value:n.headlinefont,options:t.availableFonts,onChange:function(e){t.updateTheme("headlinefont",e)}}),React.createElement(c.TextControl,{type:"number",onChange:function(e){t.updateTheme("headlinefontsize",e)},value:y(n.headlinefontsize)}),React.createElement(T,{color:n.headlinecolor,onChange:function(e){t.updateTheme("headlinecolor",e.hex)}})),React.createElement(c.PanelRow,null,React.createElement(c.Toolbar,{controls:[{icon:"editor-alignleft",isActive:"left"===n.headlinealign,onClick:function(){return t.updateTheme("headlinealign","left")}},{icon:"editor-aligncenter",isActive:"center"===n.headlinealign,onClick:function(){return t.updateTheme("headlinealign","center")}},{icon:"editor-alignright",isActive:"right"===n.headlinealign,onClick:function(){return t.updateTheme("headlinealign","right")}},{icon:"editor-bold",isActive:1===y(n.headlinebold),onClick:function(){return t.updateTheme("headlinebold",1===y(n.headlinebold)?0:1)}},{icon:"editor-italic",isActive:1===y(n.headlineitalic),onClick:function(){return t.updateTheme("headlineitalic",1===y(n.headlineitalic)?0:1)}},{icon:"arrow-up",isActive:"uppercase"===n.headlinetexttransform,onClick:function(){return t.updateTheme("headlinetexttransform","uppercase"===n.headlinetexttransform?"none":"uppercase")}}]}))),React.createElement(c.PanelBody,{title:(0,m.__)("Subheadline Font","wp-html-mail"),initialOpen:!1},React.createElement(c.PanelRow,null,React.createElement(c.SelectControl,{value:n.subheadlinefont,options:t.availableFonts,onChange:function(e){t.updateTheme("subheadlinefont",e)}}),React.createElement(c.TextControl,{type:"number",onChange:function(e){t.updateTheme("subheadlinefontsize",e)},value:y(n.subheadlinefontsize)}),React.createElement(T,{color:n.subheadlinecolor,onChange:function(e){t.updateTheme("subheadlinecolor",e.hex)}})),React.createElement(c.PanelRow,null,React.createElement(c.Toolbar,{controls:[{icon:"editor-alignleft",isActive:"left"===n.subheadlinealign,onClick:function(){return t.updateTheme("subheadlinealign","left")}},{icon:"editor-aligncenter",isActive:"center"===n.subheadlinealign,onClick:function(){return t.updateTheme("subheadlinealign","center")}},{icon:"editor-alignright",isActive:"right"===n.subheadlinealign,onClick:function(){return t.updateTheme("subheadlinealign","right")}},{icon:"editor-bold",isActive:1===y(n.subheadlinebold),onClick:function(){return t.updateTheme("subheadlinebold",1===y(n.subheadlinebold)?0:1)}},{icon:"editor-italic",isActive:1===y(n.subheadlineitalic),onClick:function(){return t.updateTheme("subheadlineitalic",1===y(n.subheadlineitalic)?0:1)}},{icon:"arrow-up",isActive:"uppercase"===n.subheadlinetexttransform,onClick:function(){return t.updateTheme("subheadlinetexttransform","uppercase"===n.subheadlinetexttransform?"none":"uppercase")}}]}))),React.createElement(c.PanelBody,{title:(0,m.__)("Content Font","wp-html-mail"),initialOpen:!1},React.createElement(c.PanelRow,null,React.createElement(c.SelectControl,{value:n.textfont,options:t.availableFonts,onChange:function(e){t.updateTheme("textfont",e)}}),React.createElement(c.TextControl,{type:"number",onChange:function(e){t.updateTheme("textfontsize",e)},value:y(n.textfontsize)}),React.createElement(T,{color:n.textcolor,onChange:function(e){t.updateTheme("textcolor",e.hex)}})),React.createElement(c.PanelRow,null,React.createElement(c.Toolbar,{controls:[{icon:"editor-alignleft",isActive:"left"===n.textalign,onClick:function(){return t.updateTheme("textalign","left")}},{icon:"editor-aligncenter",isActive:"center"===n.textalign,onClick:function(){return t.updateTheme("textalign","center")}},{icon:"editor-alignright",isActive:"right"===n.textalign,onClick:function(){return t.updateTheme("textalign","right")}},{icon:"editor-bold",isActive:1===y(n.textbold),onClick:function(){return t.updateTheme("textbold",1===y(n.textbold)?0:1)}},{icon:"editor-italic",isActive:1===y(n.textitalic),onClick:function(){return t.updateTheme("textitalic",1===y(n.textitalic)?0:1)}}]}))),React.createElement(c.PanelBody,{title:(0,m.__)("Link styling","wp-html-mail"),initialOpen:!1},React.createElement(c.PanelRow,null,React.createElement(c.Toolbar,{controls:[{icon:"editor-bold",isActive:1===y(n.linkbold),onClick:function(){return t.updateTheme("linkbold",1===y(n.linkbold)?0:1)}},{icon:"editor-italic",isActive:1===y(n.linkitalic),onClick:function(){return t.updateTheme("linkitalic",1===y(n.linkitalic)?0:1)}},{icon:"editor-underline",isActive:1===y(n.linkunderline),onClick:function(){return t.updateTheme("linkunderline",1===y(n.linkunderline)?0:1)}},{icon:"arrow-up",isActive:"uppercase"===n.linktexttransform,onClick:function(){return t.updateTheme("linktexttransform","uppercase"===n.linktexttransform?"none":"uppercase")}}]}),React.createElement(T,{color:n.linkcolor,onChange:function(e){t.updateTheme("linkcolor",e.hex)}}))),React.createElement(c.PanelRow,{className:"mail-info-panel"},React.createElement("p",null,(0,m.__)("Do you wonder why you can't change the email content?","wp-html-mail"),React.createElement("br",null),(0,m.__)("This is not a newsletter tool, this plugins catches all outgoing WordPress emails as well as mails from most of your plugins and wraps those messages in your nice template. So the content could come from your contact form, a comment notification your store sales and many more emails.","wp-html-mail"))));(0,o.useEffect)((function(){t.editingElement===r&&t.setPanelTitle(a)}),[t.editingElement]),(0,o.useEffect)((function(){t.editingElement===r&&t.setPanelOptions(l)}),[t.editingElement,n]);var i={fontSize:y(n.headlinefontsize),fontFamily:n.headlinefont,fontStyle:1===y(n.headlineitalic)?"italic":"normal",fontWeight:1===y(n.headlinebold)?"bold":"normal",textTransform:n.headlinetexttransform,color:n.headlinecolor,textAlign:n.headlinealign,lineHeight:1.5,marginTop:"0.67em",marginBottom:"0.67em"},s={fontSize:y(n.subheadlinefontsize),fontFamily:n.subheadlinefont,fontStyle:1===y(n.subheadlineitalic)?"italic":"normal",fontWeight:1===y(n.subheadlinebold)?"bold":"normal",textTransform:n.subheadlinetexttransform,color:n.subheadlinecolor,textAlign:n.subheadlinealign,lineHeight:1.5,marginTop:"0.83em",marginBottom:"0.83em"},u={fontSize:y(n.textfontsize),fontFamily:n.textfont,fontStyle:1===y(n.textitalic)?"italic":"normal",fontWeight:1===y(n.textbold)?"bold":"normal",color:n.textcolor,textAlign:n.textalign,lineHeight:1.5,marginTop:"0.83em",marginBottom:"0.83em"},d={fontStyle:1===y(n.linkitalic)?"italic":"normal",fontWeight:1===y(n.linkbold)?"bold":"normal",textDecoration:1===y(n.linkunderline)?"underline":"none",textTransform:n.linktexttransform,color:n.linkcolor};return React.createElement(R,{elementTitle:a,elementName:r},React.createElement("div",{className:"mail-content clearfix",style:{backgroundColor:n.contentbackground}},React.createElement("h1",{style:i},"Lorem ipsum dolor sit amet"),React.createElement("p",{style:u},"Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed"," ",React.createElement("a",{href:"#",style:d},"diam nonumy")," ","eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum.",React.createElement("br",null),"Stet clita kasd gubergren, no sea takimata sanctus est Lorem ipsum dolor sit amet."),React.createElement("h2",{style:s},"Sed diam nonumy eirmod tempor"),React.createElement("p",{style:u},"Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua.")))}function D(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function B(e){!function(e){if(null==e)throw new TypeError("Cannot destructure undefined")}(e);var t,n,a=(0,o.useContext)(p),r=(t=(0,o.useState)(!1),n=2,function(e){if(Array.isArray(e))return e}(t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,l=[],_n=!0,i=!1;try{for(n=n.call(e);!(_n=(a=n.next()).done)&&(l.push(a.value),!t||l.length!==t);_n=!0);}catch(e){i=!0,r=e}finally{try{_n||null==n.return||n.return()}finally{if(i)throw r}}return l}}(t,n)||function(e,t){if(e){if("string"==typeof e)return D(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?D(e,t):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),l=(r[0],r[1]),i=a.theme,s=(0,m.__)("Email footer","wp-html-mail"),u="footer",d=v(i,"footer");d&&d.replace(/\\(.)/gm,"$1");var f=w(i,"footer"),h=React.createElement(React.Fragment,null,React.createElement(c.PanelBody,{title:(0,m.__)("Background color","wp-html-mail"),initialOpen:!1},React.createElement(c.PanelRow,null,React.createElement(c.ColorPicker,{color:i.footerbackground,onChangeComplete:function(e){a.updateTheme("footerbackground",e.hex)},disableAlpha:!0}))),React.createElement(c.PanelBody,{title:(0,m.__)("Edit HTML","wp-html-mail"),initialOpen:!1},React.createElement(c.PanelRow,null,React.createElement(c.TextareaControl,{help:(0,m.__)("Just in case the editor on the left is not flexible enough you can use this field to edit the HTML code.","wp-html-mail"),className:"footer-html",value:d,onChange:function(e){a.updateTheme(f,e)},placeholder:(0,m.__)("your code snippet…")}))),1==window.mailTemplateDesigner.isMultiLanguageSite&&React.createElement(c.PanelBody,{title:(0,m.__)("Translation","wp-html-mail"),initialOpen:!1},React.createElement(c.PanelRow,null,React.createElement(c.FormToggle,{checked:E(i,"footer"),onChange:function(e){return a.updateTheme("footer_enable_translation",!E(i,"footer"))}}),(0,m.__)("Enable translation for this field","wp-html-mail")),React.createElement(c.PanelRow,null,React.createElement("p",{className:"description"},(0,m.__)("If enabled you can use individual settings depending on the current language selected at the top of the page in your admin bar.","wp-html-mail"))))),g=function(e){l(e),d&&e.on("loadContent",(function(){return e.setContent(d)})),e.on("blur",(function(){return a.updateTheme(f,e.getContent()),!1}))};return(0,o.useEffect)((function(){a.editingElement===u&&a.setPanelTitle(s)}),[a.editingElement]),(0,o.useEffect)((function(){a.editingElement===u?(a.setPanelOptions(h),window.setTimeout((function(){var e="";a.availableFonts.forEach((function(t){e+=t.label+"="+t.value+";"})),wp.oldEditor.initialize("footer-html",{tinymce:{inline:!0,content_css:!1,fixed_toolbar_container:"footer-editor-toolbar",toolbar1:"fontselect,fontsizeselect,|,undo,redo",toolbar2:"forecolor,|,bold,italic,|,alignleft,aligncenter,alignright,|,pastetext,|,link,unlink",font_formats:e,fontsize_formats:"10px 11px 12px 13px 14px 15px 16px 17px 18px 20px 22px 24px 26px 28px 30px 35px 40px",setup:g}})}),1e3)):wp.oldEditor.remove("footer-html")}),[a.editingElement,i]),React.createElement(R,{elementTitle:s,elementName:u},React.createElement("div",{className:"mail-footer clearfix",style:{backgroundColor:i.footerbackground}},React.createElement("div",{key:"editor",id:"footer-html",className:"wp-block-freeform block-library-rich-text__tinymce",dangerouslySetInnerHTML:{__html:d}})))}function M(){var e=(0,o.useContext)(p),t=e.theme,n=(0,m.__)("Email Container","wp-html-mail"),a="container",r=React.createElement(c.PanelBody,{title:(0,m.__)("Background color","wp-html-mail"),initialOpen:!0},React.createElement(c.PanelRow,null,React.createElement(c.ColorPicker,{color:t.background,onChangeComplete:function(t){e.updateTheme("background",t.hex)},disableAlpha:!0})));return(0,o.useEffect)((function(){e.loadTheme()}),[]),(0,o.useEffect)((function(){e.editingElement===a&&e.setPanelTitle(n)}),[e.editingElement]),(0,o.useEffect)((function(){e.editingElement===a&&e.setPanelOptions(r)}),[e.editingElement,t]),e.isLoading||!e.theme?React.createElement("div",{className:"mail-loader"},React.createElement(c.Spinner,null)):React.createElement("div",{className:"mail-designer"},React.createElement("div",{className:"mail-container",style:{backgroundColor:t.background}},React.createElement("div",{className:"save-button-pane components-panel__header"},React.createElement(c.Button,{isSecondary:!0,href:window.mailTemplateDesigner.templateLibraryUrl,style:{marginRight:10}},(0,m.__)("Browse our template library","wp-html-mail")),React.createElement(c.Button,{isPrimary:!0,isBusy:e.isSaving,onClick:function(t){t.preventDefault(),e.saveTheme((function(){e.setInfoMessage((0,m.__)("Your settings have been saved.","wp-html-mail")),setTimeout((function(){e.setInfoMessage("")}),7e3)}))}},(0,m.__)("Save and Preview","wp-html-mail"))),React.createElement(R,{elementTitle:n,elementName:a,frameSize:"xs"},React.createElement("div",{className:"mail-content-wrap"},React.createElement(N,null),React.createElement(I,null),React.createElement(B,null)))),React.createElement(b,null))}var L=window.wp.data,z=window.wp.coreData;function F(e){return function(e){if(Array.isArray(e))return W(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return W(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?W(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function W(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function H(){var e=(0,o.useContext)(p),t=e.settings;(0,o.useEffect)((function(){e.loadSettings()}),[]);var n,a=(n=[],["smtp","mandrill"].forEach((function(e){var t=(0,L.useSelect)((function(t){return t(z.store).getEntityRecords("root","plugin",{search:e,status:"active"})}),[]);t&&t.length&&(n=[].concat(F(n),F(t)))})),0!==n.length&&n[0].name);return e.isLoading||!e.theme?React.createElement("div",{className:"mail-loader"},React.createElement(c.Spinner,null)):React.createElement("div",{className:"mail-settings"},a&&React.createElement(c.Notice,{status:"warning",isDismissible:!1},React.createElement("p",null,(0,m.sprintf)((0,m.__)("It seems you are using an email delivery plugin (%s).","wp-html-mail"),a)),React.createElement("p",null,(0,m.sprintf)((0,m.__)("Please make sure you use the same email address here as in %s. Otherwise your emails could be categorized as junk or not delivered at all.","wp-html-mail"),a))),React.createElement(c.Card,{className:"mail-settings-content"},React.createElement(c.CardHeader,null,React.createElement("h3",null,(0,m.__)("Email sender","wp-html-mail"))),React.createElement(c.CardBody,null,React.createElement("p",null,(0,m.__)('Typically WordPress sends all emails using "WordPress" as sender name and "wordpress@yourserver.com" as sender address which is totally fine for admin notifications but not for any kind of emails to you users.',"wp-html-mail"))),React.createElement(c.CardBody,null,React.createElement(c.TextControl,{type:"text",label:(0,m.__)("Email sender name","wp-html-mail"),onChange:function(t){e.updateSetting("fromname",t)},value:t.fromname?t.fromname:""})),React.createElement(c.CardBody,null,React.createElement(c.TextControl,{type:"email",label:(0,m.__)("Email sender address","wp-html-mail"),onChange:function(t){e.updateSetting("fromaddress",t)},value:t.fromaddress?t.fromaddress:""})),React.createElement(c.CardDivider,null),React.createElement(c.CardBody,null,React.createElement(c.CheckboxControl,{label:(0,m.__)("Do not change email sender by default","wp-html-mail"),help:(0,m.__)('Normally we change the sender name and sender address of all emails. You can customize this for each plugin on tab "Plugins" but you can also set a default value here.',"wp-html-mail"),checked:!!t.disable_sender&&t.disable_sender,onChange:function(t){e.updateSetting("disable_sender",t)}}))),React.createElement("div",{className:"save-button-pane-bottom"},React.createElement(c.Button,{isPrimary:!0,isBusy:e.isSaving,onClick:function(t){t.preventDefault(),e.saveSettings((function(){e.setInfoMessage((0,m.__)("Your settings have been saved.","wp-html-mail")),setTimeout((function(){e.setInfoMessage("")}),7e3)}))}},(0,m.__)("Save settings","wp-html-mail"))))}function U(){var e=(0,o.useContext)(p),t=e.settings;return(0,o.useEffect)((function(){e.loadSettings()}),[]),e.isLoading||!e.theme?React.createElement("div",{className:"mail-loader"},React.createElement(c.Spinner,null)):React.createElement("div",{className:"mail-settings"},React.createElement(c.Card,{className:"mail-settings-content"},React.createElement(c.CardHeader,null,React.createElement("h3",null,(0,m.__)("Redirect emails / Email test mode","wp-html-mail"))),React.createElement(c.CardBody,null,React.createElement("p",null,(0,m.__)("If you want to avoid emails being sent to users or customers, you can temporary redirect all mails to another recipient.","wp-html-mail"))),React.createElement(c.CardBody,null,React.createElement(c.CheckboxControl,{label:(0,m.__)("Redirect all emails","wp-html-mail"),checked:!(!t.testmode||"0"===t.testmode)&&t.testmode,onChange:function(t){e.updateSetting("testmode",t)}})),t.testmode&&React.createElement(c.CardBody,null,React.createElement(c.TextControl,{type:"email",label:(0,m.__)("Recipient address","wp-html-mail"),onChange:function(t){e.updateSetting("testmode_recipient",t)},value:t.testmode_recipient?t.testmode_recipient:""})),t.testmode&&React.createElement(c.CardBody,null,React.createElement(c.CheckboxControl,{label:(0,m.__)("also enable debug outputs","wp-html-mail"),checked:!(!t.debugmode||"0"===t.debugmode)&&t.debugmode,onChange:function(t){e.updateSetting("debugmode",t)}})),React.createElement(c.CardDivider,null)),React.createElement("div",{className:"save-button-pane-bottom"},React.createElement(c.Button,{isPrimary:!0,isBusy:e.isSaving,onClick:function(t){t.preventDefault(),e.saveSettings((function(){e.setInfoMessage((0,m.__)("Your settings have been saved.","wp-html-mail")),setTimeout((function(){e.setInfoMessage("")}),7e3)}))}},(0,m.__)("Save settings","wp-html-mail"))))}function q(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function Y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?q(Object(n),!0).forEach((function(t){$(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):q(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function $(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function X(e){var t=e.plugins,n=(0,o.useContext)(p),a=n.setPluginSettings,r=n.pluginSettings,l=n.loadPluginSettings;(0,o.useEffect)((function(){l()}),[]);var i=function(e,t,l){var i=Y(Y({},r),{},$({},e,Y(Y({},r[e]),{},$({},t,l))));a(i),n.savePluginSettings((function(){n.setInfoMessage((0,m.__)("Your settings have been saved.","wp-html-mail")),setTimeout((function(){n.setInfoMessage("")}),7e3)}),i)};return n.isLoading||!n.theme?React.createElement("div",{className:"mail-loader"},React.createElement(c.Spinner,null)):React.createElement("div",{className:"mail-pluginSettings"},React.createElement(c.Card,{className:"mail-pluginSettings-content"},React.createElement(c.CardHeader,null,React.createElement("h3",null,(0,m.__)("Plugins","wp-html-mail"))),React.createElement(c.CardBody,null,React.createElement("p",null,(0,m.__)("We try to detect the plugins sending emails so you can customize some settings for each type of emails.","wp-html-mail"))),React.createElement(c.CardDivider,null),React.createElement(c.CardBody,null,React.createElement(c.Panel,{header:(0,m.__)("Active plugins","wp-html-mail")},t.filter((function(e){return e.active})).map((function(e){return React.createElement(c.PanelBody,{key:e.name,title:React.createElement(React.Fragment,null,e.image_url&&React.createElement("img",{src:e.image_url,className:"mail-plugin-icon"}),e.display_name),initialOpen:!1},React.createElement(c.PanelRow,null,e.has_addon&&!e.is_addon_active&&e.addon_url?React.createElement(c.Button,{isSecondary:!0,href:e.addon_url.replaceAll("&amp;","&")},(0,m.__)("get WP HTML Mail for","wp-html-mail")+" "+e.display_name):r.hasOwnProperty(e.name)?React.createElement(React.Fragment,null,React.createElement(c.ToggleControl,{label:(0,m.__)("Use template","wp-html-mail"),checked:!r[e.name]||!r[e.name].hasOwnProperty("template")||r[e.name].template,onChange:function(t){i(e.name,"template",t)}}),React.createElement(c.ToggleControl,{label:(0,m.__)("Overwrite sender","wp-html-mail"),checked:!(!r[e.name]||!r[e.name].hasOwnProperty("sender"))&&r[e.name].sender,onChange:function(t){i(e.name,"sender",t)}}),React.createElement(c.ToggleControl,{label:(0,m.__)("Hide header","wp-html-mail"),checked:!(!r[e.name]||!r[e.name].hasOwnProperty("hide_header"))&&r[e.name].hide_header,onChange:function(t){i(e.name,"hide_header",t)}}),React.createElement(c.ToggleControl,{label:(0,m.__)("Hide footer","wp-html-mail"),checked:!(!r[e.name]||!r[e.name].hasOwnProperty("hide_footer"))&&r[e.name].hide_footer,onChange:function(t){i(e.name,"hide_footer",t)}})):React.createElement(c.Spinner,null)))}))),React.createElement("br",null),React.createElement("br",null),React.createElement(c.Panel,{header:(0,m.__)("More supported plugins","wp-html-mail")},t.filter((function(e){return!e.active})).map((function(e){return React.createElement(c.PanelBody,{key:e.name,title:React.createElement(React.Fragment,null,e.image_url&&React.createElement("img",{src:e.image_url,className:"mail-plugin-icon"}),e.display_name),initialOpen:!1},React.createElement(c.PanelRow,null,e.installation_url&&React.createElement(c.Button,{isSecondary:!0,href:e.installation_url.replaceAll("&amp;","&")},(0,m.__)("install","wp-html-mail")+" "+e.display_name),e.addon_url&&React.createElement(c.Button,{isSecondary:!0,href:e.addon_url.replaceAll("&amp;","&")},(0,m.__)("get WP HTML Mail for","wp-html-mail")+" "+e.display_name)))}))))))}function G(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function J(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?G(Object(n),!0).forEach((function(t){Z(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):G(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Z(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function K(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function Q(){var e,t,n=(0,o.useContext)(p),a=n.settings,r=(e=(0,o.useState)({}),t=2,function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,l=[],_n=!0,i=!1;try{for(n=n.call(e);!(_n=(a=n.next()).done)&&(l.push(a.value),!t||l.length!==t);_n=!0);}catch(e){i=!0,r=e}finally{try{_n||null==n.return||n.return()}finally{if(i)throw r}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return K(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?K(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),l=r[0],i=r[1];return(0,o.useEffect)((function(){n.loadSettings()}),[]),(0,o.useEffect)((function(){0===Object.keys(l).length&&Object.keys(a.email_post_ids).map((function(e){var t=new Request(window.mailTemplateDesigner.restUrl.replace("whm/v3","wp/v2")+"wphtmlmail_mail?_fields=id,date&per_page=100&search="+e,{method:"GET",headers:{"Content-Type":"application/json","X-WP-Nonce":window.mailTemplateDesigner.nonce},credentials:"same-origin"});fetch(t).then((function(e){return e.json()})).then((function(t){t.length>0&&i((function(n){var a=[];return t.forEach((function(e){a.push({label:e.date,value:e.id})})),J(J({},n),{},Z({},e,a))}))}))}))}),[a]),n.isLoading||!n.theme?React.createElement("div",{className:"mail-loader"},React.createElement(c.Spinner,null)):l&&0!==Object.keys(l).length?(console.log(l),React.createElement("div",{className:"mail-settings"},React.createElement(c.Card,{className:"mail-settings-content"},React.createElement(c.CardHeader,null,React.createElement("h3",null,(0,m.__)("WP HTML Mail WooCommerce Update:","wp-html-mail"),React.createElement("br",null),(0,m.__)("Debug and restore template mapping","wp-html-mail"))),React.createElement(c.CardBody,null,React.createElement("p",null,(0,m.__)("If you lost your WooCommerce templates during an update you can restore them here:","wp-html-mail"))),a.email_post_ids&&Object.keys(a.email_post_ids).length>0&&React.createElement(c.CardBody,null,Object.keys(a.email_post_ids).filter((function(e){return l.hasOwnProperty(e)})).map((function(e){return React.createElement("div",{key:e,style:{width:200,marginBottom:15}},React.createElement(c.SelectControl,{label:e.replace("WC_Email_",""),size:"small",value:a.email_post_ids[e],options:l[e],onChange:function(t){n.updateSetting("email_post_ids",J(J({},a.email_post_ids),{},Z({},e,t)))}}))}))),React.createElement(c.CardDivider,null)),React.createElement("div",{className:"save-button-pane-bottom"},React.createElement(c.Button,{isPrimary:!0,isBusy:n.isSaving,onClick:function(e){e.preventDefault(),n.saveSettings((function(){n.setInfoMessage((0,m.__)("Your settings have been saved.","wp-html-mail")),setTimeout((function(){n.setInfoMessage("")}),7e3)}))}},(0,m.__)("Save settings","wp-html-mail"))))):null}function V(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function ee(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?V(Object(n),!0).forEach((function(t){te(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):V(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function te(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ne(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,l=[],_n=!0,i=!1;try{for(n=n.call(e);!(_n=(a=n.next()).done)&&(l.push(a.value),!t||l.length!==t);_n=!0);}catch(e){i=!0,r=e}finally{try{_n||null==n.return||n.return()}finally{if(i)throw r}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return ae(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ae(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ae(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function re(){var e=(0,o.useContext)(p),t=e.setSettings,n=e.settings,a=e.theme,r=ne((0,o.useState)(""),2),l=r[0],i=r[1],s=ne((0,o.useState)(""),2),u=s[0],d=s[1];(0,o.useEffect)((function(){e.loadSettings(),e.loadTheme(),f()}),[]);var f=function(){var e=new Request(window.mailTemplateDesigner.restUrl+"advancedactions",{method:"GET",headers:{"Content-Type":"application/json","X-WP-Nonce":window.mailTemplateDesigner.nonce},credentials:"same-origin"});fetch(e).then((function(e){return e.json()})).then((function(e){d(e)}))},h=function(t){return React.createElement(React.Fragment,null,t.map((function(t,n){return React.createElement(c.Button,{variant:"secondary",key:"advanced-action-"+n,href:t.href,disabled:t.disabled,showTooltip:Boolean(t.tooltip),label:t.tooltip?t.tooltip:null,className:"mail-advanced-action-button",onClick:function(n){t.confirm&&(n.preventDefault(),e.setConfirmDialog({message:t.confirm,callback:function(){window.location.href=t.href}}))}},t.caption)})))};return e.isLoading||!e.theme?React.createElement("div",{className:"mail-loader"},React.createElement(c.Spinner,null)):React.createElement("div",{className:"mail-settings"},React.createElement(c.Card,{className:"mail-settings-content"},React.createElement(c.CardHeader,null,React.createElement("h3",null,(0,m.__)("Advanced features","wp-html-mail"))),React.createElement(c.CardBody,null,React.createElement(c.ToggleControl,{label:(0,m.__)("Allow HTML code in plain text content type","wp-html-mail"),checked:!(!n.invalid_contenttype_to_html||"0"===n.invalid_contenttype_to_html)&&n.invalid_contenttype_to_html,help:(0,m.__)("From security perspective you should not enable this option but some plugin developers send HTML code in their emails without setting the correct content type header, so you might see HTML tags in your emails.","wp-html-mail"),onChange:function(a){var r=ee(ee({},n),{},{invalid_contenttype_to_html:a});t(r),e.saveSettings((function(){e.setInfoMessage((0,m.__)("Your settings have been saved.","wp-html-mail")),setTimeout((function(){e.setInfoMessage("")}),4e4)}),r)}})),React.createElement(c.CardDivider,null),React.createElement(c.CardBody,null,React.createElement(c.Panel,{className:"mail-settings-content"},React.createElement(c.PanelBody,{title:(0,m.__)("Export template","wp-html-mail"),initialOpen:!1},React.createElement(c.PanelRow,null,React.createElement(c.TextareaControl,{help:(0,m.__)("Copy the settings above and paste into another site.","wp-html-mail"),readOnly:!0,className:"mail-import-export",value:JSON.stringify(a)}))),React.createElement(c.PanelBody,{title:(0,m.__)("Import template","wp-html-mail"),initialOpen:!1},React.createElement(c.PanelRow,null,React.createElement(c.TextareaControl,{help:(0,m.__)("Paste settings from another site to the field above.","wp-html-mail"),className:"mail-import-export",value:l,onChange:function(e){i(e)}})),React.createElement(c.PanelRow,null,React.createElement(c.Button,{variant:"secondary",onClick:function(t){try{var n=JSON.parse(l),a=ee({},e.theme);console.log(n),Object.keys(a).forEach((function(e){e in n&&(a[e]=n[e])})),e.setTheme(a),e.saveTheme(null,a),e.setInfoMessage((0,m.__)("Your settings have been imported.","wp-html-mail")),setTimeout((function(){e.setInfoMessage("")}),7e3),setTimeout((function(){i("")}),5e3)}catch(t){e.setErrorMessage((0,m.__)("Your settings could not be imported.","wp-html-mail")),setTimeout((function(){e.setErrorMessage("")}),15e3)}}},(0,m.__)("Start Import","wp-html-mail")))))),u&&u.template&&React.createElement(c.CardBody,null,React.createElement("h3",null,(0,m.__)("Create custom template","wp-html-mail")),h(u.template.buttons),u.template.description&&React.createElement("div",{dangerouslySetInnerHTML:{__html:u.template.description}})),React.createElement(c.CardDivider,null),u&&u.reset&&React.createElement(c.CardBody,null,React.createElement("h3",null,(0,m.__)("Delete plugin settings","wp-html-mail")),h(u.reset.buttons),u.reset.description&&React.createElement("div",{dangerouslySetInnerHTML:{__html:u.reset.description}})),u&&u.debug&&u.debug.buttons&&u.debug.buttons.length>0&&React.createElement(React.Fragment,null,React.createElement(c.CardDivider,null),React.createElement(c.CardBody,null,React.createElement("h3",null,(0,m.__)("Debug","wp-html-mail")),h(u.debug.buttons),u.debug.description&&React.createElement("div",{dangerouslySetInnerHTML:{__html:u.debug.description}}))),n&&n.email_post_ids&&Object.keys(n.email_post_ids).length>0&&React.createElement(Q,null)))}function le(){return React.createElement("div",{className:"mail-settings"},React.createElement("link",{href:"https://fonts.googleapis.com/css2?family=Montserrat:wght@100;200;300&family=Oswald:wght@300&family=Rock+Salt&family=Train+One&display=swap",rel:"stylesheet"}),React.createElement("div",{id:"wp-html-mail-webfonts-sales-page"},React.createElement("div",{className:"webfonts-intro"},React.createElement("div",{className:"small-heading"},"Are"),React.createElement("div",{className:"huge-heading"},"Webfonts"),React.createElement("div",{className:"small-heading"},"ready to be used in"),React.createElement("div",{className:"huge-heading"},"Emails?"),React.createElement("div",{className:"hand"},"** or is it still too experimental? **")),React.createElement("div",{className:"webfonts-facts"},React.createElement("h2",null,(0,m.__)("The facts","wp-html-mail")),React.createElement("p",null,(0,m.__)("According to caniemail.com webfonts in emails work for just around 52% of users.","wp-html-mail"),React.createElement("br",null),(0,m.__)("To be honest, this is a really bad value! So what does it mean for us?","wp-html-mail")),React.createElement("ol",null,React.createElement("li",null,React.createElement("h3",null,(0,m.__)("Choose fonts with suitable fallbacks","wp-html-mail")),React.createElement("p",null,(0,m.__)("Those users whose email clients do not support webfonts will see an alternative font so use webfonts that can be replaced easily by a standard font without destroying your complete email design.","wp-html-mail"))),React.createElement("li",null,React.createElement("h3",null,(0,m.__)("Know your recipients","wp-html-mail")),React.createElement("p",null,(0,m.__)("If you already know how many of your recipients use Outlook, Gmail, Apple Mail, Thunderbird, ... check the stats on whether or not it even makes sense to use non standard fonts.","wp-html-mail"),React.createElement("br",null),React.createElement("a",{href:"https://www.caniemail.com/features/css-at-font-face/",target:"_blank"},(0,m.__)("caniemail.com statistics","wp-html-mail")))),React.createElement("li",null,React.createElement("h3",null,(0,m.__)("Test, test, test","wp-html-mail")),React.createElement("p",null,(0,m.__)("Test your emails in multiple email clients to make sure they look either great or at least ok and not completely different than expected.","wp-html-mail"),React.createElement("br",null),React.createElement("a",{href:"https://codemiq.com/en/webfonts-in-wordpress-emails/",target:"_blank"},(0,m.__)("See our own tests here","wp-html-mail")))))),React.createElement("div",{className:"webfonts-cta-bar"},React.createElement("h3",null,(0,m.__)("Not the sales pitch you expected?","wp-html-mail")),React.createElement("p",null,(0,m.__)("You are a user of our product so we do not want you to buy something you can't use as expected.","wp-html-mail"),React.createElement("br",null),(0,m.__)("This may be one of the reasons for our ★★★★★ ratings.","wp-html-mail")),React.createElement("p",null,React.createElement("span",{className:"dashicons dashicons-yes"})," ",(0,m.__)("Use more than 1000 Google fonts.","wp-html-mail"),React.createElement("br",null),React.createElement("span",{className:"dashicons dashicons-yes"})," ",(0,m.__)("Most requested feature by our users.","wp-html-mail"),React.createElement("br",null),React.createElement("span",{className:"dashicons dashicons-yes"})," ",(0,m.__)("Works with our WooCommerce extension.","wp-html-mail"),React.createElement("br",null),React.createElement("span",{className:"dashicons dashicons-yes"})," ",(0,m.__)("Works with our Easy Digital Downloads extension.","wp-html-mail"),React.createElement("br",null),React.createElement("span",{className:"dashicons dashicons-yes"})," ",(0,m.__)("Works with our BuddyPress extension.","wp-html-mail")),React.createElement("a",{href:"https://codemiq.com/en/plugins/wp-html-mail-webfonts/",target:"_blank",className:"cq-cta"},(0,m.__)("get the webfonts extension","wp-html-mail")," ",React.createElement("span",{className:"dashicons dashicons-arrow-right-alt2"})))))}function ie(e){return ie="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ie(e)}function oe(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function ce(e,t){return ce=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ce(e,t)}function me(e,t){if(t&&("object"===ie(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function se(e){return se=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},se(e)}var ue=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ce(e,t)}(c,e);var t,n,a,l,i,o=(l=c,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=se(l);if(i){var n=se(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return me(this,e)});function c(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(t=o.call(this,e)).state={hasError:!1,fallbackComponent:!1},t}return t=c,a=[{key:"getDerivedStateFromError",value:function(e){var t=r().createElement(r().Fragment,null);return e.toString().indexOf("webfonts")&&(t=r().createElement(le,null)),{hasError:!0,fallbackComponent:t}}}],(n=[{key:"componentDidCatch",value:function(e,t){console.log(e,t),e.toString().indexOf("webfonts")&&console.log("#### WEBFONTS MODULE NOT FOUND")}},{key:"render",value:function(){return this.state.hasError&&this.state.fallbackComponent?this.state.fallbackComponent:this.props.children}}])&&oe(t.prototype,n),a&&oe(t,a),Object.defineProperty(t,"prototype",{writable:!1}),c}(r().Component);function de(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var a,r,l=[],_n=!0,i=!1;try{for(n=n.call(e);!(_n=(a=n.next()).done)&&(l.push(a.value),!t||l.length!==t);_n=!0);}catch(e){i=!0,r=e}finally{try{_n||null==n.return||n.return()}finally{if(i)throw r}}return l}}(e,t)||function(e,t){if(e){if("string"==typeof e)return fe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?fe(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function fe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var he=(0,o.lazy)((function(){return n.e(33).then(n.t.bind(n,33,23))})),pe=(0,o.lazy)((function(){return n.e(412).then(n.t.bind(n,412,23))}));function ge(){var e=(0,o.useContext)(p),t=de((0,o.useState)([]),2),n=t[0],a=t[1],r=de((0,o.useState)(!0),2),l=(r[0],r[1]);(0,o.useEffect)((function(){var t=new URL(window.location);t.searchParams.delete("advanced-action"),window.history.pushState({},"",t),function(){e.setIsLoading(!0);var t=new Request(window.mailTemplateDesigner.restUrl+"plugins",{method:"GET",headers:{"Content-Type":"application/json","X-WP-Nonce":window.mailTemplateDesigner.nonce},credentials:"same-origin"});fetch(t).then((function(e){return e.json()})).then((function(t){a(t),e.setIsLoading(!1)}))}(),e.loadAvailableFonts()}),[]);var i=[{name:"template",title:(0,m.__)("Template","wp-html-mail"),className:"tab-template",component:React.createElement(M,null)},{name:"sender",title:(0,m.__)("Sender","wp-html-mail"),className:"tab-sender",component:React.createElement(H,null)},{name:"plugins",title:(0,m.__)("Plugin emails","wp-html-mail"),className:"tab-plugins",component:React.createElement(X,{plugins:n})}];return n&&n.forEach((function(e){e.react_component&&i.push({name:e.name,title:e.display_name,className:"tab-"+e.name,component:null,lazyComponent:e.react_component.component})})),i.push({name:"webfonts",title:(0,m.__)("Webfonts","wp-html-mail"),className:"tab-webfonts",component:null,lazyComponent:"WebfontsSettings"}),i.push({name:"redirect",title:(0,m.__)("Redirect emails","wp-html-mail"),className:"tab-redirect",component:React.createElement(U,null)}),i.push({name:"advanced",title:(0,m.__)("Advanced","wp-html-mail"),className:"tab-advanced",component:React.createElement(re,null)}),React.createElement(React.Fragment,null,React.createElement("div",null,e.errorMessage&&React.createElement(c.Snackbar,{className:"snackbar error",status:"error",isDismissible:!1},React.createElement(c.Icon,{icon:"warning",style:{color:"#f78da7"}}),e.errorMessage),e.infoMessage&&React.createElement(c.Snackbar,{className:"snackbar",status:"success",isDismissible:!1},React.createElement(c.Icon,{icon:"yes-alt",style:{color:"green"}}),e.infoMessage),React.createElement(c.__experimentalConfirmDialog,{isOpen:e.confirmDialog&&e.confirmDialog.hasOwnProperty("message"),onCancel:function(){l(!1),e.setConfirmDialog({})},onConfirm:function(){if(e.confirmDialog.callback){var t=e.confirmDialog.callback;l(!1),t()}}},e.confirmDialog.message)),React.createElement(c.TabPanel,{className:"wp-html-mail-tabs",tabs:i},(function(t){return t.component?t.component:t.lazyComponent&&"WoocommerceSettings"===t.lazyComponent?React.createElement(o.Suspense,{fallback:React.createElement(c.Spinner,null)},React.createElement(he,{templateDesignerContext:e,PopoverPicker:T})):t.lazyComponent&&"WebfontsSettings"===t.lazyComponent?React.createElement(o.Suspense,{fallback:React.createElement(c.Spinner,null)},React.createElement(ue,null,React.createElement(pe,{templateDesignerContext:e}))):void 0})))}document.addEventListener("DOMContentLoaded",(function(){i().render(r().createElement(g,null,r().createElement(ge,null)),document.getElementById("wp-html-mail-template-designer"))}))},327:function(e){e.exports=wphtmlmailwebfonts},399:function(e){e.exports=wphtmlmailwoocommerce}},o={};function c(e){var t=o[e];if(void 0!==t)return t.exports;var n=o[e]={exports:{}};return i[e](n,n.exports,c),n.exports}c.m=i,c.c=o,c.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return c.d(t,{a:t}),t},t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__},c.t=function(n,a){if(1&a&&(n=this(n)),8&a)return n;if("object"==typeof n&&n){if(4&a&&n.__esModule)return n;if(16&a&&"function"==typeof n.then)return n}var r=Object.create(null);c.r(r);var l={};e=e||[null,t({}),t([]),t(t)];for(var i=2&a&&n;"object"==typeof i&&!~e.indexOf(i);i=t(i))Object.getOwnPropertyNames(i).forEach((function(e){l[e]=function(){return n[e]}}));return l.default=function(){return n},c.d(r,l),r},c.d=function(e,t){for(var n in t)c.o(t,n)&&!c.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},c.f={},c.e=function(e){return Promise.all(Object.keys(c.f).reduce((function(t,n){return c.f[n](e,t),t}),[]))},c.u=function(e){return e+".js"},c.miniCssF=function(e){},c.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n={},a="wp-html-mail-template-designer:",c.l=function(e,t,r,l){if(n[e])n[e].push(t);else{var i,o;if(void 0!==r)for(var m=document.getElementsByTagName("script"),s=0;s<m.length;s++){var u=m[s];if(u.getAttribute("src")==e||u.getAttribute("data-webpack")==a+r){i=u;break}}i||(o=!0,(i=document.createElement("script")).charset="utf-8",i.timeout=120,c.nc&&i.setAttribute("nonce",c.nc),i.setAttribute("data-webpack",a+r),i.src=e),n[e]=[t];var d=function(t,a){i.onerror=i.onload=null,clearTimeout(f);var r=n[e];if(delete n[e],i.parentNode&&i.parentNode.removeChild(i),r&&r.forEach((function(e){return e(a)})),t)return t(a)},f=setTimeout(d.bind(null,void 0,{type:"timeout",target:i}),12e4);i.onerror=d.bind(null,i.onerror),i.onload=d.bind(null,i.onload),o&&document.head.appendChild(i)}},c.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r={33:[33],412:[412]},l={33:["default","./WoocommerceSettings",399],412:["default","./WebfontsSettings",327]},c.f.remotes=function(e,t){c.o(r,e)&&r[e].forEach((function(e){var n=c.R;n||(n=[]);var a=l[e];if(!(n.indexOf(a)>=0)){if(n.push(a),a.p)return t.push(a.p);var r=function(t){t||(t=new Error("Container missing")),"string"==typeof t.message&&(t.message+='\nwhile loading "'+a[1]+'" from '+a[2]),c.m[e]=function(){throw t},a.p=0},i=function(e,n,l,i,o,c){try{var m=e(n,l);if(!m||!m.then)return o(m,i,c);var s=m.then((function(e){return o(e,i)}),r);if(!c)return s;t.push(a.p=s)}catch(e){r(e)}},o=function(e,t,r){return i(t.get,a[1],n,0,m,r)},m=function(t){a.p=1,c.m[e]=function(e){e.exports=t()}};i(c,a[2],0,0,(function(e,t,n){return e?i(c.I,a[0],0,e,o,n):r()}),1)}}))},function(){c.S={};var e={},t={};c.I=function(n,a){a||(a=[]);var r=t[n];if(r||(r=t[n]={}),!(a.indexOf(r)>=0)){if(a.push(r),e[n])return e[n];c.o(c.S,n)||(c.S[n]={}),c.S[n];var l=function(e){var t=function(e){var t;t="Initialization of sharing external failed: "+e,"undefined"!=typeof console&&console.warn&&console.warn(t)};try{var r=c(e);if(!r)return;var l=function(e){return e&&e.init&&e.init(c.S[n],a)};if(r.then)return i.push(r.then(l,t));var o=l(r);if(o&&o.then)return i.push(o.catch(t))}catch(e){t(e)}},i=[];return"default"===n&&(l(399),l(327)),i.length?e[n]=Promise.all(i).then((function(){return e[n]=1})):e[n]=1}}}(),function(){var e;c.g.importScripts&&(e=c.g.location+"");var t=c.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var n=t.getElementsByTagName("script");n.length&&(e=n[n.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),c.p=e}(),function(){var e={826:0};c.f.j=function(t,n){var a=c.o(e,t)?e[t]:void 0;if(0!==a)if(a)n.push(a[2]);else if(826==t){var r=new Promise((function(n,r){a=e[t]=[n,r]}));n.push(a[2]=r);var l=c.p+c.u(t),i=new Error;c.l(l,(function(n){if(c.o(e,t)&&(0!==(a=e[t])&&(e[t]=void 0),a)){var r=n&&("load"===n.type?"missing":n.type),l=n&&n.target&&n.target.src;i.message="Loading chunk "+t+" failed.\n("+r+": "+l+")",i.name="ChunkLoadError",i.type=r,i.request=l,a[1](i)}}),"chunk-"+t,t)}else e[t]=0};var t=function(t,n){var a,r,l=n[0],i=n[1],o=n[2],m=0;if(l.some((function(t){return 0!==e[t]}))){for(a in i)c.o(i,a)&&(c.m[a]=i[a]);o&&o(c)}for(t&&t(n);m<l.length;m++)r=l[m],c.o(e,r)&&e[r]&&e[r][0](),e[r]=0},n=self.webpackChunkwp_html_mail_template_designer=self.webpackChunkwp_html_mail_template_designer||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}(),c(165)}();