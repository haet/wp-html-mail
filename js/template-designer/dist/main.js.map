{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///external {\"this\":[\"wp\",\"components\"]}","webpack:///external {\"this\":[\"wp\",\"i18n\"]}","webpack:///external {\"this\":[\"wp\",\"element\"]}","webpack:///external {\"this\":\"React\"}","webpack:///external {\"this\":\"ReactDOM\"}","webpack:///external {\"this\":[\"wp\",\"blockEditor\"]}","webpack:///./js/template-designer/contexts/TemplateDesignerContext.js","webpack:///./js/template-designer/components/OptionsPanel.js","webpack:///./js/template-designer/functions/helper-functions.js","webpack:///./js/template-designer/components/EditableElement.js","webpack:///./js/template-designer/components/options/useClickOutside.js","webpack:///./js/template-designer/components/options/PopoverPicker.js","webpack:///./js/template-designer/components/HeaderText.js","webpack:///./js/template-designer/components/HeaderImage.js","webpack:///./js/template-designer/components/MailHeader.js","webpack:///./js/template-designer/components/MailContent.js","webpack:///./js/template-designer/components/MailFooter.js","webpack:///./js/template-designer/components/MailTemplate.js","webpack:///./js/template-designer/src/index.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","this","TemplateDesignerContext","createContext","TemplateDesignerContextProvider","props","useState","panelTitle","setPanelTitle","panelOptions","setPanelOptions","editingElement","setEditingElement","settings","setSettings","isLoading","setIsLoading","Provider","updateSetting","children","OptionsPanel","templateDesignerContext","useContext","header","className","getIntVal","fallback","isNaN","parseInt","isTranslationEnabledForField","theme_options","getTranslateableThemeOptionsKey","window","mailTemplateDesigner","isMultiLanguageSite","currentLanguage","getTranslateableThemeOption","translateable_key","EditableElement","elementTitle","elementName","frameSize","handleAlign","onClick","e","stopPropagation","icon","useClickOutside","ref","handler","useEffect","startedInside","startedWhenMounted","listener","event","current","contains","target","validateEventStart","document","addEventListener","removeEventListener","PopoverPicker","color","onChange","popover","useRef","isOpen","toggle","close","useCallback","style","backgroundColor","onChangeComplete","disableAlpha","HeaderText","__","options","React","Fragment","title","initialOpen","headerfont","fonts","type","headerfontsize","headercolor","hex","controls","isActive","headeralign","headerbold","headeritalic","headertexttransform","checked","headertext","headertext_field_key","textAlign","fontSize","fontFamily","fontStyle","fontWeight","textTransform","tagName","allowedFormats","placeholder","HeaderImage","fileFrame","setFileFrame","headerimg","headerimg_field_key","backgroundImage","open","file_frame","wp","media","frames","multiple","on","attachment","state","first","toJSON","height","width","Math","round","url","alt","help","headerimg_notice","length","dangerouslySetInnerHTML","__html","headerimg_width","headerimg_height","headerimg_align","headerimg_placement","beforeIcon","header_spacer","min","max","size","lockAspectRatio","minHeight","minWidth","showHandle","marginTop","marginBottom","enable","top","right","bottom","left","topRight","bottomRight","bottomLeft","topLeft","onResizeStop","direction","elt","delta","src","MailHeader","rerenderKey","setRerenderKey","selected","label","xmlns","viewBox","transform","fill","x","y","cx","cy","forceRerender","headerbackground","headerpaddingtop","headerpaddingright","headerpaddingbottom","headerpaddingleft","random","toString","replace","substr","paddingTop","paddingRight","paddingBottom","paddingLeft","MailContent","contentbackground","headlinefont","headlinefontsize","headlinecolor","headlinealign","headlinebold","headlineitalic","headlinetexttransform","subheadlinefont","subheadlinefontsize","subheadlinecolor","subheadlinealign","subheadlinebold","subheadlineitalic","subheadlinetexttransform","textfont","textfontsize","textcolor","textalign","textbold","textitalic","linkbold","linkitalic","linkunderline","linktexttransform","linkcolor","h1Styles","lineHeight","h2Styles","pStyles","aStyles","textDecoration","href","MailFooter","setEditor","footer","footer_field_key","footerbackground","onEditorSetup","newEditor","setContent","getContent","setTimeout","availableFonts","forEach","font","oldEditor","initialize","tinymce","inline","content_css","fixed_toolbar_container","toolbar1","toolbar2","font_formats","fontsize_formats","setup","remove","id","onKeyDown","nativeEvent","stopImmediatePropagation","MailTemplate","isSaving","setIsSaving","showSaveSuccess","setShowSaveSuccess","background","request","Request","restUrl","method","headers","nonce","credentials","fetch","then","resp","json","data","status","isDismissible","isSecondary","templateLibraryUrl","marginRight","isPrimary","isBusy","preventDefault","body","JSON","stringify","preview","haet_mail","previewMail","saveSettings","ReactDOM","render","getElementById"],"mappings":"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","file":"main.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 7);\n","(function() { module.exports = this[\"wp\"][\"components\"]; }());","(function() { module.exports = this[\"wp\"][\"i18n\"]; }());","(function() { module.exports = this[\"wp\"][\"element\"]; }());","(function() { module.exports = this[\"React\"]; }());","(function() { module.exports = this[\"ReactDOM\"]; }());","(function() { module.exports = this[\"wp\"][\"blockEditor\"]; }());","import { useState, createContext, useEffect } from \"@wordpress/element\";\n\nexport const TemplateDesignerContext = createContext();\n\nfunction TemplateDesignerContextProvider(props) {\n\tconst [panelTitle, setPanelTitle] = useState(\"\");\n\tconst [panelOptions, setPanelOptions] = useState(null);\n\tconst [editingElement, setEditingElement] = useState(\"container\");\n\tconst [settings, setSettings] = useState({});\n\t// const [errorMessage, setErrorMessage] = useState(\"\");\n\t// const [infoMessage, setInfoMessage] = useState(\"\");\n\t// const [confirmDialog, setConfirmDialog] = useState({});\n\tconst [isLoading, setIsLoading] = useState(true);\n\n\tconst updateSetting = (key, value) => {\n\t\tsetSettings({ ...settings, [key]: value });\n\t};\n\n\treturn (\n\t\t<TemplateDesignerContext.Provider\n\t\t\tvalue={{\n\t\t\t\tpanelTitle,\n\t\t\t\tsetPanelTitle,\n\t\t\t\tpanelOptions,\n\t\t\t\tsetPanelOptions,\n\t\t\t\teditingElement,\n\t\t\t\tsetEditingElement,\n\t\t\t\tsettings,\n\t\t\t\tsetSettings,\n\t\t\t\tupdateSetting,\n\t\t\t\t// errorMessage,\n\t\t\t\t// setErrorMessage,\n\t\t\t\t// infoMessage,\n\t\t\t\t// setInfoMessage,\n\t\t\t\t// confirmDialog,\n\t\t\t\t// setConfirmDialog,\n\t\t\t\tisLoading,\n\t\t\t\tsetIsLoading,\n\t\t\t}}\n\t\t>\n\t\t\t{props.children}\n\t\t</TemplateDesignerContext.Provider>\n\t);\n}\n\nexport default TemplateDesignerContextProvider;\n","import { useContext } from \"@wordpress/element\";\nimport { Panel } from \"@wordpress/components\";\nimport { __ } from \"@wordpress/i18n\";\n\nimport { TemplateDesignerContext } from \"../contexts/TemplateDesignerContext\";\n\nexport default function OptionsPanel() {\n\tconst templateDesignerContext = useContext(TemplateDesignerContext);\n\n\tif (\n\t\ttemplateDesignerContext.settings === {} ||\n\t\t!templateDesignerContext.editingElement\n\t)\n\t\treturn null;\n\telse\n\t\treturn (\n\t\t\t<Panel\n\t\t\t\theader={templateDesignerContext.panelTitle}\n\t\t\t\tclassName=\"mail-optionspanel\"\n\t\t\t>\n\t\t\t\t{templateDesignerContext.panelOptions}\n\t\t\t</Panel>\n\t\t);\n}\n","export function getIntVal(value, fallback = 0) {\n\tif (isNaN(parseInt(value))) return fallback;\n\telse return parseInt(value);\n}\n\n/**\n * This is a JS version of the same function in class-multilanguage.php\n * @param {object} theme_options\n * @param {string} key\n */\nexport function isTranslationEnabledForField(theme_options, key) {\n\treturn (\n\t\tkey + \"_enable_translation\" in theme_options &&\n\t\ttheme_options[key + \"_enable_translation\"] == 1\n\t);\n}\n\n/**\n * This is a JS version of the same function in class-multilanguage.php\n * @param {object} theme_options\n * @param {string} key\n */\nexport function getTranslateableThemeOptionsKey(theme_options, key) {\n\tif (\n\t\t!window.mailTemplateDesigner.isMultiLanguageSite ||\n\t\t!isTranslationEnabledForField(theme_options, key)\n\t)\n\t\treturn key;\n\n\tif (\n\t\twindow.mailTemplateDesigner.currentLanguage &&\n\t\twindow.mailTemplateDesigner.currentLanguage != \"\"\n\t)\n\t\treturn key + \"_\" + window.mailTemplateDesigner.currentLanguage;\n\n\treturn key;\n}\n\n/**\n * This is a JS version of the same function in class-multilanguage.php\n * @param {object} theme_options\n * @param {string} key\n */\nexport function getTranslateableThemeOption(theme_options, key) {\n\tif (\n\t\t!window.mailTemplateDesigner.isMultiLanguageSite ||\n\t\t!isTranslationEnabledForField(theme_options, key)\n\t)\n\t\treturn theme_options[key];\n\n\tconst translateable_key = getTranslateableThemeOptionsKey(\n\t\ttheme_options,\n\t\tkey\n\t);\n\tif (translateable_key in theme_options)\n\t\treturn theme_options[translateable_key];\n\n\treturn theme_options[key];\n}\n","import { useState, useEffect, useContext } from \"@wordpress/element\";\n\nimport { Icon } from \"@wordpress/components\";\nimport { edit } from \"@wordpress/icons\";\n\nimport { TemplateDesignerContext } from \"../contexts/TemplateDesignerContext\";\n\nexport default function EditableElement({\n\tchildren,\n\telementTitle,\n\telementName,\n\tframeSize = \"normal\",\n\thandleAlign = \"left\",\n}) {\n\tconst templateDesignerContext = useContext(TemplateDesignerContext);\n\n\treturn (\n\t\t<div\n\t\t\tclassName=\"editable-element clearfix\"\n\t\t\tonClick={(e) => {\n\t\t\t\te.stopPropagation();\n\t\t\t\ttemplateDesignerContext.setEditingElement(elementName);\n\t\t\t}}\n\t\t>\n\t\t\t<div\n\t\t\t\tclassName={\n\t\t\t\t\t(templateDesignerContext.editingElement === elementName\n\t\t\t\t\t\t? \"edit-frame-active\"\n\t\t\t\t\t\t: \"edit-frame-default\") +\n\t\t\t\t\t\" frame-size-\" +\n\t\t\t\t\tframeSize +\n\t\t\t\t\t\" handle-align-\" +\n\t\t\t\t\thandleAlign\n\t\t\t\t}\n\t\t\t>\n\t\t\t\t<div\n\t\t\t\t\tclassName=\"edit-frame-handle\"\n\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\te.stopPropagation();\n\t\t\t\t\t\ttemplateDesignerContext.setEditingElement(elementName);\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t{elementTitle}\n\t\t\t\t\t<Icon icon=\"edit\" />\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t{children}\n\t\t</div>\n\t);\n}\n","import { useEffect } from \"react\";\n\n// Improved version of https://usehooks.com/useOnClickOutside/\nconst useClickOutside = (ref, handler) => {\n  useEffect(() => {\n    let startedInside = false;\n    let startedWhenMounted = false;\n\n    const listener = (event) => {\n      // Do nothing if `mousedown` or `touchstart` started inside ref element\n      if (startedInside || !startedWhenMounted) return;\n      // Do nothing if clicking ref's element or descendent elements\n      if (!ref.current || ref.current.contains(event.target)) return;\n\n      handler(event);\n    };\n\n    const validateEventStart = (event) => {\n      startedWhenMounted = ref.current;\n      startedInside = ref.current && ref.current.contains(event.target);\n    };\n\n    document.addEventListener(\"mousedown\", validateEventStart);\n    document.addEventListener(\"touchstart\", validateEventStart);\n    document.addEventListener(\"click\", listener);\n\n    return () => {\n      document.removeEventListener(\"mousedown\", validateEventStart);\n      document.removeEventListener(\"touchstart\", validateEventStart);\n      document.removeEventListener(\"click\", listener);\n    };\n  }, [ref, handler]);\n};\n\nexport default useClickOutside;\n","import React, { useCallback, useRef, useState } from \"react\";\nimport {\n\tColorPicker\n} from \"@wordpress/components\";\n\nimport useClickOutside from \"./useClickOutside\";\n\nexport const PopoverPicker = ({ color, onChange }) => {\n  const popover = useRef();\n  const [isOpen, toggle] = useState(false);\n\n  const close = useCallback(() => toggle(false), []);\n  useClickOutside(popover, close);\n\n  return (\n    <div className=\"color-picker-popoper\">\n      <div\n        className=\"swatch\"\n        style={{ backgroundColor: color }}\n        onClick={() => toggle(true)}\n      />\n\n      {isOpen && (\n        <div className=\"popover\" ref={popover}>\n          <ColorPicker color={color} onChangeComplete={onChange} disableAlpha/>\n        </div>\n      )}\n    </div>\n  );\n};\n","import { useState, useEffect, useContext } from \"@wordpress/element\";\n\nimport {\n\tPanelBody,\n\tPanelRow,\n\tFormToggle,\n\tSelectControl,\n\tToolbar,\n\tTextControl,\n} from \"@wordpress/components\";\n\nimport { __ } from \"@wordpress/i18n\";\nimport { RichText } from \"@wordpress/block-editor\";\n\nimport { PopoverPicker } from \"./options/PopoverPicker\";\n\nimport { TemplateDesignerContext } from \"../contexts/TemplateDesignerContext\";\n\nimport {\n\tgetIntVal,\n\tisTranslationEnabledForField,\n\tgetTranslateableThemeOption,\n\tgetTranslateableThemeOptionsKey,\n} from \"../functions/helper-functions\";\nimport EditableElement from \"./EditableElement.js\";\n\nexport default function HeaderText({}) {\n\tconst templateDesignerContext = useContext(TemplateDesignerContext);\n\tconst { settings } = templateDesignerContext;\n\tconst elementTitle = __(\"Header text\", \"wp-html-mail\");\n\tconst elementName = \"headertext\";\n\n\tconst options = (\n\t\t<React.Fragment>\n\t\t\t<PanelBody title={__(\"Font\", \"wp-html-mail\")} initialOpen={true}>\n\t\t\t\t<PanelRow>\n\t\t\t\t\t<SelectControl\n\t\t\t\t\t\tvalue={settings.headerfont}\n\t\t\t\t\t\toptions={window.mailTemplateDesigner.fonts}\n\t\t\t\t\t\tonChange={(value) => {\n\t\t\t\t\t\t\ttemplateDesignerContext.updateSetting(\n\t\t\t\t\t\t\t\t\"headerfont\",\n\t\t\t\t\t\t\t\tvalue\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t\t<TextControl\n\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\tonChange={(value) => {\n\t\t\t\t\t\t\ttemplateDesignerContext.updateSetting(\n\t\t\t\t\t\t\t\t\"headerfontsize\",\n\t\t\t\t\t\t\t\tvalue\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tvalue={getIntVal(settings.headerfontsize)}\n\t\t\t\t\t/>\n\t\t\t\t\t<PopoverPicker\n\t\t\t\t\t\tcolor={settings.headercolor}\n\t\t\t\t\t\tonChange={(value) => {\n\t\t\t\t\t\t\ttemplateDesignerContext.updateSetting(\n\t\t\t\t\t\t\t\t\"headercolor\",\n\t\t\t\t\t\t\t\tvalue.hex\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t</PanelRow>\n\t\t\t\t<PanelRow>\n\t\t\t\t\t<Toolbar\n\t\t\t\t\t\tcontrols={[\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ticon: \"editor-alignleft\",\n\t\t\t\t\t\t\t\tisActive: settings.headeralign === \"left\",\n\t\t\t\t\t\t\t\tonClick: () =>\n\t\t\t\t\t\t\t\t\ttemplateDesignerContext.updateSetting(\n\t\t\t\t\t\t\t\t\t\t\"headeralign\",\n\t\t\t\t\t\t\t\t\t\t\"left\"\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ticon: \"editor-aligncenter\",\n\t\t\t\t\t\t\t\tisActive: settings.headeralign === \"center\",\n\t\t\t\t\t\t\t\tonClick: () =>\n\t\t\t\t\t\t\t\t\ttemplateDesignerContext.updateSetting(\n\t\t\t\t\t\t\t\t\t\t\"headeralign\",\n\t\t\t\t\t\t\t\t\t\t\"center\"\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ticon: \"editor-alignright\",\n\t\t\t\t\t\t\t\tisActive: settings.headeralign === \"right\",\n\t\t\t\t\t\t\t\tonClick: () =>\n\t\t\t\t\t\t\t\t\ttemplateDesignerContext.updateSetting(\n\t\t\t\t\t\t\t\t\t\t\"headeralign\",\n\t\t\t\t\t\t\t\t\t\t\"right\"\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ticon: \"editor-bold\",\n\t\t\t\t\t\t\t\tisActive: getIntVal(settings.headerbold) === 1,\n\t\t\t\t\t\t\t\tonClick: () =>\n\t\t\t\t\t\t\t\t\ttemplateDesignerContext.updateSetting(\n\t\t\t\t\t\t\t\t\t\t\"headerbold\",\n\t\t\t\t\t\t\t\t\t\tgetIntVal(settings.headerbold) === 1\n\t\t\t\t\t\t\t\t\t\t\t? 0\n\t\t\t\t\t\t\t\t\t\t\t: 1\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ticon: \"editor-italic\",\n\t\t\t\t\t\t\t\tisActive:\n\t\t\t\t\t\t\t\t\tgetIntVal(settings.headeritalic) === 1,\n\t\t\t\t\t\t\t\tonClick: () =>\n\t\t\t\t\t\t\t\t\ttemplateDesignerContext.updateSetting(\n\t\t\t\t\t\t\t\t\t\t\"headeritalic\",\n\t\t\t\t\t\t\t\t\t\tgetIntVal(settings.headeritalic) === 1\n\t\t\t\t\t\t\t\t\t\t\t? 0\n\t\t\t\t\t\t\t\t\t\t\t: 1\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ticon: \"arrow-up\",\n\t\t\t\t\t\t\t\tisActive:\n\t\t\t\t\t\t\t\t\tsettings.headertexttransform ===\n\t\t\t\t\t\t\t\t\t\"uppercase\",\n\t\t\t\t\t\t\t\tonClick: () =>\n\t\t\t\t\t\t\t\t\ttemplateDesignerContext.updateSetting(\n\t\t\t\t\t\t\t\t\t\t\"headertexttransform\",\n\t\t\t\t\t\t\t\t\t\tsettings.headertexttransform ===\n\t\t\t\t\t\t\t\t\t\t\t\"uppercase\"\n\t\t\t\t\t\t\t\t\t\t\t? \"none\"\n\t\t\t\t\t\t\t\t\t\t\t: \"uppercase\"\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t]}\n\t\t\t\t\t/>\n\t\t\t\t</PanelRow>\n\t\t\t</PanelBody>\n\t\t\t{window.mailTemplateDesigner.isMultiLanguageSite == 1 && (\n\t\t\t\t<PanelBody\n\t\t\t\t\ttitle={__(\"Translation\", \"wp-html-mail\")}\n\t\t\t\t\tinitialOpen={false}\n\t\t\t\t>\n\t\t\t\t\t<PanelRow>\n\t\t\t\t\t\t<FormToggle\n\t\t\t\t\t\t\tchecked={isTranslationEnabledForField(\n\t\t\t\t\t\t\t\tsettings,\n\t\t\t\t\t\t\t\t\"headertext\"\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\tonChange={(e) =>\n\t\t\t\t\t\t\t\ttemplateDesignerContext.updateSetting(\n\t\t\t\t\t\t\t\t\t\"headertext_enable_translation\",\n\t\t\t\t\t\t\t\t\t!isTranslationEnabledForField(\n\t\t\t\t\t\t\t\t\t\tsettings,\n\t\t\t\t\t\t\t\t\t\t\"headertext\"\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t{__(\n\t\t\t\t\t\t\t\"Enable translation for this field\",\n\t\t\t\t\t\t\t\"wp-html-mail\"\n\t\t\t\t\t\t)}\n\t\t\t\t\t</PanelRow>\n\t\t\t\t\t<PanelRow>\n\t\t\t\t\t\t<p className=\"description\">\n\t\t\t\t\t\t\t{__(\n\t\t\t\t\t\t\t\t\"If enabled you can use individual settings depending on the current language selected at the top of the page in your admin bar.\",\n\t\t\t\t\t\t\t\t\"wp-html-mail\"\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</p>\n\t\t\t\t\t</PanelRow>\n\t\t\t\t</PanelBody>\n\t\t\t)}\n\t\t</React.Fragment>\n\t);\n\n\tuseEffect(() => {\n\t\tif (templateDesignerContext.editingElement === elementName) {\n\t\t\ttemplateDesignerContext.setPanelTitle(elementTitle);\n\t\t}\n\t}, [templateDesignerContext.editingElement]);\n\n\tuseEffect(() => {\n\t\tif (templateDesignerContext.editingElement === elementName) {\n\t\t\ttemplateDesignerContext.setPanelOptions(options);\n\t\t}\n\t}, [templateDesignerContext.editingElement, settings]);\n\n\tconst headertext = getTranslateableThemeOption(settings, \"headertext\");\n\tconst headertext_field_key = getTranslateableThemeOptionsKey(\n\t\tsettings,\n\t\t\"headertext\"\n\t);\n\treturn (\n\t\t<EditableElement\n\t\t\telementTitle={elementTitle}\n\t\t\telementName={elementName}\n\t\t\tframeSize=\"s\"\n\t\t\thandleAlign=\"right\"\n\t\t>\n\t\t\t<div\n\t\t\t\tclassName={elementName}\n\t\t\t\tstyle={{\n\t\t\t\t\tcolor: settings.headercolor,\n\t\t\t\t\ttextAlign: settings.headeralign,\n\t\t\t\t\tfontSize: getIntVal(settings.headerfontsize),\n\t\t\t\t\tfontFamily: settings.headerfont,\n\t\t\t\t\tfontStyle:\n\t\t\t\t\t\tgetIntVal(settings.headeritalic) === 1\n\t\t\t\t\t\t\t? \"italic\"\n\t\t\t\t\t\t\t: \"normal\",\n\t\t\t\t\tfontWeight:\n\t\t\t\t\t\tgetIntVal(settings.headerbold) === 1\n\t\t\t\t\t\t\t? \"bold\"\n\t\t\t\t\t\t\t: \"normal\",\n\t\t\t\t\ttextTransform: settings.headertexttransform,\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<RichText\n\t\t\t\t\ttagName=\"div\"\n\t\t\t\t\tvalue={headertext}\n\t\t\t\t\tallowedFormats={[]}\n\t\t\t\t\tonChange={(value) =>\n\t\t\t\t\t\ttemplateDesignerContext.updateSetting(\n\t\t\t\t\t\t\theadertext_field_key,\n\t\t\t\t\t\t\tvalue\n\t\t\t\t\t\t)\n\t\t\t\t\t}\n\t\t\t\t\tplaceholder={__(\"Header text\", \"wp-html-mail\")}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t</EditableElement>\n\t);\n}\n","import { useState, useEffect, useContext } from \"@wordpress/element\";\n\nimport {\n\tPanelBody,\n\tPanelRow,\n\tRangeControl,\n\tTextControl,\n\tFormToggle,\n\tButton,\n\tToolbar,\n\tResizableBox,\n} from \"@wordpress/components\";\n\nimport { __ } from \"@wordpress/i18n\";\n\nimport { TemplateDesignerContext } from \"../contexts/TemplateDesignerContext\";\n\nimport {\n\tgetIntVal,\n\tisTranslationEnabledForField,\n\tgetTranslateableThemeOption,\n\tgetTranslateableThemeOptionsKey,\n} from \"../functions/helper-functions\";\nimport EditableElement from \"./EditableElement.js\";\n\nexport default function HeaderImage({}) {\n\tconst templateDesignerContext = useContext(TemplateDesignerContext);\n\tconst { settings } = templateDesignerContext;\n\tconst elementTitle = __(\"Header image\", \"wp-html-mail\");\n\tconst elementName = \"headerimage\";\n\tconst [fileFrame, setFileFrame] = useState();\n\n\tconst headerimg = getTranslateableThemeOption(settings, \"headerimg\");\n\tconst headerimg_field_key = getTranslateableThemeOptionsKey(\n\t\tsettings,\n\t\t\"headerimg\"\n\t);\n\n\tconst options = (\n\t\t<React.Fragment>\n\t\t\t<PanelBody title={__(\"Image\", \"wp-html-mail\")} initialOpen={true}>\n\t\t\t\t<PanelRow>\n\t\t\t\t\t<Button\n\t\t\t\t\t\tclassName={\"editor-post-featured-image__toggle\"}\n\t\t\t\t\t\tstyle={\n\t\t\t\t\t\t\theaderimg\n\t\t\t\t\t\t\t\t? {\n\t\t\t\t\t\t\t\t\t\tbackgroundImage:\n\t\t\t\t\t\t\t\t\t\t\t\"url(\" + headerimg + \")\",\n\t\t\t\t\t\t\t\t  }\n\t\t\t\t\t\t\t\t: {}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\t// If the media frame already exists, reopen it.\n\t\t\t\t\t\t\tif (fileFrame) {\n\t\t\t\t\t\t\t\tfileFrame.open();\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t// Create the media frame.\n\t\t\t\t\t\t\tconst file_frame = (wp.media.frames.file_frame = wp.media(\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tmultiple: false, // Set to true to allow multiple files to be selected\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t));\n\t\t\t\t\t\t\t// When an image is selected, run a callback.\n\t\t\t\t\t\t\tfile_frame.on(\"select\", function () {\n\t\t\t\t\t\t\t\t// We set multiple to false so only get one image from the uploader\n\t\t\t\t\t\t\t\tconst attachment = file_frame\n\t\t\t\t\t\t\t\t\t.state()\n\t\t\t\t\t\t\t\t\t.get(\"selection\")\n\t\t\t\t\t\t\t\t\t.first()\n\t\t\t\t\t\t\t\t\t.toJSON();\n\n\t\t\t\t\t\t\t\tconst height =\n\t\t\t\t\t\t\t\t\tattachment.width > 600\n\t\t\t\t\t\t\t\t\t\t? Math.round(\n\t\t\t\t\t\t\t\t\t\t\t\t(attachment.height /\n\t\t\t\t\t\t\t\t\t\t\t\t\tattachment.width) *\n\t\t\t\t\t\t\t\t\t\t\t\t\t600\n\t\t\t\t\t\t\t\t\t\t  )\n\t\t\t\t\t\t\t\t\t\t: attachment.height;\n\t\t\t\t\t\t\t\tconst width =\n\t\t\t\t\t\t\t\t\tattachment.width > 600\n\t\t\t\t\t\t\t\t\t\t? 600\n\t\t\t\t\t\t\t\t\t\t: attachment.width;\n\t\t\t\t\t\t\t\ttemplateDesignerContext.setSettings({\n\t\t\t\t\t\t\t\t\t...settings,\n\t\t\t\t\t\t\t\t\t[headerimg_field_key]: attachment.url,\n\t\t\t\t\t\t\t\t\theaderimg_width: width,\n\t\t\t\t\t\t\t\t\theaderimg_height: height,\n\t\t\t\t\t\t\t\t\theaderimg_alt: attachment.alt,\n\t\t\t\t\t\t\t\t\theaderimg_notice: \"\",\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t// Finally, open the modal\n\t\t\t\t\t\t\tfile_frame.open();\n\t\t\t\t\t\t\tsetFileFrame(file_frame);\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t{__(\"Select image\", \"wp-html-mail\")}\n\t\t\t\t\t</Button>\n\t\t\t\t</PanelRow>\n\t\t\t\t<PanelRow>\n\t\t\t\t\t<TextControl\n\t\t\t\t\t\tname=\"headerimg\"\n\t\t\t\t\t\tvalue={headerimg}\n\t\t\t\t\t\thelp={__(\n\t\t\t\t\t\t\t\"You can use this field to add an external image url.\",\n\t\t\t\t\t\t\t\"wp-html-mail\"\n\t\t\t\t\t\t)}\n\t\t\t\t\t\tonChange={(value) => {\n\t\t\t\t\t\t\ttemplateDesignerContext.updateSetting(\n\t\t\t\t\t\t\t\theaderimg_field_key,\n\t\t\t\t\t\t\t\tvalue\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t</PanelRow>\n\t\t\t\t{settings.headerimg_notice &&\n\t\t\t\t\tsettings.headerimg_notice.length > 5 && (\n\t\t\t\t\t\t<PanelRow>\n\t\t\t\t\t\t\t<p\n\t\t\t\t\t\t\t\tdangerouslySetInnerHTML={{\n\t\t\t\t\t\t\t\t\t__html: settings.headerimg_notice,\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</PanelRow>\n\t\t\t\t\t)}\n\t\t\t</PanelBody>\n\t\t\t<PanelBody\n\t\t\t\ttitle={__(\"Size & Align\", \"wp-html-mail\")}\n\t\t\t\tinitialOpen={false}\n\t\t\t>\n\t\t\t\t<PanelRow>\n\t\t\t\t\t<TextControl\n\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\tonChange={(value) => {\n\t\t\t\t\t\t\ttemplateDesignerContext.updateSetting(\n\t\t\t\t\t\t\t\t\"headerimg_width\",\n\t\t\t\t\t\t\t\tvalue\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tvalue={getIntVal(settings.headerimg_width, 400)}\n\t\t\t\t\t\tstyle={{ width: 70 }}\n\t\t\t\t\t/>\n\t\t\t\t\t<TextControl\n\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\tonChange={(value) => {\n\t\t\t\t\t\t\ttemplateDesignerContext.updateSetting(\n\t\t\t\t\t\t\t\t\"headerimg_height\",\n\t\t\t\t\t\t\t\tvalue\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tvalue={getIntVal(settings.headerimg_height, 100)}\n\t\t\t\t\t\tstyle={{ width: 70 }}\n\t\t\t\t\t/>\n\t\t\t\t\t<Toolbar\n\t\t\t\t\t\tcontrols={[\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ticon: \"align-left\",\n\t\t\t\t\t\t\t\tisActive: settings.headerimg_align === \"left\",\n\t\t\t\t\t\t\t\tonClick: () =>\n\t\t\t\t\t\t\t\t\ttemplateDesignerContext.updateSetting(\n\t\t\t\t\t\t\t\t\t\t\"headerimg_align\",\n\t\t\t\t\t\t\t\t\t\t\"left\"\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ticon: \"align-center\",\n\t\t\t\t\t\t\t\tisActive: settings.headerimg_align === \"center\",\n\t\t\t\t\t\t\t\tonClick: () =>\n\t\t\t\t\t\t\t\t\ttemplateDesignerContext.updateSetting(\n\t\t\t\t\t\t\t\t\t\t\"headerimg_align\",\n\t\t\t\t\t\t\t\t\t\t\"center\"\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ticon: \"align-right\",\n\t\t\t\t\t\t\t\tisActive: settings.headerimg_align === \"right\",\n\t\t\t\t\t\t\t\tonClick: () =>\n\t\t\t\t\t\t\t\t\ttemplateDesignerContext.updateSetting(\n\t\t\t\t\t\t\t\t\t\t\"headerimg_align\",\n\t\t\t\t\t\t\t\t\t\t\"right\"\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t]}\n\t\t\t\t\t/>\n\t\t\t\t</PanelRow>\n\t\t\t\t{(settings.headerimg_placement === \"above_text\" ||\n\t\t\t\t\tsettings.headerimg_placement === \"below_text\") && (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<PanelRow>\n\t\t\t\t\t\t\t{__(\n\t\t\t\t\t\t\t\t\"Spacing between image and text\",\n\t\t\t\t\t\t\t\t\"wp-html-mail\"\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</PanelRow>\n\t\t\t\t\t\t<PanelRow>\n\t\t\t\t\t\t\t<RangeControl\n\t\t\t\t\t\t\t\tbeforeIcon={\"sort\"}\n\t\t\t\t\t\t\t\tvalue={getIntVal(settings.header_spacer, 10)}\n\t\t\t\t\t\t\t\tonChange={(value) => {\n\t\t\t\t\t\t\t\t\ttemplateDesignerContext.updateSetting(\n\t\t\t\t\t\t\t\t\t\t\"header_spacer\",\n\t\t\t\t\t\t\t\t\t\tvalue\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tmin={0}\n\t\t\t\t\t\t\t\tmax={100}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</PanelRow>\n\t\t\t\t\t</>\n\t\t\t\t)}\n\t\t\t\t<PanelRow>\n\t\t\t\t\t<p>\n\t\t\t\t\t\t{__(\n\t\t\t\t\t\t\t\"If you would like to provide the header image in retina quality, upload an image with a higher resultion, such as for example 1200px x 400px and enter only half the size values in the input fields above (600 x 200).\",\n\t\t\t\t\t\t\t\"wp-html-mail\"\n\t\t\t\t\t\t)}\n\t\t\t\t\t</p>\n\t\t\t\t</PanelRow>\n\t\t\t</PanelBody>\n\t\t\t{window.mailTemplateDesigner.isMultiLanguageSite == 1 && (\n\t\t\t\t<PanelBody\n\t\t\t\t\ttitle={__(\"Translation\", \"wp-html-mail\")}\n\t\t\t\t\tinitialOpen={true}\n\t\t\t\t>\n\t\t\t\t\t<PanelRow>\n\t\t\t\t\t\t<FormToggle\n\t\t\t\t\t\t\tchecked={isTranslationEnabledForField(\n\t\t\t\t\t\t\t\tsettings,\n\t\t\t\t\t\t\t\t\"headerimg\"\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\tonChange={(e) =>\n\t\t\t\t\t\t\t\ttemplateDesignerContext.updateSetting(\n\t\t\t\t\t\t\t\t\t\"headerimg_enable_translation\",\n\t\t\t\t\t\t\t\t\t!isTranslationEnabledForField(\n\t\t\t\t\t\t\t\t\t\tsettings,\n\t\t\t\t\t\t\t\t\t\t\"headerimg\"\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t{__(\n\t\t\t\t\t\t\t\"Enable translation for this field\",\n\t\t\t\t\t\t\t\"wp-html-mail\"\n\t\t\t\t\t\t)}\n\t\t\t\t\t</PanelRow>\n\t\t\t\t\t<PanelRow>\n\t\t\t\t\t\t<p className=\"description\">\n\t\t\t\t\t\t\t{__(\n\t\t\t\t\t\t\t\t\"If enabled you can use individual settings depending on the current language selected at the top of the page in your admin bar.\",\n\t\t\t\t\t\t\t\t\"wp-html-mail\"\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</p>\n\t\t\t\t\t</PanelRow>\n\t\t\t\t\t<PanelRow>\n\t\t\t\t\t\t<p className=\"description\">\n\t\t\t\t\t\t\t{__(\n\t\t\t\t\t\t\t\t\"Please make sure all images have the same size because only the image url is language dependent.\",\n\t\t\t\t\t\t\t\t\"wp-html-mail\"\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</p>\n\t\t\t\t\t</PanelRow>\n\t\t\t\t</PanelBody>\n\t\t\t)}\n\t\t</React.Fragment>\n\t);\n\n\tuseEffect(() => {\n\t\tif (templateDesignerContext.editingElement === elementName) {\n\t\t\ttemplateDesignerContext.setPanelTitle(elementTitle);\n\t\t}\n\t}, [templateDesignerContext.editingElement]);\n\n\tuseEffect(() => {\n\t\tif (templateDesignerContext.editingElement === elementName) {\n\t\t\ttemplateDesignerContext.setPanelOptions(options);\n\t\t}\n\t}, [templateDesignerContext.editingElement, settings]);\n\n\tconst headerimg_align = settings.headerimg_align\n\t\t? settings.headerimg_align\n\t\t: settings.headeralign;\n\n\treturn (\n\t\t<EditableElement\n\t\t\telementTitle={elementTitle}\n\t\t\telementName={elementName}\n\t\t\tframeSize=\"s\"\n\t\t\thandleAlign=\"right\"\n\t\t>\n\t\t\t<div\n\t\t\t\tclassName={elementName}\n\t\t\t\tstyle={{\n\t\t\t\t\ttextAlign: headerimg_align,\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t{settings.headerimg ? (\n\t\t\t\t\t<ResizableBox\n\t\t\t\t\t\tsize={{\n\t\t\t\t\t\t\theight: parseInt(settings.headerimg_height),\n\t\t\t\t\t\t\twidth: parseInt(settings.headerimg_width),\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tlockAspectRatio={\n\t\t\t\t\t\t\tparseInt(settings.headerimg_width) /\n\t\t\t\t\t\t\tparseInt(settings.headerimg_height)\n\t\t\t\t\t\t}\n\t\t\t\t\t\tminHeight=\"20\"\n\t\t\t\t\t\tminWidth=\"50\"\n\t\t\t\t\t\tshowHandle={\n\t\t\t\t\t\t\ttemplateDesignerContext.editingElement ===\n\t\t\t\t\t\t\telementName\n\t\t\t\t\t\t}\n\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\tmarginTop:\n\t\t\t\t\t\t\t\tsettings.headerimg_placement === \"below_text\"\n\t\t\t\t\t\t\t\t\t? settings.header_spacer + \"px\"\n\t\t\t\t\t\t\t\t\t: \"0px\",\n\t\t\t\t\t\t\tmarginBottom:\n\t\t\t\t\t\t\t\tsettings.headerimg_placement === \"above_text\"\n\t\t\t\t\t\t\t\t\t? settings.header_spacer + \"px\"\n\t\t\t\t\t\t\t\t\t: \"0px\",\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tenable={{\n\t\t\t\t\t\t\ttop: false,\n\t\t\t\t\t\t\tright: false,\n\t\t\t\t\t\t\tbottom: false,\n\t\t\t\t\t\t\tleft: false,\n\t\t\t\t\t\t\ttopRight: true,\n\t\t\t\t\t\t\tbottomRight: true,\n\t\t\t\t\t\t\tbottomLeft: true,\n\t\t\t\t\t\t\ttopLeft: true,\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tonResizeStop={(event, direction, elt, delta) => {\n\t\t\t\t\t\t\ttemplateDesignerContext.setSettings({\n\t\t\t\t\t\t\t\t...settings,\n\t\t\t\t\t\t\t\theaderimg_width:\n\t\t\t\t\t\t\t\t\tparseInt(settings.headerimg_width) +\n\t\t\t\t\t\t\t\t\tdelta.width,\n\t\t\t\t\t\t\t\theaderimg_height:\n\t\t\t\t\t\t\t\t\tparseInt(settings.headerimg_height) +\n\t\t\t\t\t\t\t\t\tdelta.height,\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t<img src={headerimg} />\n\t\t\t\t\t</ResizableBox>\n\t\t\t\t) : (\n\t\t\t\t\t<div\n\t\t\t\t\t\tclassName=\"header-image-placeholder\"\n\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\twidth: settings.headerimg_width\n\t\t\t\t\t\t\t\t? settings.headerimg_width + \"px\"\n\t\t\t\t\t\t\t\t: \"400px\",\n\t\t\t\t\t\t\theight: settings.headerimg_height\n\t\t\t\t\t\t\t\t? settings.headerimg_height + \"px\"\n\t\t\t\t\t\t\t\t: \"100px\",\n\t\t\t\t\t\t\tmarginTop:\n\t\t\t\t\t\t\t\tsettings.headerimg_placement === \"below_text\"\n\t\t\t\t\t\t\t\t\t? settings.header_spacer + \"px\"\n\t\t\t\t\t\t\t\t\t: \"0px\",\n\t\t\t\t\t\t\tmarginBottom:\n\t\t\t\t\t\t\t\tsettings.headerimg_placement === \"above_text\"\n\t\t\t\t\t\t\t\t\t? settings.header_spacer + \"px\"\n\t\t\t\t\t\t\t\t\t: \"0px\",\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t</EditableElement>\n\t);\n}\n","import { useState, useEffect, useContext } from \"@wordpress/element\";\n\nimport {\n\tPanelBody,\n\tPanelRow,\n\tRangeControl,\n\tRadioControl,\n\tColorPicker,\n\tIcon\n} from \"@wordpress/components\";\n\nimport { __ } from \"@wordpress/i18n\";\n\nimport { TemplateDesignerContext } from \"../contexts/TemplateDesignerContext\";\nimport { getIntVal } from \"../functions/helper-functions\";\n\nimport EditableElement from \"./EditableElement.js\";\nimport HeaderText from \"./HeaderText.js\";\nimport HeaderImage from \"./HeaderImage.js\";\n\nexport default function MailHeader({}) {\n\tconst [rerenderKey, setRerenderKey] = useState(1);\n\tconst templateDesignerContext = useContext(TemplateDesignerContext);\n\tconst { settings } = templateDesignerContext;\n\tconst elementTitle = __(\"Email header\", \"wp-html-mail\");\n\tconst elementName = \"header\";\n\n\tlet headerimg_placement = settings.headerimg_placement;\n\tif (!headerimg_placement) {\n\t\tif (settings.headerimg) headerimg_placement = \"replace_text\";\n\t\telse headerimg_placement = \"just_text\";\n\t}\n\n\tconst options = (\n\t\t<React.Fragment>\n\t\t\t<PanelBody\n\t\t\t\ttitle={__(\"Image and text placement\", \"wp-html-mail\")}\n\t\t\t\tinitialOpen={true}\n\t\t\t>\n\t\t\t\t<PanelRow>\n\t\t\t\t\t<RadioControl\n\t\t\t\t\t\tselected={headerimg_placement}\n\t\t\t\t\t\tclassName=\"mail-header-type\"\n\t\t\t\t\t\toptions={[\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tvalue: \"just_text\",\n\t\t\t\t\t\t\t\tlabel:\n\t\t\t\t\t\t\t\t\t<Icon\n\t\t\t\t\t\t\t\t\t\ticon={\n\t\t\t\t\t\t\t\t\t\t\t<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"278\" height=\"45\" viewBox=\"0 0 278 45\"><g transform=\"translate(-80 -463)\"><rect width=\"278\" height=\"45\" transform=\"translate(80 463)\" fill=\"#9cbecd\"/><text transform=\"translate(219 488)\" fill=\"#fff\" fontSize=\"18\" fontFamily=\"OpenSans-Extrabold, Open Sans\" fontWeight=\"800\"><tspan x=\"-28.208\" y=\"0\">YOUR </tspan><tspan x=\"-44.868\" y=\"15\">SITE TITLE</tspan></text></g></svg>\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tclassName=\"mail-header-type-icon\"\n\t\t\t\t\t\t\t\t\t/>,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tvalue: \"replace_text\",\n\t\t\t\t\t\t\t\tlabel: \n\t\t\t\t\t\t\t\t\t<Icon\n\t\t\t\t\t\t\t\t\t\ticon={\n\t\t\t\t\t\t\t\t\t\t\t<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"278\" height=\"71\" viewBox=\"0 0 278 71\"><g transform=\"translate(-81 -358)\"><rect width=\"278\" height=\"71\" transform=\"translate(81 358)\" fill=\"#9cbecd\"/><g transform=\"translate(-136 -101)\"><path d=\"M20,0,40,30H0Z\" transform=\"translate(347 490)\" fill=\"#fff\"/><path d=\"M14,0,28,21H0Z\" transform=\"translate(327 499)\" fill=\"#fff\"/><circle cx=\"7\" cy=\"7\" r=\"7\" transform=\"translate(326 478)\" fill=\"#fff\"/></g></g></svg>\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tclassName=\"mail-header-type-icon\"\n\t\t\t\t\t\t\t\t\t/>,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tvalue: \"above_text\",\n\t\t\t\t\t\t\t\tlabel: \n\t\t\t\t\t\t\t\t\t<Icon\n\t\t\t\t\t\t\t\t\t\ticon={\n\t\t\t\t\t\t\t\t\t\t\t<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"278\" height=\"90\" viewBox=\"0 0 278 90\"><g transform=\"translate(-80 -109)\"><rect width=\"278\" height=\"71\" transform=\"translate(80 109)\" fill=\"#9cbecd\"/><g transform=\"translate(-137 -350)\"><path d=\"M20,0,40,30H0Z\" transform=\"translate(347 490)\" fill=\"#fff\"/><path d=\"M14,0,28,21H0Z\" transform=\"translate(327 499)\" fill=\"#fff\"/><circle cx=\"7\" cy=\"7\" r=\"7\" transform=\"translate(326 478)\" fill=\"#fff\"/></g><rect width=\"278\" height=\"15\" transform=\"translate(80 184)\" fill=\"#9cbecd\"/><text transform=\"translate(220 195)\" fill=\"#fff\" fontSize=\"12\" fontFamily=\"OpenSans-Extrabold, Open Sans\" fontWeight=\"800\"><tspan x=\"-48.718\" y=\"0\">YOUR SITE TITLE</tspan></text></g></svg>\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tclassName=\"mail-header-type-icon\"\n\t\t\t\t\t\t\t\t\t/>,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tvalue: \"below_text\",\n\t\t\t\t\t\t\t\tlabel: \n\t\t\t\t\t\t\t\t\t<Icon\n\t\t\t\t\t\t\t\t\t\ticon={\n\t\t\t\t\t\t\t\t\t\t\t<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"278\" height=\"92\" viewBox=\"0 0 278 92\"><g transform=\"translate(-80 -229)\"><rect width=\"278\" height=\"71\" transform=\"translate(80 250)\" fill=\"#9cbecd\"/><g transform=\"translate(-137 -209)\"><path d=\"M20,0,40,30H0Z\" transform=\"translate(347 490)\" fill=\"#fff\"/><path d=\"M14,0,28,21H0Z\" transform=\"translate(327 499)\" fill=\"#fff\"/><circle cx=\"7\" cy=\"7\" r=\"7\" transform=\"translate(326 478)\" fill=\"#fff\"/></g><rect width=\"278\" height=\"15\" transform=\"translate(80 231)\" fill=\"#9cbecd\"/><text transform=\"translate(220 242)\" fill=\"#fff\" fontSize=\"12\" fontFamily=\"OpenSans-Extrabold, Open Sans\" fontWeight=\"800\"><tspan x=\"-48.718\" y=\"0\">YOUR SITE TITLE</tspan></text></g></svg>\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tclassName=\"mail-header-type-icon\"\n\t\t\t\t\t\t\t\t\t/>,\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t]}\n\t\t\t\t\t\tonChange={(value) => {\n\t\t\t\t\t\t\ttemplateDesignerContext.updateSetting(\n\t\t\t\t\t\t\t\t\"headerimg_placement\",\n\t\t\t\t\t\t\t\tvalue\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tforceRerender();\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t</PanelRow>\n\t\t\t</PanelBody>\n\t\t\t<PanelBody\n\t\t\t\ttitle={__(\"Background color\", \"wp-html-mail\")}\n\t\t\t\tinitialOpen={false}\n\t\t\t>\n\t\t\t\t<PanelRow>\n\t\t\t\t\t<ColorPicker\n\t\t\t\t\t\tcolor={settings.headerbackground}\n\t\t\t\t\t\tonChangeComplete={(value) => {\n\t\t\t\t\t\t\ttemplateDesignerContext.updateSetting(\n\t\t\t\t\t\t\t\t\"headerbackground\",\n\t\t\t\t\t\t\t\tvalue.hex\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tforceRerender();\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tdisableAlpha\n\t\t\t\t\t/>\n\t\t\t\t</PanelRow>\n\t\t\t</PanelBody>\n\t\t\t<PanelBody\n\t\t\t\ttitle={__(\"Padding\", \"wp-html-mail\")}\n\t\t\t\tinitialOpen={false}\n\t\t\t>\n\t\t\t\t<PanelRow>\n\t\t\t\t\t<RangeControl\n\t\t\t\t\t\tbeforeIcon=\"arrow-down\"\n\t\t\t\t\t\tvalue={getIntVal(settings.headerpaddingtop, 10)}\n\t\t\t\t\t\tonChange={(value) => {\n\t\t\t\t\t\t\ttemplateDesignerContext.updateSetting(\n\t\t\t\t\t\t\t\t\"headerpaddingtop\",\n\t\t\t\t\t\t\t\tvalue\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tforceRerender();\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tmin={0}\n\t\t\t\t\t\tmax={100}\n\t\t\t\t\t/>\n\t\t\t\t</PanelRow>\n\t\t\t\t<PanelRow>\n\t\t\t\t\t<RangeControl\n\t\t\t\t\t\tbeforeIcon=\"arrow-left\"\n\t\t\t\t\t\tvalue={getIntVal(settings.headerpaddingright, 10)}\n\t\t\t\t\t\tonChange={(value) => {\n\t\t\t\t\t\t\ttemplateDesignerContext.updateSetting(\n\t\t\t\t\t\t\t\t\"headerpaddingright\",\n\t\t\t\t\t\t\t\tvalue\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tforceRerender();\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tmin={0}\n\t\t\t\t\t\tmax={100}\n\t\t\t\t\t/>\n\t\t\t\t</PanelRow>\n\t\t\t\t<PanelRow>\n\t\t\t\t\t<RangeControl\n\t\t\t\t\t\tbeforeIcon=\"arrow-up\"\n\t\t\t\t\t\tvalue={getIntVal(settings.headerpaddingbottom, 10)}\n\t\t\t\t\t\tonChange={(value) => {\n\t\t\t\t\t\t\ttemplateDesignerContext.updateSetting(\n\t\t\t\t\t\t\t\t\"headerpaddingbottom\",\n\t\t\t\t\t\t\t\tvalue\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tforceRerender();\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tmin={0}\n\t\t\t\t\t\tmax={100}\n\t\t\t\t\t/>\n\t\t\t\t</PanelRow>\n\t\t\t\t<PanelRow>\n\t\t\t\t\t<RangeControl\n\t\t\t\t\t\tbeforeIcon=\"arrow-right\"\n\t\t\t\t\t\tvalue={getIntVal(settings.headerpaddingleft, 10)}\n\t\t\t\t\t\tonChange={(value) => {\n\t\t\t\t\t\t\ttemplateDesignerContext.updateSetting(\n\t\t\t\t\t\t\t\t\"headerpaddingleft\",\n\t\t\t\t\t\t\t\tvalue\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tforceRerender();\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tmin={0}\n\t\t\t\t\t\tmax={100}\n\t\t\t\t\t/>\n\t\t\t\t</PanelRow>\n\t\t\t</PanelBody>\n\t\t</React.Fragment>\n\t);\n\n\tuseEffect(() => {\n\t\tif (templateDesignerContext.editingElement === elementName) {\n\t\t\ttemplateDesignerContext.setPanelTitle(elementTitle);\n\t\t}\n\t}, [templateDesignerContext.editingElement]);\n\n\tuseEffect(() => {\n\t\tif (templateDesignerContext.editingElement === elementName) {\n\t\t\ttemplateDesignerContext.setPanelOptions(options);\n\t\t}\n\t}, [templateDesignerContext.editingElement, settings]);\n\n\tconst forceRerender = () => {\n\t\tsetRerenderKey(\n\t\t\tMath.random()\n\t\t\t\t.toString(36)\n\t\t\t\t.replace(/[^a-z]+/g, \"\")\n\t\t\t\t.substr(0, 5)\n\t\t);\n\t};\n\n\treturn (\n\t\t<EditableElement\n\t\t\telementTitle={elementTitle}\n\t\t\telementName={elementName}\n\t\t\tkey={rerenderKey}\n\t\t>\n\t\t\t<div\n\t\t\t\tclassName=\"mail-header\"\n\t\t\t\tstyle={{\n\t\t\t\t\tbackgroundColor: settings.headerbackground,\n\t\t\t\t\tpaddingTop: getIntVal(settings.headerpaddingtop),\n\t\t\t\t\tpaddingRight: getIntVal(settings.headerpaddingright),\n\t\t\t\t\tpaddingBottom: getIntVal(settings.headerpaddingbottom),\n\t\t\t\t\tpaddingLeft: getIntVal(settings.headerpaddingleft),\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t{headerimg_placement === \"replace_text\" && <HeaderImage />}\n\t\t\t\t{headerimg_placement === \"above_text\" && (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<HeaderImage />\n\t\t\t\t\t\t<HeaderText />\n\t\t\t\t\t</>\n\t\t\t\t)}\n\t\t\t\t{headerimg_placement === \"below_text\" && (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<HeaderText />\n\t\t\t\t\t\t<HeaderImage />\n\t\t\t\t\t</>\n\t\t\t\t)}\n\t\t\t\t{headerimg_placement === \"just_text\" && <HeaderText />}\n\t\t\t</div>\n\t\t</EditableElement>\n\t);\n}\n","import { useState, useEffect, useContext } from \"@wordpress/element\";\n\nimport {\n\tPanelBody,\n\tPanelRow,\n\tSelectControl,\n\tColorPicker,\n\tToolbar,\n\tTextControl,\n} from \"@wordpress/components\";\n\nimport { PopoverPicker } from \"./options/PopoverPicker\";\n\nimport { __ } from \"@wordpress/i18n\";\n\nimport { arrowUp, arrowLeft, arrowRight, arrowDown } from \"@wordpress/icons\";\n\nimport { TemplateDesignerContext } from \"../contexts/TemplateDesignerContext\";\nimport { getIntVal } from \"../functions/helper-functions\";\n\nimport EditableElement from \"./EditableElement.js\";\n\nexport default function MailContent({}) {\n\tconst templateDesignerContext = useContext(TemplateDesignerContext);\n\tconst { settings } = templateDesignerContext;\n\tconst elementTitle = __(\"Email content\", \"wp-html-mail\");\n\tconst elementName = \"content\";\n\n\tconst options = (\n\t\t<React.Fragment>\n\t\t\t<PanelBody\n\t\t\t\ttitle={__(\"Background color\", \"wp-html-mail\")}\n\t\t\t\tinitialOpen={false}\n\t\t\t>\n\t\t\t\t<PanelRow>\n\t\t\t\t\t<ColorPicker\n\t\t\t\t\t\tcolor={settings.contentbackground}\n\t\t\t\t\t\tonChangeComplete={(value) => {\n\t\t\t\t\t\t\ttemplateDesignerContext.updateSetting(\n\t\t\t\t\t\t\t\t\"contentbackground\",\n\t\t\t\t\t\t\t\tvalue.hex\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tdisableAlpha\n\t\t\t\t\t/>\n\t\t\t\t</PanelRow>\n\t\t\t</PanelBody>\n\t\t\t<PanelBody\n\t\t\t\ttitle={__(\"Headline Font\", \"wp-html-mail\")}\n\t\t\t\tinitialOpen={false}\n\t\t\t>\n\t\t\t\t<PanelRow>\n\t\t\t\t\t<SelectControl\n\t\t\t\t\t\tvalue={settings.headlinefont}\n\t\t\t\t\t\toptions={window.mailTemplateDesigner.fonts}\n\t\t\t\t\t\tonChange={(value) => {\n\t\t\t\t\t\t\ttemplateDesignerContext.updateSetting(\n\t\t\t\t\t\t\t\t\"headlinefont\",\n\t\t\t\t\t\t\t\tvalue\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t\t<TextControl\n\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\tonChange={(value) => {\n\t\t\t\t\t\t\ttemplateDesignerContext.updateSetting(\n\t\t\t\t\t\t\t\t\"headlinefontsize\",\n\t\t\t\t\t\t\t\tvalue\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tvalue={getIntVal(settings.headlinefontsize)}\n\t\t\t\t\t/>\n\t\t\t\t\t<PopoverPicker\n\t\t\t\t\t\tcolor={settings.headlinecolor}\n\t\t\t\t\t\tonChange={(value) => {\n\t\t\t\t\t\t\ttemplateDesignerContext.updateSetting(\n\t\t\t\t\t\t\t\t\"headlinecolor\",\n\t\t\t\t\t\t\t\tvalue.hex\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t</PanelRow>\n\t\t\t\t<PanelRow>\n\t\t\t\t\t<Toolbar\n\t\t\t\t\t\tcontrols={[\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ticon: \"editor-alignleft\",\n\t\t\t\t\t\t\t\tisActive: settings.headlinealign === \"left\",\n\t\t\t\t\t\t\t\tonClick: () =>\n\t\t\t\t\t\t\t\t\ttemplateDesignerContext.updateSetting(\n\t\t\t\t\t\t\t\t\t\t\"headlinealign\",\n\t\t\t\t\t\t\t\t\t\t\"left\"\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ticon: \"editor-aligncenter\",\n\t\t\t\t\t\t\t\tisActive: settings.headlinealign === \"center\",\n\t\t\t\t\t\t\t\tonClick: () =>\n\t\t\t\t\t\t\t\t\ttemplateDesignerContext.updateSetting(\n\t\t\t\t\t\t\t\t\t\t\"headlinealign\",\n\t\t\t\t\t\t\t\t\t\t\"center\"\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ticon: \"editor-alignright\",\n\t\t\t\t\t\t\t\tisActive: settings.headlinealign === \"right\",\n\t\t\t\t\t\t\t\tonClick: () =>\n\t\t\t\t\t\t\t\t\ttemplateDesignerContext.updateSetting(\n\t\t\t\t\t\t\t\t\t\t\"headlinealign\",\n\t\t\t\t\t\t\t\t\t\t\"right\"\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ticon: \"editor-bold\",\n\t\t\t\t\t\t\t\tisActive:\n\t\t\t\t\t\t\t\t\tgetIntVal(settings.headlinebold) === 1,\n\t\t\t\t\t\t\t\tonClick: () =>\n\t\t\t\t\t\t\t\t\ttemplateDesignerContext.updateSetting(\n\t\t\t\t\t\t\t\t\t\t\"headlinebold\",\n\t\t\t\t\t\t\t\t\t\tgetIntVal(settings.headlinebold) === 1\n\t\t\t\t\t\t\t\t\t\t\t? 0\n\t\t\t\t\t\t\t\t\t\t\t: 1\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ticon: \"editor-italic\",\n\t\t\t\t\t\t\t\tisActive:\n\t\t\t\t\t\t\t\t\tgetIntVal(settings.headlineitalic) === 1,\n\t\t\t\t\t\t\t\tonClick: () =>\n\t\t\t\t\t\t\t\t\ttemplateDesignerContext.updateSetting(\n\t\t\t\t\t\t\t\t\t\t\"headlineitalic\",\n\t\t\t\t\t\t\t\t\t\tgetIntVal(settings.headlineitalic) === 1\n\t\t\t\t\t\t\t\t\t\t\t? 0\n\t\t\t\t\t\t\t\t\t\t\t: 1\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ticon: \"arrow-up\",\n\t\t\t\t\t\t\t\tisActive:\n\t\t\t\t\t\t\t\t\tsettings.headlinetexttransform ===\n\t\t\t\t\t\t\t\t\t\"uppercase\",\n\t\t\t\t\t\t\t\tonClick: () =>\n\t\t\t\t\t\t\t\t\ttemplateDesignerContext.updateSetting(\n\t\t\t\t\t\t\t\t\t\t\"headlinetexttransform\",\n\t\t\t\t\t\t\t\t\t\tsettings.headlinetexttransform ===\n\t\t\t\t\t\t\t\t\t\t\t\"uppercase\"\n\t\t\t\t\t\t\t\t\t\t\t? \"none\"\n\t\t\t\t\t\t\t\t\t\t\t: \"uppercase\"\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t]}\n\t\t\t\t\t/>\n\t\t\t\t</PanelRow>\n\t\t\t</PanelBody>\n\t\t\t<PanelBody\n\t\t\t\ttitle={__(\"Subheadline Font\", \"wp-html-mail\")}\n\t\t\t\tinitialOpen={false}\n\t\t\t>\n\t\t\t\t<PanelRow>\n\t\t\t\t\t<SelectControl\n\t\t\t\t\t\tvalue={settings.subheadlinefont}\n\t\t\t\t\t\toptions={window.mailTemplateDesigner.fonts}\n\t\t\t\t\t\tonChange={(value) => {\n\t\t\t\t\t\t\ttemplateDesignerContext.updateSetting(\n\t\t\t\t\t\t\t\t\"subheadlinefont\",\n\t\t\t\t\t\t\t\tvalue\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t\t<TextControl\n\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\tonChange={(value) => {\n\t\t\t\t\t\t\ttemplateDesignerContext.updateSetting(\n\t\t\t\t\t\t\t\t\"subheadlinefontsize\",\n\t\t\t\t\t\t\t\tvalue\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tvalue={getIntVal(settings.subheadlinefontsize)}\n\t\t\t\t\t/>\n\t\t\t\t\t<PopoverPicker\n\t\t\t\t\t\tcolor={settings.subheadlinecolor}\n\t\t\t\t\t\tonChange={(value) => {\n\t\t\t\t\t\t\ttemplateDesignerContext.updateSetting(\n\t\t\t\t\t\t\t\t\"subheadlinecolor\",\n\t\t\t\t\t\t\t\tvalue.hex\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t</PanelRow>\n\t\t\t\t<PanelRow>\n\t\t\t\t\t<Toolbar\n\t\t\t\t\t\tcontrols={[\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ticon: \"editor-alignleft\",\n\t\t\t\t\t\t\t\tisActive: settings.subheadlinealign === \"left\",\n\t\t\t\t\t\t\t\tonClick: () =>\n\t\t\t\t\t\t\t\t\ttemplateDesignerContext.updateSetting(\n\t\t\t\t\t\t\t\t\t\t\"subheadlinealign\",\n\t\t\t\t\t\t\t\t\t\t\"left\"\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ticon: \"editor-aligncenter\",\n\t\t\t\t\t\t\t\tisActive:\n\t\t\t\t\t\t\t\t\tsettings.subheadlinealign === \"center\",\n\t\t\t\t\t\t\t\tonClick: () =>\n\t\t\t\t\t\t\t\t\ttemplateDesignerContext.updateSetting(\n\t\t\t\t\t\t\t\t\t\t\"subheadlinealign\",\n\t\t\t\t\t\t\t\t\t\t\"center\"\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ticon: \"editor-alignright\",\n\t\t\t\t\t\t\t\tisActive: settings.subheadlinealign === \"right\",\n\t\t\t\t\t\t\t\tonClick: () =>\n\t\t\t\t\t\t\t\t\ttemplateDesignerContext.updateSetting(\n\t\t\t\t\t\t\t\t\t\t\"subheadlinealign\",\n\t\t\t\t\t\t\t\t\t\t\"right\"\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ticon: \"editor-bold\",\n\t\t\t\t\t\t\t\tisActive:\n\t\t\t\t\t\t\t\t\tgetIntVal(settings.subheadlinebold) === 1,\n\t\t\t\t\t\t\t\tonClick: () =>\n\t\t\t\t\t\t\t\t\ttemplateDesignerContext.updateSetting(\n\t\t\t\t\t\t\t\t\t\t\"subheadlinebold\",\n\t\t\t\t\t\t\t\t\t\tgetIntVal(settings.subheadlinebold) ===\n\t\t\t\t\t\t\t\t\t\t\t1\n\t\t\t\t\t\t\t\t\t\t\t? 0\n\t\t\t\t\t\t\t\t\t\t\t: 1\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ticon: \"editor-italic\",\n\t\t\t\t\t\t\t\tisActive:\n\t\t\t\t\t\t\t\t\tgetIntVal(settings.subheadlineitalic) === 1,\n\t\t\t\t\t\t\t\tonClick: () =>\n\t\t\t\t\t\t\t\t\ttemplateDesignerContext.updateSetting(\n\t\t\t\t\t\t\t\t\t\t\"subheadlineitalic\",\n\t\t\t\t\t\t\t\t\t\tgetIntVal(\n\t\t\t\t\t\t\t\t\t\t\tsettings.subheadlineitalic\n\t\t\t\t\t\t\t\t\t\t) === 1\n\t\t\t\t\t\t\t\t\t\t\t? 0\n\t\t\t\t\t\t\t\t\t\t\t: 1\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ticon: \"arrow-up\",\n\t\t\t\t\t\t\t\tisActive:\n\t\t\t\t\t\t\t\t\tsettings.subheadlinetexttransform ===\n\t\t\t\t\t\t\t\t\t\"uppercase\",\n\t\t\t\t\t\t\t\tonClick: () =>\n\t\t\t\t\t\t\t\t\ttemplateDesignerContext.updateSetting(\n\t\t\t\t\t\t\t\t\t\t\"subheadlinetexttransform\",\n\t\t\t\t\t\t\t\t\t\tsettings.subheadlinetexttransform ===\n\t\t\t\t\t\t\t\t\t\t\t\"uppercase\"\n\t\t\t\t\t\t\t\t\t\t\t? \"none\"\n\t\t\t\t\t\t\t\t\t\t\t: \"uppercase\"\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t]}\n\t\t\t\t\t/>\n\t\t\t\t</PanelRow>\n\t\t\t</PanelBody>\n\n\t\t\t<PanelBody\n\t\t\t\ttitle={__(\"Content Font\", \"wp-html-mail\")}\n\t\t\t\tinitialOpen={false}\n\t\t\t>\n\t\t\t\t<PanelRow>\n\t\t\t\t\t<SelectControl\n\t\t\t\t\t\tvalue={settings.textfont}\n\t\t\t\t\t\toptions={window.mailTemplateDesigner.fonts}\n\t\t\t\t\t\tonChange={(value) => {\n\t\t\t\t\t\t\ttemplateDesignerContext.updateSetting(\n\t\t\t\t\t\t\t\t\"textfont\",\n\t\t\t\t\t\t\t\tvalue\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t\t<TextControl\n\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\tonChange={(value) => {\n\t\t\t\t\t\t\ttemplateDesignerContext.updateSetting(\n\t\t\t\t\t\t\t\t\"textfontsize\",\n\t\t\t\t\t\t\t\tvalue\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tvalue={getIntVal(settings.textfontsize)}\n\t\t\t\t\t/>\n\t\t\t\t\t<PopoverPicker\n\t\t\t\t\t\tcolor={settings.textcolor}\n\t\t\t\t\t\tonChange={(value) => {\n\t\t\t\t\t\t\ttemplateDesignerContext.updateSetting(\n\t\t\t\t\t\t\t\t\"textcolor\",\n\t\t\t\t\t\t\t\tvalue.hex\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t</PanelRow>\n\t\t\t\t<PanelRow>\n\t\t\t\t\t<Toolbar\n\t\t\t\t\t\tcontrols={[\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ticon: \"editor-alignleft\",\n\t\t\t\t\t\t\t\tisActive: settings.textalign === \"left\",\n\t\t\t\t\t\t\t\tonClick: () =>\n\t\t\t\t\t\t\t\t\ttemplateDesignerContext.updateSetting(\n\t\t\t\t\t\t\t\t\t\t\"textalign\",\n\t\t\t\t\t\t\t\t\t\t\"left\"\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ticon: \"editor-aligncenter\",\n\t\t\t\t\t\t\t\tisActive: settings.textalign === \"center\",\n\t\t\t\t\t\t\t\tonClick: () =>\n\t\t\t\t\t\t\t\t\ttemplateDesignerContext.updateSetting(\n\t\t\t\t\t\t\t\t\t\t\"textalign\",\n\t\t\t\t\t\t\t\t\t\t\"center\"\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ticon: \"editor-alignright\",\n\t\t\t\t\t\t\t\tisActive: settings.textalign === \"right\",\n\t\t\t\t\t\t\t\tonClick: () =>\n\t\t\t\t\t\t\t\t\ttemplateDesignerContext.updateSetting(\n\t\t\t\t\t\t\t\t\t\t\"textalign\",\n\t\t\t\t\t\t\t\t\t\t\"right\"\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ticon: \"editor-bold\",\n\t\t\t\t\t\t\t\tisActive: getIntVal(settings.textbold) === 1,\n\t\t\t\t\t\t\t\tonClick: () =>\n\t\t\t\t\t\t\t\t\ttemplateDesignerContext.updateSetting(\n\t\t\t\t\t\t\t\t\t\t\"textbold\",\n\t\t\t\t\t\t\t\t\t\tgetIntVal(settings.textbold) === 1\n\t\t\t\t\t\t\t\t\t\t\t? 0\n\t\t\t\t\t\t\t\t\t\t\t: 1\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ticon: \"editor-italic\",\n\t\t\t\t\t\t\t\tisActive: getIntVal(settings.textitalic) === 1,\n\t\t\t\t\t\t\t\tonClick: () =>\n\t\t\t\t\t\t\t\t\ttemplateDesignerContext.updateSetting(\n\t\t\t\t\t\t\t\t\t\t\"textitalic\",\n\t\t\t\t\t\t\t\t\t\tgetIntVal(settings.textitalic) === 1\n\t\t\t\t\t\t\t\t\t\t\t? 0\n\t\t\t\t\t\t\t\t\t\t\t: 1\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t]}\n\t\t\t\t\t/>\n\t\t\t\t</PanelRow>\n\t\t\t</PanelBody>\n\n\t\t\t<PanelBody\n\t\t\t\ttitle={__(\"Link styling\", \"wp-html-mail\")}\n\t\t\t\tinitialOpen={false}\n\t\t\t>\n\t\t\t\t<PanelRow>\n\t\t\t\t\t<Toolbar\n\t\t\t\t\t\tcontrols={[\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ticon: \"editor-bold\",\n\t\t\t\t\t\t\t\tisActive: getIntVal(settings.linkbold) === 1,\n\t\t\t\t\t\t\t\tonClick: () =>\n\t\t\t\t\t\t\t\t\ttemplateDesignerContext.updateSetting(\n\t\t\t\t\t\t\t\t\t\t\"linkbold\",\n\t\t\t\t\t\t\t\t\t\tgetIntVal(settings.linkbold) === 1\n\t\t\t\t\t\t\t\t\t\t\t? 0\n\t\t\t\t\t\t\t\t\t\t\t: 1\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ticon: \"editor-italic\",\n\t\t\t\t\t\t\t\tisActive: getIntVal(settings.linkitalic) === 1,\n\t\t\t\t\t\t\t\tonClick: () =>\n\t\t\t\t\t\t\t\t\ttemplateDesignerContext.updateSetting(\n\t\t\t\t\t\t\t\t\t\t\"linkitalic\",\n\t\t\t\t\t\t\t\t\t\tgetIntVal(settings.linkitalic) === 1\n\t\t\t\t\t\t\t\t\t\t\t? 0\n\t\t\t\t\t\t\t\t\t\t\t: 1\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ticon: \"editor-underline\",\n\t\t\t\t\t\t\t\tisActive:\n\t\t\t\t\t\t\t\t\tgetIntVal(settings.linkunderline) === 1,\n\t\t\t\t\t\t\t\tonClick: () =>\n\t\t\t\t\t\t\t\t\ttemplateDesignerContext.updateSetting(\n\t\t\t\t\t\t\t\t\t\t\"linkunderline\",\n\t\t\t\t\t\t\t\t\t\tgetIntVal(settings.linkunderline) === 1\n\t\t\t\t\t\t\t\t\t\t\t? 0\n\t\t\t\t\t\t\t\t\t\t\t: 1\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ticon: \"arrow-up\",\n\t\t\t\t\t\t\t\tisActive:\n\t\t\t\t\t\t\t\t\tsettings.linktexttransform === \"uppercase\",\n\t\t\t\t\t\t\t\tonClick: () =>\n\t\t\t\t\t\t\t\t\ttemplateDesignerContext.updateSetting(\n\t\t\t\t\t\t\t\t\t\t\"linktexttransform\",\n\t\t\t\t\t\t\t\t\t\tsettings.linktexttransform ===\n\t\t\t\t\t\t\t\t\t\t\t\"uppercase\"\n\t\t\t\t\t\t\t\t\t\t\t? \"none\"\n\t\t\t\t\t\t\t\t\t\t\t: \"uppercase\"\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t]}\n\t\t\t\t\t/>\n\t\t\t\t\t<PopoverPicker\n\t\t\t\t\t\tcolor={settings.linkcolor}\n\t\t\t\t\t\tonChange={(value) => {\n\t\t\t\t\t\t\ttemplateDesignerContext.updateSetting(\n\t\t\t\t\t\t\t\t\"linkcolor\",\n\t\t\t\t\t\t\t\tvalue.hex\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t</PanelRow>\n\t\t\t</PanelBody>\n\t\t\t<PanelRow className=\"mail-info-panel\">\n\t\t\t\t<p>\n\t\t\t\t\t{__(\n\t\t\t\t\t\t\"Do you wonder why you can't change the email content?\",\n\t\t\t\t\t\t\"wp-html-mail\"\n\t\t\t\t\t)}\n\t\t\t\t\t<br/>\n\t\t\t\t\t{__(\n\t\t\t\t\t\t\"This is not a newsletter tool, this plugins catches all outgoing WordPress emails as well as mails from most of your plugins and wraps those messages in your nice template. So the content could come from your contact form, a comment notification your store sales and many more emails.\",\n\t\t\t\t\t\t\"wp-html-mail\"\n\t\t\t\t\t)}\n\t\t\t\t</p>\n\t\t\t</PanelRow>\n\t\t</React.Fragment>\n\t);\n\n\tuseEffect(() => {\n\t\tif (templateDesignerContext.editingElement === elementName) {\n\t\t\ttemplateDesignerContext.setPanelTitle(elementTitle);\n\t\t}\n\t}, [templateDesignerContext.editingElement]);\n\n\tuseEffect(() => {\n\t\tif (templateDesignerContext.editingElement === elementName) {\n\t\t\ttemplateDesignerContext.setPanelOptions(options);\n\t\t}\n\t}, [templateDesignerContext.editingElement, settings]);\n\n\tconst h1Styles = {\n\t\tfontSize: getIntVal(settings.headlinefontsize),\n\t\tfontFamily: settings.headlinefont,\n\t\tfontStyle:\n\t\t\tgetIntVal(settings.headlineitalic) === 1 ? \"italic\" : \"normal\",\n\t\tfontWeight: getIntVal(settings.headlinebold) === 1 ? \"bold\" : \"normal\",\n\t\ttextTransform: settings.headlinetexttransform,\n\t\tcolor: settings.headlinecolor,\n\t\ttextAlign: settings.headlinealign,\n\t\tlineHeight: 1.5,\n\t\tmarginTop: \"0.67em\",\n\t\tmarginBottom: \"0.67em\",\n\t};\n\n\tconst h2Styles = {\n\t\tfontSize: getIntVal(settings.subheadlinefontsize),\n\t\tfontFamily: settings.subheadlinefont,\n\t\tfontStyle:\n\t\t\tgetIntVal(settings.subheadlineitalic) === 1 ? \"italic\" : \"normal\",\n\t\tfontWeight:\n\t\t\tgetIntVal(settings.subheadlinebold) === 1 ? \"bold\" : \"normal\",\n\t\ttextTransform: settings.subheadlinetexttransform,\n\t\tcolor: settings.subheadlinecolor,\n\t\ttextAlign: settings.subheadlinealign,\n\t\tlineHeight: 1.5,\n\t\tmarginTop: \"0.83em\",\n\t\tmarginBottom: \"0.83em\",\n\t};\n\n\tconst pStyles = {\n\t\tfontSize: getIntVal(settings.textfontsize),\n\t\tfontFamily: settings.textfont,\n\t\tfontStyle: getIntVal(settings.textitalic) === 1 ? \"italic\" : \"normal\",\n\t\tfontWeight: getIntVal(settings.textbold) === 1 ? \"bold\" : \"normal\",\n\t\tcolor: settings.textcolor,\n\t\ttextAlign: settings.textalign,\n\t\tlineHeight: 1.5,\n\t\tmarginTop: \"0.83em\",\n\t\tmarginBottom: \"0.83em\",\n\t};\n\n\tconst aStyles = {\n\t\tfontStyle: getIntVal(settings.linkitalic) === 1 ? \"italic\" : \"normal\",\n\t\tfontWeight: getIntVal(settings.linkbold) === 1 ? \"bold\" : \"normal\",\n\t\ttextDecoration:\n\t\t\tgetIntVal(settings.linkunderline) === 1 ? \"underline\" : \"none\",\n\t\ttextTransform: settings.linktexttransform,\n\t\tcolor: settings.linkcolor,\n\t};\n\n\treturn (\n\t\t<EditableElement elementTitle={elementTitle} elementName={elementName}>\n\t\t\t<div\n\t\t\t\tclassName=\"mail-content clearfix\"\n\t\t\t\tstyle={{\n\t\t\t\t\tbackgroundColor: settings.contentbackground,\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<h1 style={h1Styles}>Lorem ipsum dolor sit amet</h1>\n\t\t\t\t<p style={pStyles}>\n\t\t\t\t\tLorem ipsum dolor sit amet, consetetur sadipscing elitr, sed{\" \"}\n\t\t\t\t\t<a href=\"#\" style={aStyles}>\n\t\t\t\t\t\tdiam nonumy\n\t\t\t\t\t</a>{\" \"}\n\t\t\t\t\teirmod tempor invidunt ut labore et dolore magna aliquyam\n\t\t\t\t\terat, sed diam voluptua. At vero eos et accusam et justo duo\n\t\t\t\t\tdolores et ea rebum.\n\t\t\t\t\t<br />\n\t\t\t\t\tStet clita kasd gubergren, no sea takimata sanctus est Lorem\n\t\t\t\t\tipsum dolor sit amet.\n\t\t\t\t</p>\n\t\t\t\t<h2 style={h2Styles}>Sed diam nonumy eirmod tempor</h2>\n\t\t\t\t<p style={pStyles}>\n\t\t\t\t\tLorem ipsum dolor sit amet, consetetur sadipscing elitr, sed\n\t\t\t\t\tdiam nonumy eirmod tempor invidunt ut labore et dolore magna\n\t\t\t\t\taliquyam erat, sed diam voluptua.\n\t\t\t\t</p>\n\t\t\t</div>\n\t\t</EditableElement>\n\t);\n}\n","import { useState, useEffect, useContext } from \"@wordpress/element\";\n\nimport {\n\tPanelBody,\n\tPanelRow,\n\tColorPicker,\n\tFormToggle,\n\tTextareaControl,\n} from \"@wordpress/components\";\n\nimport { __ } from \"@wordpress/i18n\";\n\nimport { arrowUp, arrowLeft, arrowRight, arrowDown } from \"@wordpress/icons\";\n\nimport { TemplateDesignerContext } from \"../contexts/TemplateDesignerContext\";\nimport {\n\tisTranslationEnabledForField,\n\tgetTranslateableThemeOption,\n\tgetTranslateableThemeOptionsKey,\n} from \"../functions/helper-functions\";\n\nimport EditableElement from \"./EditableElement.js\";\n\nexport default function MailFooter({}) {\n\tconst templateDesignerContext = useContext(TemplateDesignerContext);\n\tconst [editor, setEditor] = useState(false);\n\tconst { settings } = templateDesignerContext;\n\tconst elementTitle = __(\"Email footer\", \"wp-html-mail\");\n\tconst elementName = \"footer\";\n\tconst footer = getTranslateableThemeOption(settings, \"footer\").replace(\n\t\t/\\\\(.)/gm,\n\t\t\"$1\"\n\t); // this is some kind of stripslashes\n\tconst footer_field_key = getTranslateableThemeOptionsKey(\n\t\tsettings,\n\t\t\"footer\"\n\t);\n\n\tconst options = (\n\t\t<React.Fragment>\n\t\t\t<PanelBody\n\t\t\t\ttitle={__(\"Background color\", \"wp-html-mail\")}\n\t\t\t\tinitialOpen={false}\n\t\t\t>\n\t\t\t\t<PanelRow>\n\t\t\t\t\t<ColorPicker\n\t\t\t\t\t\tcolor={settings.footerbackground}\n\t\t\t\t\t\tonChangeComplete={(value) => {\n\t\t\t\t\t\t\ttemplateDesignerContext.updateSetting(\n\t\t\t\t\t\t\t\t\"footerbackground\",\n\t\t\t\t\t\t\t\tvalue.hex\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tdisableAlpha\n\t\t\t\t\t/>\n\t\t\t\t</PanelRow>\n\t\t\t</PanelBody>\n\t\t\t{/* <PanelBody\n\t\t\t\ttitle={__(\"Padding\", \"wp-html-mail\")}\n\t\t\t\tinitialOpen={false}\n\t\t\t>\n\t\t\t\t<PanelRow>\n\t\t\t\t\t<RangeControl\n\t\t\t\t\t\tbeforeIcon={arrowDown}\n\t\t\t\t\t\tvalue={getIntVal(settings.headerpaddingtop, 10)}\n\t\t\t\t\t\tonChange={(value) => {\n\t\t\t\t\t\t\ttemplateDesignerContext.updateSetting(\n\t\t\t\t\t\t\t\t\"headerpaddingtop\",\n\t\t\t\t\t\t\t\tvalue\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tmin={0}\n\t\t\t\t\t\tmax={100}\n\t\t\t\t\t/>\n\t\t\t\t</PanelRow>\n\t\t\t\t<PanelRow>\n\t\t\t\t\t<RangeControl\n\t\t\t\t\t\tbeforeIcon={arrowLeft}\n\t\t\t\t\t\tvalue={getIntVal(settings.headerpaddingright, 10)}\n\t\t\t\t\t\tonChange={(value) => {\n\t\t\t\t\t\t\ttemplateDesignerContext.updateSetting(\n\t\t\t\t\t\t\t\t\"headerpaddingright\",\n\t\t\t\t\t\t\t\tvalue\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tmin={0}\n\t\t\t\t\t\tmax={100}\n\t\t\t\t\t/>\n\t\t\t\t</PanelRow>\n\t\t\t\t<PanelRow>\n\t\t\t\t\t<RangeControl\n\t\t\t\t\t\tbeforeIcon={arrowUp}\n\t\t\t\t\t\tvalue={getIntVal(settings.headerpaddingbottom, 10)}\n\t\t\t\t\t\tonChange={(value) => {\n\t\t\t\t\t\t\ttemplateDesignerContext.updateSetting(\n\t\t\t\t\t\t\t\t\"headerpaddingbottom\",\n\t\t\t\t\t\t\t\tvalue\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tmin={0}\n\t\t\t\t\t\tmax={100}\n\t\t\t\t\t/>\n\t\t\t\t</PanelRow>\n\t\t\t\t<PanelRow>\n\t\t\t\t\t<RangeControl\n\t\t\t\t\t\tbeforeIcon={arrowRight}\n\t\t\t\t\t\tvalue={getIntVal(settings.headerpaddingleft, 10)}\n\t\t\t\t\t\tonChange={(value) => {\n\t\t\t\t\t\t\ttemplateDesignerContext.updateSetting(\n\t\t\t\t\t\t\t\t\"headerpaddingleft\",\n\t\t\t\t\t\t\t\tvalue\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tmin={0}\n\t\t\t\t\t\tmax={100}\n\t\t\t\t\t/>\n\t\t\t\t</PanelRow>\n\t\t\t</PanelBody> */}\n\t\t\t<PanelBody\n\t\t\t\ttitle={__(\"Edit HTML\", \"wp-html-mail\")}\n\t\t\t\tinitialOpen={false}\n\t\t\t>\n\t\t\t\t<PanelRow>\n\t\t\t\t\t<TextareaControl\n\t\t\t\t\t\thelp={__(\n\t\t\t\t\t\t\t\"Just in case the editor on the left is not flexible enough you can use this field to edit the HTML code.\",\n\t\t\t\t\t\t\t\"wp-html-mail\"\n\t\t\t\t\t\t)}\n\t\t\t\t\t\tclassName=\"footer-html\"\n\t\t\t\t\t\tvalue={footer}\n\t\t\t\t\t\tonChange={(value) => {\n\t\t\t\t\t\t\ttemplateDesignerContext.updateSetting(\n\t\t\t\t\t\t\t\tfooter_field_key,\n\t\t\t\t\t\t\t\tvalue\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tplaceholder={__(\"your code snippet\")}\n\t\t\t\t\t/>\n\t\t\t\t</PanelRow>\n\t\t\t</PanelBody>\n\t\t\t{window.mailTemplateDesigner.isMultiLanguageSite == 1 && (\n\t\t\t\t<PanelBody\n\t\t\t\t\ttitle={__(\"Translation\", \"wp-html-mail\")}\n\t\t\t\t\tinitialOpen={false}\n\t\t\t\t>\n\t\t\t\t\t<PanelRow>\n\t\t\t\t\t\t<FormToggle\n\t\t\t\t\t\t\tchecked={isTranslationEnabledForField(\n\t\t\t\t\t\t\t\tsettings,\n\t\t\t\t\t\t\t\t\"footer\"\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\tonChange={(e) =>\n\t\t\t\t\t\t\t\ttemplateDesignerContext.updateSetting(\n\t\t\t\t\t\t\t\t\t\"footer_enable_translation\",\n\t\t\t\t\t\t\t\t\t!isTranslationEnabledForField(\n\t\t\t\t\t\t\t\t\t\tsettings,\n\t\t\t\t\t\t\t\t\t\t\"footer\"\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t{__(\n\t\t\t\t\t\t\t\"Enable translation for this field\",\n\t\t\t\t\t\t\t\"wp-html-mail\"\n\t\t\t\t\t\t)}\n\t\t\t\t\t</PanelRow>\n\t\t\t\t\t<PanelRow>\n\t\t\t\t\t\t<p className=\"description\">\n\t\t\t\t\t\t\t{__(\n\t\t\t\t\t\t\t\t\"If enabled you can use individual settings depending on the current language selected at the top of the page in your admin bar.\",\n\t\t\t\t\t\t\t\t\"wp-html-mail\"\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</p>\n\t\t\t\t\t</PanelRow>\n\t\t\t\t</PanelBody>\n\t\t\t)}\n\t\t</React.Fragment>\n\t);\n\n\tconst onEditorSetup = (newEditor) => {\n\t\tsetEditor(newEditor);\n\t\tif (footer) {\n\t\t\tnewEditor.on(\"loadContent\", () => newEditor.setContent(footer));\n\t\t}\n\n\t\tnewEditor.on(\"blur\", () => {\n\t\t\ttemplateDesignerContext.updateSetting(\n\t\t\t\tfooter_field_key,\n\t\t\t\tnewEditor.getContent()\n\t\t\t);\n\n\t\t\treturn false;\n\t\t});\n\t};\n\n\tuseEffect(() => {\n\t\tif (templateDesignerContext.editingElement === elementName) {\n\t\t\ttemplateDesignerContext.setPanelTitle(elementTitle);\n\t\t}\n\t}, [templateDesignerContext.editingElement]);\n\n\tuseEffect(() => {\n\t\tif (templateDesignerContext.editingElement === elementName) {\n\t\t\ttemplateDesignerContext.setPanelOptions(options);\n\t\t\twindow.setTimeout(() => {\n\t\t\t\tlet availableFonts = \"\";\n\t\t\t\twindow.mailTemplateDesigner.fonts.forEach((font) => {\n\t\t\t\t\tavailableFonts += font.label + \"=\" + font.value + \";\";\n\t\t\t\t});\n\t\t\t\twp.oldEditor.initialize(\"footer-html\", {\n\t\t\t\t\ttinymce: {\n\t\t\t\t\t\tinline: true,\n\t\t\t\t\t\tcontent_css: false,\n\t\t\t\t\t\tfixed_toolbar_container: \"footer-editor-toolbar\",\n\t\t\t\t\t\ttoolbar1: \"fontselect,fontsizeselect,|,undo,redo\",\n\t\t\t\t\t\ttoolbar2:\n\t\t\t\t\t\t\t\"forecolor,|,bold,italic,|,alignleft,aligncenter,alignright,|,pastetext,|,link,unlink\",\n\t\t\t\t\t\tfont_formats: availableFonts,\n\t\t\t\t\t\tfontsize_formats:\n\t\t\t\t\t\t\t\"10px 11px 12px 13px 14px 15px 16px 17px 18px 20px 22px 24px 26px 28px 30px 35px 40px\",\n\t\t\t\t\t\tsetup: onEditorSetup,\n\t\t\t\t\t},\n\t\t\t\t});\n\t\t\t}, 1000);\n\t\t} else {\n\t\t\twp.oldEditor.remove(\"footer-html\");\n\t\t}\n\t}, [templateDesignerContext.editingElement, settings]);\n\n\treturn (\n\t\t<EditableElement elementTitle={elementTitle} elementName={elementName}>\n\t\t\t<div\n\t\t\t\tclassName=\"mail-footer clearfix\"\n\t\t\t\tstyle={{\n\t\t\t\t\tbackgroundColor: settings.footerbackground,\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<div\n\t\t\t\t\tkey=\"toolbar\"\n\t\t\t\t\tid=\"footer-editor-toolbar\"\n\t\t\t\t\tclassName=\"block-library-classic__toolbar\"\n\t\t\t\t\tonKeyDown={(e) => {\n\t\t\t\t\t\telementName.stopPropagation();\n\t\t\t\t\t\te.nativeEvent.stopImmediatePropagation();\n\t\t\t\t\t}}\n\t\t\t\t/>\n\t\t\t\t<div\n\t\t\t\t\tkey=\"editor\"\n\t\t\t\t\tid=\"footer-html\"\n\t\t\t\t\tclassName=\"wp-block-freeform block-library-rich-text__tinymce\"\n\t\t\t\t\tdangerouslySetInnerHTML={{\n\t\t\t\t\t\t__html: footer,\n\t\t\t\t\t}}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t</EditableElement>\n\t);\n}\n","import { useState, useEffect, useContext } from \"@wordpress/element\";\n\nimport {\n\tButton,\n\tPanelBody,\n\tPanelRow,\n\tColorPicker,\n\tSpinner,\n\tNotice,\n\tAnimate,\n} from \"@wordpress/components\";\nimport { __ } from \"@wordpress/i18n\";\n\nimport { TemplateDesignerContext } from \"../contexts/TemplateDesignerContext\";\n\nimport OptionsPanel from \"./OptionsPanel\";\nimport MailHeader from \"./MailHeader\";\nimport MailContent from \"./MailContent\";\nimport MailFooter from \"./MailFooter\";\nimport EditableElement from \"./EditableElement\";\n\nexport default function MailTemplate() {\n\tconst templateDesignerContext = useContext(TemplateDesignerContext);\n\tconst { settings } = templateDesignerContext;\n\tconst [isSaving, setIsSaving] = useState(false);\n\tconst [showSaveSuccess, setShowSaveSuccess] = useState(false);\n\tconst elementTitle = __(\"Email Container\", \"wp-html-mail\");\n\tconst elementName = \"container\";\n\tconst options = (\n\t\t<PanelBody\n\t\t\ttitle={__(\"Background color\", \"wp-html-mail\")}\n\t\t\tinitialOpen={true}\n\t\t>\n\t\t\t<PanelRow>\n\t\t\t\t<ColorPicker\n\t\t\t\t\tcolor={settings.background}\n\t\t\t\t\tonChangeComplete={(value) => {\n\t\t\t\t\t\ttemplateDesignerContext.updateSetting(\n\t\t\t\t\t\t\t\"background\",\n\t\t\t\t\t\t\tvalue.hex\n\t\t\t\t\t\t);\n\t\t\t\t\t}}\n\t\t\t\t\tdisableAlpha\n\t\t\t\t/>\n\t\t\t</PanelRow>\n\t\t</PanelBody>\n\t);\n\n\tconst loadSettings = () => {\n\t\tvar request = new Request(\n\t\t\twindow.mailTemplateDesigner.restUrl + \"themesettings\",\n\t\t\t{\n\t\t\t\tmethod: \"GET\",\n\t\t\t\theaders: {\n\t\t\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t\t\t\"X-WP-Nonce\": window.mailTemplateDesigner.nonce\n\t\t\t\t},\n\t\t\t\tcredentials: \"same-origin\"\n\t\t\t}\n\t\t);\n\t\tfetch(request)\n\t\t\t.then((resp) => resp.json())\n\t\t\t.then((data) => {\n\t\t\t\ttemplateDesignerContext.setSettings(data);\n\t\t\t\ttemplateDesignerContext.setIsLoading(false);\n\t\t\t});\n\t};\n\n\tconst saveSettings = () => {\n\t\tsetIsSaving(true);\n\t\tvar request = new Request(\n\t\t\twindow.mailTemplateDesigner.restUrl + \"themesettings\",\n\t\t\t{\n\t\t\t\tmethod: \"POST\",\n\t\t\t\tbody: JSON.stringify(settings),\n\t\t\t\theaders: {\n\t\t\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t\t\t\"X-WP-Nonce\": window.mailTemplateDesigner.nonce\n\t\t\t\t},\n\t\t\t}\n\t\t);\n\t\tfetch(request)\n\t\t\t.then((resp) => resp.json())\n\t\t\t.then((data) => {\n\t\t\t\tsetIsSaving(false);\n\t\t\t\tsetShowSaveSuccess(true);\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tsetShowSaveSuccess(false);\n\t\t\t\t}, 4000);\n\t\t\t\tif (data.preview) {\n\t\t\t\t\thaet_mail.previewMail(data.preview);\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tuseEffect(() => {\n\t\tloadSettings();\n\t}, []);\n\n\tuseEffect(() => {\n\t\tif (templateDesignerContext.editingElement === elementName) {\n\t\t\ttemplateDesignerContext.setPanelTitle(elementTitle);\n\t\t}\n\t}, [templateDesignerContext.editingElement]);\n\n\tuseEffect(() => {\n\t\tif (templateDesignerContext.editingElement === elementName) {\n\t\t\ttemplateDesignerContext.setPanelOptions(options);\n\t\t}\n\t}, [templateDesignerContext.editingElement, settings]);\n\n\tif (templateDesignerContext.isLoading || !templateDesignerContext.settings)\n\t\treturn (\n\t\t\t<div className=\"mail-loader\">\n\t\t\t\t<Spinner />\n\t\t\t</div>\n\t\t);\n\telse\n\t\treturn (\n\t\t\t<React.Fragment>\n\t\t\t\t<div\n\t\t\t\t\tclassName=\"mail-container\"\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\tbackgroundColor: settings.background,\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t{showSaveSuccess && (\n\t\t\t\t\t\t<Notice status=\"success\" isDismissible={false}>\n\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t{__(\n\t\t\t\t\t\t\t\t\t\"Your settings have been saved. Check the preview of your email at the bottom of the page.\",\n\t\t\t\t\t\t\t\t\t\"wp-html-mail\"\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t</Notice>\n\t\t\t\t\t)}\n\n\t\t\t\t\t<div className=\"save-button-pane components-panel__header\">\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tisSecondary\n\t\t\t\t\t\t\thref={\n\t\t\t\t\t\t\t\twindow.mailTemplateDesigner.templateLibraryUrl\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tstyle={{ marginRight: 10 }}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{__(\"Browse our template library\", \"wp-html-mail\")}\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tisPrimary\n\t\t\t\t\t\t\tisBusy={isSaving}\n\t\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\t\tsaveSettings();\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{__(\"Save and Preview\", \"wp-html-mail\")}\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</div>\n\t\t\t\t\t<EditableElement\n\t\t\t\t\t\telementTitle={elementTitle}\n\t\t\t\t\t\telementName={elementName}\n\t\t\t\t\t\tframeSize=\"xs\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<div className=\"mail-content-wrap\">\n\t\t\t\t\t\t\t<MailHeader />\n\t\t\t\t\t\t\t<MailContent />\n\t\t\t\t\t\t\t<MailFooter />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</EditableElement>\n\t\t\t\t</div>\n\t\t\t\t<OptionsPanel />\n\t\t\t</React.Fragment>\n\t\t);\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport MailTemplate from \"../components/MailTemplate\";\n\nimport TemplateDesignerContextProvider from \"../contexts/TemplateDesignerContext\";\n\ndocument.addEventListener(\"DOMContentLoaded\", function () {\n\tReactDOM.render(\n\t\t<TemplateDesignerContextProvider>\n\t\t\t<MailTemplate />\n\t\t</TemplateDesignerContextProvider>,\n\t\tdocument.getElementById(\"wp-html-mail-template-designer\")\n\t);\n});\n"],"sourceRoot":""}