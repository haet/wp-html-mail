{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///external {\"this\":[\"wp\",\"components\"]}","webpack:///external {\"this\":[\"wp\",\"i18n\"]}","webpack:///external {\"this\":[\"wp\",\"element\"]}","webpack:///external {\"this\":\"React\"}","webpack:///external {\"this\":\"ReactDOM\"}","webpack:///external {\"this\":[\"wp\",\"blockEditor\"]}","webpack:///./js/template-designer/contexts/TemplateDesignerContext.js","webpack:///./js/template-designer/components/OptionsPanel.js","webpack:///./js/template-designer/functions/helper-functions.js","webpack:///./js/template-designer/components/EditableElement.js","webpack:///./js/template-designer/components/HeaderText.js","webpack:///./js/template-designer/components/HeaderImage.js","webpack:///./js/template-designer/components/MailHeader.js","webpack:///./js/template-designer/components/MailContent.js","webpack:///./js/template-designer/components/MailFooter.js","webpack:///./js/template-designer/components/MailTemplate.js","webpack:///./js/template-designer/src/index.js"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","this","TemplateDesignerContext","createContext","TemplateDesignerContextProvider","props","useState","panelTitle","setPanelTitle","panelOptions","setPanelOptions","editingElement","setEditingElement","settings","setSettings","isLoading","setIsLoading","Provider","updateSetting","children","OptionsPanel","templateDesignerContext","useContext","header","className","getIntVal","fallback","isNaN","parseInt","isTranslationEnabledForField","theme_options","getTranslateableThemeOptionsKey","window","mailTemplateDesigner","isMultiLanguageSite","currentLanguage","getTranslateableThemeOption","translateable_key","EditableElement","elementTitle","elementName","frameSize","handleAlign","onClick","e","stopPropagation","icon","HeaderText","__","options","React","Fragment","title","initialOpen","color","headercolor","onChangeComplete","hex","disableAlpha","headerfont","fonts","onChange","type","headerfontsize","controls","isActive","headeralign","headerbold","headeritalic","headertexttransform","checked","useEffect","headertext","headertext_field_key","style","textAlign","fontSize","fontFamily","fontStyle","fontWeight","textTransform","tagName","allowedFormats","placeholder","HeaderImage","fileFrame","setFileFrame","headerimg","headerimg_field_key","backgroundImage","open","file_frame","wp","media","frames","multiple","on","attachment","state","first","toJSON","height","width","Math","round","url","alt","help","headerimg_notice","length","dangerouslySetInnerHTML","__html","headerimg_width","headerimg_height","headerimg_align","headerimg_placement","beforeIcon","header_spacer","min","max","size","lockAspectRatio","minHeight","minWidth","showHandle","marginTop","marginBottom","enable","top","right","bottom","left","topRight","bottomRight","bottomLeft","topLeft","onResizeStop","event","direction","elt","delta","src","MailHeader","rerenderKey","setRerenderKey","selected","label","forceRerender","headerbackground","headerpaddingtop","headerpaddingright","headerpaddingbottom","headerpaddingleft","random","toString","replace","substr","backgroundColor","paddingTop","paddingRight","paddingBottom","paddingLeft","MailContent","contentbackground","headlinecolor","headlinefont","headlinefontsize","headlinealign","headlinebold","headlineitalic","headlinetexttransform","subheadlinecolor","subheadlinefont","subheadlinefontsize","subheadlinealign","subheadlinebold","subheadlineitalic","subheadlinetexttransform","textcolor","textfont","textfontsize","textalign","textbold","textitalic","linkcolor","linkbold","linkitalic","linkunderline","linktexttransform","h1Styles","lineHeight","h2Styles","pStyles","aStyles","textDecoration","href","MailFooter","setEditor","footer","footer_field_key","footerbackground","onEditorSetup","newEditor","setContent","getContent","setTimeout","availableFonts","forEach","font","oldEditor","initialize","tinymce","inline","content_css","fixed_toolbar_container","toolbar1","toolbar2","font_formats","fontsize_formats","setup","remove","id","onKeyDown","nativeEvent","stopImmediatePropagation","MailTemplate","isSaving","setIsSaving","showSaveSuccess","setShowSaveSuccess","background","request","Request","restUrl","method","headers","nonce","credentials","fetch","then","resp","json","data","status","isDismissible","isSecondary","templateLibraryUrl","marginRight","isPrimary","isBusy","preventDefault","body","JSON","stringify","preview","haet_mail","previewMail","saveSettings","document","addEventListener","ReactDOM","render","getElementById"],"mappings":"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","file":"main.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 7);\n","(function() { module.exports = this[\"wp\"][\"components\"]; }());","(function() { module.exports = this[\"wp\"][\"i18n\"]; }());","(function() { module.exports = this[\"wp\"][\"element\"]; }());","(function() { module.exports = this[\"React\"]; }());","(function() { module.exports = this[\"ReactDOM\"]; }());","(function() { module.exports = this[\"wp\"][\"blockEditor\"]; }());","import { useState, createContext, useEffect } from \"@wordpress/element\";\n\nexport const TemplateDesignerContext = createContext();\n\nfunction TemplateDesignerContextProvider(props) {\n\tconst [panelTitle, setPanelTitle] = useState(\"\");\n\tconst [panelOptions, setPanelOptions] = useState(null);\n\tconst [editingElement, setEditingElement] = useState(\"container\");\n\tconst [settings, setSettings] = useState({});\n\t// const [errorMessage, setErrorMessage] = useState(\"\");\n\t// const [infoMessage, setInfoMessage] = useState(\"\");\n\t// const [confirmDialog, setConfirmDialog] = useState({});\n\tconst [isLoading, setIsLoading] = useState(true);\n\n\tconst updateSetting = (key, value) => {\n\t\tsetSettings({ ...settings, [key]: value });\n\t};\n\n\treturn (\n\t\t<TemplateDesignerContext.Provider\n\t\t\tvalue={{\n\t\t\t\tpanelTitle,\n\t\t\t\tsetPanelTitle,\n\t\t\t\tpanelOptions,\n\t\t\t\tsetPanelOptions,\n\t\t\t\teditingElement,\n\t\t\t\tsetEditingElement,\n\t\t\t\tsettings,\n\t\t\t\tsetSettings,\n\t\t\t\tupdateSetting,\n\t\t\t\t// errorMessage,\n\t\t\t\t// setErrorMessage,\n\t\t\t\t// infoMessage,\n\t\t\t\t// setInfoMessage,\n\t\t\t\t// confirmDialog,\n\t\t\t\t// setConfirmDialog,\n\t\t\t\tisLoading,\n\t\t\t\tsetIsLoading,\n\t\t\t}}\n\t\t>\n\t\t\t{props.children}\n\t\t</TemplateDesignerContext.Provider>\n\t);\n}\n\nexport default TemplateDesignerContextProvider;\n","import { useContext } from \"@wordpress/element\";\nimport { Panel } from \"@wordpress/components\";\nimport { __ } from \"@wordpress/i18n\";\n\nimport { TemplateDesignerContext } from \"../contexts/TemplateDesignerContext\";\n\nexport default function OptionsPanel() {\n\tconst templateDesignerContext = useContext(TemplateDesignerContext);\n\n\tif (\n\t\ttemplateDesignerContext.settings === {} ||\n\t\t!templateDesignerContext.editingElement\n\t)\n\t\treturn null;\n\telse\n\t\treturn (\n\t\t\t<Panel\n\t\t\t\theader={templateDesignerContext.panelTitle}\n\t\t\t\tclassName=\"mail-optionspanel\"\n\t\t\t>\n\t\t\t\t{templateDesignerContext.panelOptions}\n\t\t\t</Panel>\n\t\t);\n}\n","export function getIntVal(value, fallback = 0) {\n\tif (isNaN(parseInt(value))) return fallback;\n\telse return parseInt(value);\n}\n\n/**\n * This is a JS version of the same function in class-multilanguage.php\n * @param {object} theme_options\n * @param {string} key\n */\nexport function isTranslationEnabledForField(theme_options, key) {\n\treturn (\n\t\tkey + \"_enable_translation\" in theme_options &&\n\t\ttheme_options[key + \"_enable_translation\"] == 1\n\t);\n}\n\n/**\n * This is a JS version of the same function in class-multilanguage.php\n * @param {object} theme_options\n * @param {string} key\n */\nexport function getTranslateableThemeOptionsKey(theme_options, key) {\n\tif (\n\t\t!window.mailTemplateDesigner.isMultiLanguageSite ||\n\t\t!isTranslationEnabledForField(theme_options, key)\n\t)\n\t\treturn key;\n\n\tif (\n\t\twindow.mailTemplateDesigner.currentLanguage &&\n\t\twindow.mailTemplateDesigner.currentLanguage != \"\"\n\t)\n\t\treturn key + \"_\" + window.mailTemplateDesigner.currentLanguage;\n\n\treturn key;\n}\n\n/**\n * This is a JS version of the same function in class-multilanguage.php\n * @param {object} theme_options\n * @param {string} key\n */\nexport function getTranslateableThemeOption(theme_options, key) {\n\tif (\n\t\t!window.mailTemplateDesigner.isMultiLanguageSite ||\n\t\t!isTranslationEnabledForField(theme_options, key)\n\t)\n\t\treturn theme_options[key];\n\n\tconst translateable_key = getTranslateableThemeOptionsKey(\n\t\ttheme_options,\n\t\tkey\n\t);\n\tif (translateable_key in theme_options)\n\t\treturn theme_options[translateable_key];\n\n\treturn theme_options[key];\n}\n","import { useState, useEffect, useContext } from \"@wordpress/element\";\n\nimport { Icon } from \"@wordpress/components\";\nimport { edit } from \"@wordpress/icons\";\n\nimport { TemplateDesignerContext } from \"../contexts/TemplateDesignerContext\";\n\nexport default function EditableElement({\n\tchildren,\n\telementTitle,\n\telementName,\n\tframeSize = \"normal\",\n\thandleAlign = \"left\",\n}) {\n\tconst templateDesignerContext = useContext(TemplateDesignerContext);\n\n\treturn (\n\t\t<div\n\t\t\tclassName=\"editable-element clearfix\"\n\t\t\tonClick={(e) => {\n\t\t\t\te.stopPropagation();\n\t\t\t\ttemplateDesignerContext.setEditingElement(elementName);\n\t\t\t}}\n\t\t>\n\t\t\t<div\n\t\t\t\tclassName={\n\t\t\t\t\t(templateDesignerContext.editingElement === elementName\n\t\t\t\t\t\t? \"edit-frame-active\"\n\t\t\t\t\t\t: \"edit-frame-default\") +\n\t\t\t\t\t\" frame-size-\" +\n\t\t\t\t\tframeSize +\n\t\t\t\t\t\" handle-align-\" +\n\t\t\t\t\thandleAlign\n\t\t\t\t}\n\t\t\t>\n\t\t\t\t<div\n\t\t\t\t\tclassName=\"edit-frame-handle\"\n\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\te.stopPropagation();\n\t\t\t\t\t\ttemplateDesignerContext.setEditingElement(elementName);\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t{elementTitle}\n\t\t\t\t\t<Icon icon=\"edit\" />\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t{children}\n\t\t</div>\n\t);\n}\n","import { useState, useEffect, useContext } from \"@wordpress/element\";\n\nimport {\n\tPanelBody,\n\tPanelRow,\n\tFormToggle,\n\tColorPicker,\n\tSelectControl,\n\tToolbar,\n\tTextControl,\n} from \"@wordpress/components\";\n\nimport { __ } from \"@wordpress/i18n\";\nimport { RichText } from \"@wordpress/block-editor\";\n\nimport { TemplateDesignerContext } from \"../contexts/TemplateDesignerContext\";\n\nimport {\n\tgetIntVal,\n\tisTranslationEnabledForField,\n\tgetTranslateableThemeOption,\n\tgetTranslateableThemeOptionsKey,\n} from \"../functions/helper-functions\";\nimport EditableElement from \"./EditableElement.js\";\n\nexport default function HeaderText({}) {\n\tconst templateDesignerContext = useContext(TemplateDesignerContext);\n\tconst { settings } = templateDesignerContext;\n\tconst elementTitle = __(\"Header text\", \"wp-html-mail\");\n\tconst elementName = \"headertext\";\n\n\tconst options = (\n\t\t<React.Fragment>\n\t\t\t<PanelBody title={__(\"Color\", \"wp-html-mail\")} initialOpen={false}>\n\t\t\t\t<PanelRow>\n\t\t\t\t\t<ColorPicker\n\t\t\t\t\t\tcolor={settings.headercolor}\n\t\t\t\t\t\tonChangeComplete={(value) => {\n\t\t\t\t\t\t\ttemplateDesignerContext.updateSetting(\n\t\t\t\t\t\t\t\t\"headercolor\",\n\t\t\t\t\t\t\t\tvalue.hex\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tdisableAlpha\n\t\t\t\t\t/>\n\t\t\t\t</PanelRow>\n\t\t\t</PanelBody>\n\t\t\t<PanelBody title={__(\"Font\", \"wp-html-mail\")} initialOpen={false}>\n\t\t\t\t<PanelRow>\n\t\t\t\t\t<SelectControl\n\t\t\t\t\t\tvalue={settings.headerfont}\n\t\t\t\t\t\toptions={window.mailTemplateDesigner.fonts}\n\t\t\t\t\t\tonChange={(value) => {\n\t\t\t\t\t\t\ttemplateDesignerContext.updateSetting(\n\t\t\t\t\t\t\t\t\"headerfont\",\n\t\t\t\t\t\t\t\tvalue\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t\t<TextControl\n\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\tonChange={(value) => {\n\t\t\t\t\t\t\ttemplateDesignerContext.updateSetting(\n\t\t\t\t\t\t\t\t\"headerfontsize\",\n\t\t\t\t\t\t\t\tvalue\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tvalue={getIntVal(settings.headerfontsize)}\n\t\t\t\t\t/>\n\t\t\t\t</PanelRow>\n\t\t\t\t<PanelRow>\n\t\t\t\t\t<Toolbar\n\t\t\t\t\t\tcontrols={[\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ticon: \"editor-alignleft\",\n\t\t\t\t\t\t\t\tisActive: settings.headeralign === \"left\",\n\t\t\t\t\t\t\t\tonClick: () =>\n\t\t\t\t\t\t\t\t\ttemplateDesignerContext.updateSetting(\n\t\t\t\t\t\t\t\t\t\t\"headeralign\",\n\t\t\t\t\t\t\t\t\t\t\"left\"\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ticon: \"editor-aligncenter\",\n\t\t\t\t\t\t\t\tisActive: settings.headeralign === \"center\",\n\t\t\t\t\t\t\t\tonClick: () =>\n\t\t\t\t\t\t\t\t\ttemplateDesignerContext.updateSetting(\n\t\t\t\t\t\t\t\t\t\t\"headeralign\",\n\t\t\t\t\t\t\t\t\t\t\"center\"\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ticon: \"editor-alignright\",\n\t\t\t\t\t\t\t\tisActive: settings.headeralign === \"right\",\n\t\t\t\t\t\t\t\tonClick: () =>\n\t\t\t\t\t\t\t\t\ttemplateDesignerContext.updateSetting(\n\t\t\t\t\t\t\t\t\t\t\"headeralign\",\n\t\t\t\t\t\t\t\t\t\t\"right\"\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ticon: \"editor-bold\",\n\t\t\t\t\t\t\t\tisActive: getIntVal(settings.headerbold) === 1,\n\t\t\t\t\t\t\t\tonClick: () =>\n\t\t\t\t\t\t\t\t\ttemplateDesignerContext.updateSetting(\n\t\t\t\t\t\t\t\t\t\t\"headerbold\",\n\t\t\t\t\t\t\t\t\t\tgetIntVal(settings.headerbold) === 1\n\t\t\t\t\t\t\t\t\t\t\t? 0\n\t\t\t\t\t\t\t\t\t\t\t: 1\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ticon: \"editor-italic\",\n\t\t\t\t\t\t\t\tisActive:\n\t\t\t\t\t\t\t\t\tgetIntVal(settings.headeritalic) === 1,\n\t\t\t\t\t\t\t\tonClick: () =>\n\t\t\t\t\t\t\t\t\ttemplateDesignerContext.updateSetting(\n\t\t\t\t\t\t\t\t\t\t\"headeritalic\",\n\t\t\t\t\t\t\t\t\t\tgetIntVal(settings.headeritalic) === 1\n\t\t\t\t\t\t\t\t\t\t\t? 0\n\t\t\t\t\t\t\t\t\t\t\t: 1\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ticon: \"arrow-up\",\n\t\t\t\t\t\t\t\tisActive:\n\t\t\t\t\t\t\t\t\tsettings.headertexttransform ===\n\t\t\t\t\t\t\t\t\t\"uppercase\",\n\t\t\t\t\t\t\t\tonClick: () =>\n\t\t\t\t\t\t\t\t\ttemplateDesignerContext.updateSetting(\n\t\t\t\t\t\t\t\t\t\t\"headertexttransform\",\n\t\t\t\t\t\t\t\t\t\tsettings.headertexttransform ===\n\t\t\t\t\t\t\t\t\t\t\t\"uppercase\"\n\t\t\t\t\t\t\t\t\t\t\t? \"none\"\n\t\t\t\t\t\t\t\t\t\t\t: \"uppercase\"\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t]}\n\t\t\t\t\t/>\n\t\t\t\t</PanelRow>\n\t\t\t</PanelBody>\n\t\t\t{window.mailTemplateDesigner.isMultiLanguageSite == 1 && (\n\t\t\t\t<PanelBody\n\t\t\t\t\ttitle={__(\"Translation\", \"wp-html-mail\")}\n\t\t\t\t\tinitialOpen={false}\n\t\t\t\t>\n\t\t\t\t\t<PanelRow>\n\t\t\t\t\t\t<FormToggle\n\t\t\t\t\t\t\tchecked={isTranslationEnabledForField(\n\t\t\t\t\t\t\t\tsettings,\n\t\t\t\t\t\t\t\t\"headertext\"\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\tonChange={(e) =>\n\t\t\t\t\t\t\t\ttemplateDesignerContext.updateSetting(\n\t\t\t\t\t\t\t\t\t\"headertext_enable_translation\",\n\t\t\t\t\t\t\t\t\t!isTranslationEnabledForField(\n\t\t\t\t\t\t\t\t\t\tsettings,\n\t\t\t\t\t\t\t\t\t\t\"headertext\"\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t{__(\n\t\t\t\t\t\t\t\"Enable translation for this field\",\n\t\t\t\t\t\t\t\"wp-html-mail\"\n\t\t\t\t\t\t)}\n\t\t\t\t\t</PanelRow>\n\t\t\t\t\t<PanelRow>\n\t\t\t\t\t\t<p className=\"description\">\n\t\t\t\t\t\t\t{__(\n\t\t\t\t\t\t\t\t\"If enabled you can use individual settings depending on the current language selected at the top of the page in your admin bar.\",\n\t\t\t\t\t\t\t\t\"wp-html-mail\"\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</p>\n\t\t\t\t\t</PanelRow>\n\t\t\t\t</PanelBody>\n\t\t\t)}\n\t\t</React.Fragment>\n\t);\n\n\tuseEffect(() => {\n\t\tif (templateDesignerContext.editingElement === elementName) {\n\t\t\ttemplateDesignerContext.setPanelTitle(elementTitle);\n\t\t}\n\t}, [templateDesignerContext.editingElement]);\n\n\tuseEffect(() => {\n\t\tif (templateDesignerContext.editingElement === elementName) {\n\t\t\ttemplateDesignerContext.setPanelOptions(options);\n\t\t}\n\t}, [templateDesignerContext.editingElement, settings]);\n\n\tconst headertext = getTranslateableThemeOption(settings, \"headertext\");\n\tconst headertext_field_key = getTranslateableThemeOptionsKey(\n\t\tsettings,\n\t\t\"headertext\"\n\t);\n\treturn (\n\t\t<EditableElement\n\t\t\telementTitle={elementTitle}\n\t\t\telementName={elementName}\n\t\t\tframeSize=\"s\"\n\t\t\thandleAlign=\"right\"\n\t\t>\n\t\t\t<div\n\t\t\t\tclassName={elementName}\n\t\t\t\tstyle={{\n\t\t\t\t\tcolor: settings.headercolor,\n\t\t\t\t\ttextAlign: settings.headeralign,\n\t\t\t\t\tfontSize: getIntVal(settings.headerfontsize),\n\t\t\t\t\tfontFamily: settings.headerfont,\n\t\t\t\t\tfontStyle:\n\t\t\t\t\t\tgetIntVal(settings.headeritalic) === 1\n\t\t\t\t\t\t\t? \"italic\"\n\t\t\t\t\t\t\t: \"normal\",\n\t\t\t\t\tfontWeight:\n\t\t\t\t\t\tgetIntVal(settings.headerbold) === 1\n\t\t\t\t\t\t\t? \"bold\"\n\t\t\t\t\t\t\t: \"normal\",\n\t\t\t\t\ttextTransform: settings.headertexttransform,\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<RichText\n\t\t\t\t\ttagName=\"div\"\n\t\t\t\t\tvalue={headertext}\n\t\t\t\t\tallowedFormats={[]}\n\t\t\t\t\tonChange={(value) =>\n\t\t\t\t\t\ttemplateDesignerContext.updateSetting(\n\t\t\t\t\t\t\theadertext_field_key,\n\t\t\t\t\t\t\tvalue\n\t\t\t\t\t\t)\n\t\t\t\t\t}\n\t\t\t\t\tplaceholder={__(\"Header text\", \"wp-html-mail\")}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t</EditableElement>\n\t);\n}\n","import { useState, useEffect, useContext } from \"@wordpress/element\";\n\nimport {\n\tPanelBody,\n\tPanelRow,\n\tRangeControl,\n\tTextControl,\n\tFormToggle,\n\tButton,\n\tToolbar,\n\tResizableBox,\n} from \"@wordpress/components\";\n\nimport { __ } from \"@wordpress/i18n\";\n\nimport { TemplateDesignerContext } from \"../contexts/TemplateDesignerContext\";\n\nimport {\n\tgetIntVal,\n\tisTranslationEnabledForField,\n\tgetTranslateableThemeOption,\n\tgetTranslateableThemeOptionsKey,\n} from \"../functions/helper-functions\";\nimport EditableElement from \"./EditableElement.js\";\n\nexport default function HeaderImage({}) {\n\tconst templateDesignerContext = useContext(TemplateDesignerContext);\n\tconst { settings } = templateDesignerContext;\n\tconst elementTitle = __(\"Header image\", \"wp-html-mail\");\n\tconst elementName = \"headerimage\";\n\tconst [fileFrame, setFileFrame] = useState();\n\n\tconst headerimg = getTranslateableThemeOption(settings, \"headerimg\");\n\tconst headerimg_field_key = getTranslateableThemeOptionsKey(\n\t\tsettings,\n\t\t\"headerimg\"\n\t);\n\n\tconst options = (\n\t\t<React.Fragment>\n\t\t\t<PanelBody title={__(\"Image\", \"wp-html-mail\")} initialOpen={true}>\n\t\t\t\t<PanelRow>\n\t\t\t\t\t<Button\n\t\t\t\t\t\tclassName={\"editor-post-featured-image__toggle\"}\n\t\t\t\t\t\tstyle={\n\t\t\t\t\t\t\theaderimg\n\t\t\t\t\t\t\t\t? {\n\t\t\t\t\t\t\t\t\t\tbackgroundImage:\n\t\t\t\t\t\t\t\t\t\t\t\"url(\" + headerimg + \")\",\n\t\t\t\t\t\t\t\t  }\n\t\t\t\t\t\t\t\t: {}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\t// If the media frame already exists, reopen it.\n\t\t\t\t\t\t\tif (fileFrame) {\n\t\t\t\t\t\t\t\tfileFrame.open();\n\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t// Create the media frame.\n\t\t\t\t\t\t\tconst file_frame = (wp.media.frames.file_frame = wp.media(\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tmultiple: false, // Set to true to allow multiple files to be selected\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t));\n\t\t\t\t\t\t\t// When an image is selected, run a callback.\n\t\t\t\t\t\t\tfile_frame.on(\"select\", function () {\n\t\t\t\t\t\t\t\t// We set multiple to false so only get one image from the uploader\n\t\t\t\t\t\t\t\tconst attachment = file_frame\n\t\t\t\t\t\t\t\t\t.state()\n\t\t\t\t\t\t\t\t\t.get(\"selection\")\n\t\t\t\t\t\t\t\t\t.first()\n\t\t\t\t\t\t\t\t\t.toJSON();\n\n\t\t\t\t\t\t\t\tconst height =\n\t\t\t\t\t\t\t\t\tattachment.width > 600\n\t\t\t\t\t\t\t\t\t\t? Math.round(\n\t\t\t\t\t\t\t\t\t\t\t\t(attachment.height /\n\t\t\t\t\t\t\t\t\t\t\t\t\tattachment.width) *\n\t\t\t\t\t\t\t\t\t\t\t\t\t600\n\t\t\t\t\t\t\t\t\t\t  )\n\t\t\t\t\t\t\t\t\t\t: attachment.height;\n\t\t\t\t\t\t\t\tconst width =\n\t\t\t\t\t\t\t\t\tattachment.width > 600\n\t\t\t\t\t\t\t\t\t\t? 600\n\t\t\t\t\t\t\t\t\t\t: attachment.width;\n\t\t\t\t\t\t\t\ttemplateDesignerContext.setSettings({\n\t\t\t\t\t\t\t\t\t...settings,\n\t\t\t\t\t\t\t\t\t[headerimg_field_key]: attachment.url,\n\t\t\t\t\t\t\t\t\theaderimg_width: width,\n\t\t\t\t\t\t\t\t\theaderimg_height: height,\n\t\t\t\t\t\t\t\t\theaderimg_alt: attachment.alt,\n\t\t\t\t\t\t\t\t\theaderimg_notice: \"\",\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t// Finally, open the modal\n\t\t\t\t\t\t\tfile_frame.open();\n\t\t\t\t\t\t\tsetFileFrame(file_frame);\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t{__(\"Select image\", \"wp-html-mail\")}\n\t\t\t\t\t</Button>\n\t\t\t\t</PanelRow>\n\t\t\t\t<PanelRow>\n\t\t\t\t\t<TextControl\n\t\t\t\t\t\tname=\"headerimg\"\n\t\t\t\t\t\tvalue={headerimg}\n\t\t\t\t\t\thelp={__(\n\t\t\t\t\t\t\t\"You can use this field to add an external image url.\",\n\t\t\t\t\t\t\t\"wp-html-mail\"\n\t\t\t\t\t\t)}\n\t\t\t\t\t\tonChange={(value) => {\n\t\t\t\t\t\t\ttemplateDesignerContext.updateSetting(\n\t\t\t\t\t\t\t\theaderimg_field_key,\n\t\t\t\t\t\t\t\tvalue\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t</PanelRow>\n\t\t\t\t{settings.headerimg_notice &&\n\t\t\t\t\tsettings.headerimg_notice.length > 5 && (\n\t\t\t\t\t\t<PanelRow>\n\t\t\t\t\t\t\t<p\n\t\t\t\t\t\t\t\tdangerouslySetInnerHTML={{\n\t\t\t\t\t\t\t\t\t__html: settings.headerimg_notice,\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</PanelRow>\n\t\t\t\t\t)}\n\t\t\t</PanelBody>\n\t\t\t<PanelBody\n\t\t\t\ttitle={__(\"Size & Align\", \"wp-html-mail\")}\n\t\t\t\tinitialOpen={false}\n\t\t\t>\n\t\t\t\t<PanelRow>\n\t\t\t\t\t<TextControl\n\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\tonChange={(value) => {\n\t\t\t\t\t\t\ttemplateDesignerContext.updateSetting(\n\t\t\t\t\t\t\t\t\"headerimg_width\",\n\t\t\t\t\t\t\t\tvalue\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tvalue={getIntVal(settings.headerimg_width, 400)}\n\t\t\t\t\t\tstyle={{ width: 70 }}\n\t\t\t\t\t/>\n\t\t\t\t\t<TextControl\n\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\tonChange={(value) => {\n\t\t\t\t\t\t\ttemplateDesignerContext.updateSetting(\n\t\t\t\t\t\t\t\t\"headerimg_height\",\n\t\t\t\t\t\t\t\tvalue\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tvalue={getIntVal(settings.headerimg_height, 100)}\n\t\t\t\t\t\tstyle={{ width: 70 }}\n\t\t\t\t\t/>\n\t\t\t\t\t<Toolbar\n\t\t\t\t\t\tcontrols={[\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ticon: \"align-left\",\n\t\t\t\t\t\t\t\tisActive: settings.headerimg_align === \"left\",\n\t\t\t\t\t\t\t\tonClick: () =>\n\t\t\t\t\t\t\t\t\ttemplateDesignerContext.updateSetting(\n\t\t\t\t\t\t\t\t\t\t\"headerimg_align\",\n\t\t\t\t\t\t\t\t\t\t\"left\"\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ticon: \"align-center\",\n\t\t\t\t\t\t\t\tisActive: settings.headerimg_align === \"center\",\n\t\t\t\t\t\t\t\tonClick: () =>\n\t\t\t\t\t\t\t\t\ttemplateDesignerContext.updateSetting(\n\t\t\t\t\t\t\t\t\t\t\"headerimg_align\",\n\t\t\t\t\t\t\t\t\t\t\"center\"\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ticon: \"align-right\",\n\t\t\t\t\t\t\t\tisActive: settings.headerimg_align === \"right\",\n\t\t\t\t\t\t\t\tonClick: () =>\n\t\t\t\t\t\t\t\t\ttemplateDesignerContext.updateSetting(\n\t\t\t\t\t\t\t\t\t\t\"headerimg_align\",\n\t\t\t\t\t\t\t\t\t\t\"right\"\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t]}\n\t\t\t\t\t/>\n\t\t\t\t</PanelRow>\n\t\t\t\t{(settings.headerimg_placement === \"above_text\" ||\n\t\t\t\t\tsettings.headerimg_placement === \"below_text\") && (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<PanelRow>\n\t\t\t\t\t\t\t{__(\n\t\t\t\t\t\t\t\t\"Spacing between image and text\",\n\t\t\t\t\t\t\t\t\"wp-html-mail\"\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</PanelRow>\n\t\t\t\t\t\t<PanelRow>\n\t\t\t\t\t\t\t<RangeControl\n\t\t\t\t\t\t\t\tbeforeIcon={\"sort\"}\n\t\t\t\t\t\t\t\tvalue={getIntVal(settings.header_spacer, 10)}\n\t\t\t\t\t\t\t\tonChange={(value) => {\n\t\t\t\t\t\t\t\t\ttemplateDesignerContext.updateSetting(\n\t\t\t\t\t\t\t\t\t\t\"header_spacer\",\n\t\t\t\t\t\t\t\t\t\tvalue\n\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tmin={0}\n\t\t\t\t\t\t\t\tmax={100}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</PanelRow>\n\t\t\t\t\t</>\n\t\t\t\t)}\n\t\t\t\t<PanelRow>\n\t\t\t\t\t<p>\n\t\t\t\t\t\t{__(\n\t\t\t\t\t\t\t\"If you would like to provide the header image in retina quality, upload an image with a higher resultion, such as for example 1200px x 400px and enter only half the size values in the input fields above (600 x 200).\",\n\t\t\t\t\t\t\t\"wp-html-mail\"\n\t\t\t\t\t\t)}\n\t\t\t\t\t</p>\n\t\t\t\t</PanelRow>\n\t\t\t</PanelBody>\n\t\t\t{window.mailTemplateDesigner.isMultiLanguageSite == 1 && (\n\t\t\t\t<PanelBody\n\t\t\t\t\ttitle={__(\"Translation\", \"wp-html-mail\")}\n\t\t\t\t\tinitialOpen={true}\n\t\t\t\t>\n\t\t\t\t\t<PanelRow>\n\t\t\t\t\t\t<FormToggle\n\t\t\t\t\t\t\tchecked={isTranslationEnabledForField(\n\t\t\t\t\t\t\t\tsettings,\n\t\t\t\t\t\t\t\t\"headerimg\"\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\tonChange={(e) =>\n\t\t\t\t\t\t\t\ttemplateDesignerContext.updateSetting(\n\t\t\t\t\t\t\t\t\t\"headerimg_enable_translation\",\n\t\t\t\t\t\t\t\t\t!isTranslationEnabledForField(\n\t\t\t\t\t\t\t\t\t\tsettings,\n\t\t\t\t\t\t\t\t\t\t\"headerimg\"\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t{__(\n\t\t\t\t\t\t\t\"Enable translation for this field\",\n\t\t\t\t\t\t\t\"wp-html-mail\"\n\t\t\t\t\t\t)}\n\t\t\t\t\t</PanelRow>\n\t\t\t\t\t<PanelRow>\n\t\t\t\t\t\t<p className=\"description\">\n\t\t\t\t\t\t\t{__(\n\t\t\t\t\t\t\t\t\"If enabled you can use individual settings depending on the current language selected at the top of the page in your admin bar.\",\n\t\t\t\t\t\t\t\t\"wp-html-mail\"\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</p>\n\t\t\t\t\t</PanelRow>\n\t\t\t\t\t<PanelRow>\n\t\t\t\t\t\t<p className=\"description\">\n\t\t\t\t\t\t\t{__(\n\t\t\t\t\t\t\t\t\"Please make sure all images have the same size because only the image url is language dependent.\",\n\t\t\t\t\t\t\t\t\"wp-html-mail\"\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</p>\n\t\t\t\t\t</PanelRow>\n\t\t\t\t</PanelBody>\n\t\t\t)}\n\t\t</React.Fragment>\n\t);\n\n\tuseEffect(() => {\n\t\tif (templateDesignerContext.editingElement === elementName) {\n\t\t\ttemplateDesignerContext.setPanelTitle(elementTitle);\n\t\t}\n\t}, [templateDesignerContext.editingElement]);\n\n\tuseEffect(() => {\n\t\tif (templateDesignerContext.editingElement === elementName) {\n\t\t\ttemplateDesignerContext.setPanelOptions(options);\n\t\t}\n\t}, [templateDesignerContext.editingElement, settings]);\n\n\tconst headerimg_align = settings.headerimg_align\n\t\t? settings.headerimg_align\n\t\t: settings.headeralign;\n\n\treturn (\n\t\t<EditableElement\n\t\t\telementTitle={elementTitle}\n\t\t\telementName={elementName}\n\t\t\tframeSize=\"s\"\n\t\t\thandleAlign=\"right\"\n\t\t>\n\t\t\t<div\n\t\t\t\tclassName={elementName}\n\t\t\t\tstyle={{\n\t\t\t\t\ttextAlign: headerimg_align,\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t{settings.headerimg ? (\n\t\t\t\t\t<ResizableBox\n\t\t\t\t\t\tsize={{\n\t\t\t\t\t\t\theight: parseInt(settings.headerimg_height),\n\t\t\t\t\t\t\twidth: parseInt(settings.headerimg_width),\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tlockAspectRatio={\n\t\t\t\t\t\t\tparseInt(settings.headerimg_width) /\n\t\t\t\t\t\t\tparseInt(settings.headerimg_height)\n\t\t\t\t\t\t}\n\t\t\t\t\t\tminHeight=\"20\"\n\t\t\t\t\t\tminWidth=\"50\"\n\t\t\t\t\t\tshowHandle={\n\t\t\t\t\t\t\ttemplateDesignerContext.editingElement ===\n\t\t\t\t\t\t\telementName\n\t\t\t\t\t\t}\n\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\tmarginTop:\n\t\t\t\t\t\t\t\tsettings.headerimg_placement === \"below_text\"\n\t\t\t\t\t\t\t\t\t? settings.header_spacer + \"px\"\n\t\t\t\t\t\t\t\t\t: \"0px\",\n\t\t\t\t\t\t\tmarginBottom:\n\t\t\t\t\t\t\t\tsettings.headerimg_placement === \"above_text\"\n\t\t\t\t\t\t\t\t\t? settings.header_spacer + \"px\"\n\t\t\t\t\t\t\t\t\t: \"0px\",\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tenable={{\n\t\t\t\t\t\t\ttop: false,\n\t\t\t\t\t\t\tright: false,\n\t\t\t\t\t\t\tbottom: false,\n\t\t\t\t\t\t\tleft: false,\n\t\t\t\t\t\t\ttopRight: true,\n\t\t\t\t\t\t\tbottomRight: true,\n\t\t\t\t\t\t\tbottomLeft: true,\n\t\t\t\t\t\t\ttopLeft: true,\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tonResizeStop={(event, direction, elt, delta) => {\n\t\t\t\t\t\t\ttemplateDesignerContext.setSettings({\n\t\t\t\t\t\t\t\t...settings,\n\t\t\t\t\t\t\t\theaderimg_width:\n\t\t\t\t\t\t\t\t\tparseInt(settings.headerimg_width) +\n\t\t\t\t\t\t\t\t\tdelta.width,\n\t\t\t\t\t\t\t\theaderimg_height:\n\t\t\t\t\t\t\t\t\tparseInt(settings.headerimg_height) +\n\t\t\t\t\t\t\t\t\tdelta.height,\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t}}\n\t\t\t\t\t>\n\t\t\t\t\t\t<img src={headerimg} />\n\t\t\t\t\t</ResizableBox>\n\t\t\t\t) : (\n\t\t\t\t\t<div\n\t\t\t\t\t\tclassName=\"header-image-placeholder\"\n\t\t\t\t\t\tstyle={{\n\t\t\t\t\t\t\twidth: settings.headerimg_width\n\t\t\t\t\t\t\t\t? settings.headerimg_width + \"px\"\n\t\t\t\t\t\t\t\t: \"400px\",\n\t\t\t\t\t\t\theight: settings.headerimg_height\n\t\t\t\t\t\t\t\t? settings.headerimg_height + \"px\"\n\t\t\t\t\t\t\t\t: \"100px\",\n\t\t\t\t\t\t\tmarginTop:\n\t\t\t\t\t\t\t\tsettings.headerimg_placement === \"below_text\"\n\t\t\t\t\t\t\t\t\t? settings.header_spacer + \"px\"\n\t\t\t\t\t\t\t\t\t: \"0px\",\n\t\t\t\t\t\t\tmarginBottom:\n\t\t\t\t\t\t\t\tsettings.headerimg_placement === \"above_text\"\n\t\t\t\t\t\t\t\t\t? settings.header_spacer + \"px\"\n\t\t\t\t\t\t\t\t\t: \"0px\",\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t)}\n\t\t\t</div>\n\t\t</EditableElement>\n\t);\n}\n","import { useState, useEffect, useContext } from \"@wordpress/element\";\n\nimport {\n\tPanelBody,\n\tPanelRow,\n\tRangeControl,\n\tRadioControl,\n\tColorPicker,\n} from \"@wordpress/components\";\n\nimport { __ } from \"@wordpress/i18n\";\n\nimport { TemplateDesignerContext } from \"../contexts/TemplateDesignerContext\";\nimport { getIntVal } from \"../functions/helper-functions\";\n\nimport EditableElement from \"./EditableElement.js\";\nimport HeaderText from \"./HeaderText.js\";\nimport HeaderImage from \"./HeaderImage.js\";\n\nexport default function MailHeader({}) {\n\tconst [rerenderKey, setRerenderKey] = useState(1);\n\tconst templateDesignerContext = useContext(TemplateDesignerContext);\n\tconst { settings } = templateDesignerContext;\n\tconst elementTitle = __(\"Email header\", \"wp-html-mail\");\n\tconst elementName = \"header\";\n\n\tlet headerimg_placement = settings.headerimg_placement;\n\tif (!headerimg_placement) {\n\t\tif (settings.headerimg) headerimg_placement = \"replace_text\";\n\t\telse headerimg_placement = \"just_text\";\n\t}\n\n\tconst options = (\n\t\t<React.Fragment>\n\t\t\t<PanelBody\n\t\t\t\ttitle={__(\"Image and text placement\", \"wp-html-mail\")}\n\t\t\t\tinitialOpen={true}\n\t\t\t>\n\t\t\t\t<PanelRow>\n\t\t\t\t\t<RadioControl\n\t\t\t\t\t\tselected={headerimg_placement}\n\t\t\t\t\t\toptions={[\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tvalue: \"just_text\",\n\t\t\t\t\t\t\t\tlabel: __(\n\t\t\t\t\t\t\t\t\t\"Show just a text header\",\n\t\t\t\t\t\t\t\t\t\"wp-html-mail\"\n\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tvalue: \"replace_text\",\n\t\t\t\t\t\t\t\tlabel: __(\"Show image only\", \"wp-html-mail\"),\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tvalue: \"above_text\",\n\t\t\t\t\t\t\t\tlabel: __(\n\t\t\t\t\t\t\t\t\t\"Show image above text\",\n\t\t\t\t\t\t\t\t\t\"wp-html-mail\"\n\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tvalue: \"below_text\",\n\t\t\t\t\t\t\t\tlabel: __(\n\t\t\t\t\t\t\t\t\t\"Show image below text\",\n\t\t\t\t\t\t\t\t\t\"wp-html-mail\"\n\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t]}\n\t\t\t\t\t\tonChange={(value) => {\n\t\t\t\t\t\t\ttemplateDesignerContext.updateSetting(\n\t\t\t\t\t\t\t\t\"headerimg_placement\",\n\t\t\t\t\t\t\t\tvalue\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tforceRerender();\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t</PanelRow>\n\t\t\t</PanelBody>\n\t\t\t<PanelBody\n\t\t\t\ttitle={__(\"Background color\", \"wp-html-mail\")}\n\t\t\t\tinitialOpen={false}\n\t\t\t>\n\t\t\t\t<PanelRow>\n\t\t\t\t\t<ColorPicker\n\t\t\t\t\t\tcolor={settings.headerbackground}\n\t\t\t\t\t\tonChangeComplete={(value) => {\n\t\t\t\t\t\t\ttemplateDesignerContext.updateSetting(\n\t\t\t\t\t\t\t\t\"headerbackground\",\n\t\t\t\t\t\t\t\tvalue.hex\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tforceRerender();\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tdisableAlpha\n\t\t\t\t\t/>\n\t\t\t\t</PanelRow>\n\t\t\t</PanelBody>\n\t\t\t<PanelBody\n\t\t\t\ttitle={__(\"Padding\", \"wp-html-mail\")}\n\t\t\t\tinitialOpen={false}\n\t\t\t>\n\t\t\t\t<PanelRow>\n\t\t\t\t\t<RangeControl\n\t\t\t\t\t\tbeforeIcon=\"arrow-down\"\n\t\t\t\t\t\tvalue={getIntVal(settings.headerpaddingtop, 10)}\n\t\t\t\t\t\tonChange={(value) => {\n\t\t\t\t\t\t\ttemplateDesignerContext.updateSetting(\n\t\t\t\t\t\t\t\t\"headerpaddingtop\",\n\t\t\t\t\t\t\t\tvalue\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tforceRerender();\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tmin={0}\n\t\t\t\t\t\tmax={100}\n\t\t\t\t\t/>\n\t\t\t\t</PanelRow>\n\t\t\t\t<PanelRow>\n\t\t\t\t\t<RangeControl\n\t\t\t\t\t\tbeforeIcon=\"arrow-left\"\n\t\t\t\t\t\tvalue={getIntVal(settings.headerpaddingright, 10)}\n\t\t\t\t\t\tonChange={(value) => {\n\t\t\t\t\t\t\ttemplateDesignerContext.updateSetting(\n\t\t\t\t\t\t\t\t\"headerpaddingright\",\n\t\t\t\t\t\t\t\tvalue\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tforceRerender();\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tmin={0}\n\t\t\t\t\t\tmax={100}\n\t\t\t\t\t/>\n\t\t\t\t</PanelRow>\n\t\t\t\t<PanelRow>\n\t\t\t\t\t<RangeControl\n\t\t\t\t\t\tbeforeIcon=\"arrow-up\"\n\t\t\t\t\t\tvalue={getIntVal(settings.headerpaddingbottom, 10)}\n\t\t\t\t\t\tonChange={(value) => {\n\t\t\t\t\t\t\ttemplateDesignerContext.updateSetting(\n\t\t\t\t\t\t\t\t\"headerpaddingbottom\",\n\t\t\t\t\t\t\t\tvalue\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tforceRerender();\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tmin={0}\n\t\t\t\t\t\tmax={100}\n\t\t\t\t\t/>\n\t\t\t\t</PanelRow>\n\t\t\t\t<PanelRow>\n\t\t\t\t\t<RangeControl\n\t\t\t\t\t\tbeforeIcon=\"arrow-right\"\n\t\t\t\t\t\tvalue={getIntVal(settings.headerpaddingleft, 10)}\n\t\t\t\t\t\tonChange={(value) => {\n\t\t\t\t\t\t\ttemplateDesignerContext.updateSetting(\n\t\t\t\t\t\t\t\t\"headerpaddingleft\",\n\t\t\t\t\t\t\t\tvalue\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\tforceRerender();\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tmin={0}\n\t\t\t\t\t\tmax={100}\n\t\t\t\t\t/>\n\t\t\t\t</PanelRow>\n\t\t\t</PanelBody>\n\t\t</React.Fragment>\n\t);\n\n\tuseEffect(() => {\n\t\tif (templateDesignerContext.editingElement === elementName) {\n\t\t\ttemplateDesignerContext.setPanelTitle(elementTitle);\n\t\t}\n\t}, [templateDesignerContext.editingElement]);\n\n\tuseEffect(() => {\n\t\tif (templateDesignerContext.editingElement === elementName) {\n\t\t\ttemplateDesignerContext.setPanelOptions(options);\n\t\t}\n\t}, [templateDesignerContext.editingElement, settings]);\n\n\tconst forceRerender = () => {\n\t\tsetRerenderKey(\n\t\t\tMath.random()\n\t\t\t\t.toString(36)\n\t\t\t\t.replace(/[^a-z]+/g, \"\")\n\t\t\t\t.substr(0, 5)\n\t\t);\n\t};\n\n\treturn (\n\t\t<EditableElement\n\t\t\telementTitle={elementTitle}\n\t\t\telementName={elementName}\n\t\t\tkey={rerenderKey}\n\t\t>\n\t\t\t<div\n\t\t\t\tclassName=\"mail-header\"\n\t\t\t\tstyle={{\n\t\t\t\t\tbackgroundColor: settings.headerbackground,\n\t\t\t\t\tpaddingTop: getIntVal(settings.headerpaddingtop),\n\t\t\t\t\tpaddingRight: getIntVal(settings.headerpaddingright),\n\t\t\t\t\tpaddingBottom: getIntVal(settings.headerpaddingbottom),\n\t\t\t\t\tpaddingLeft: getIntVal(settings.headerpaddingleft),\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t{headerimg_placement === \"replace_text\" && <HeaderImage />}\n\t\t\t\t{headerimg_placement === \"above_text\" && (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<HeaderImage />\n\t\t\t\t\t\t<HeaderText />\n\t\t\t\t\t</>\n\t\t\t\t)}\n\t\t\t\t{headerimg_placement === \"below_text\" && (\n\t\t\t\t\t<>\n\t\t\t\t\t\t<HeaderText />\n\t\t\t\t\t\t<HeaderImage />\n\t\t\t\t\t</>\n\t\t\t\t)}\n\t\t\t\t{headerimg_placement === \"just_text\" && <HeaderText />}\n\t\t\t</div>\n\t\t</EditableElement>\n\t);\n}\n","import { useState, useEffect, useContext } from \"@wordpress/element\";\n\nimport {\n\tPanelBody,\n\tPanelRow,\n\tSelectControl,\n\tColorPicker,\n\tToolbar,\n\tTextControl,\n} from \"@wordpress/components\";\n\nimport { __ } from \"@wordpress/i18n\";\n\nimport { arrowUp, arrowLeft, arrowRight, arrowDown } from \"@wordpress/icons\";\n\nimport { TemplateDesignerContext } from \"../contexts/TemplateDesignerContext\";\nimport { getIntVal } from \"../functions/helper-functions\";\n\nimport EditableElement from \"./EditableElement.js\";\n\nexport default function MailContent({}) {\n\tconst templateDesignerContext = useContext(TemplateDesignerContext);\n\tconst { settings } = templateDesignerContext;\n\tconst elementTitle = __(\"Email content\", \"wp-html-mail\");\n\tconst elementName = \"content\";\n\n\tconst options = (\n\t\t<React.Fragment>\n\t\t\t<PanelBody\n\t\t\t\ttitle={__(\"Background color\", \"wp-html-mail\")}\n\t\t\t\tinitialOpen={false}\n\t\t\t>\n\t\t\t\t<PanelRow>\n\t\t\t\t\t<ColorPicker\n\t\t\t\t\t\tcolor={settings.contentbackground}\n\t\t\t\t\t\tonChangeComplete={(value) => {\n\t\t\t\t\t\t\ttemplateDesignerContext.updateSetting(\n\t\t\t\t\t\t\t\t\"contentbackground\",\n\t\t\t\t\t\t\t\tvalue.hex\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tdisableAlpha\n\t\t\t\t\t/>\n\t\t\t\t</PanelRow>\n\t\t\t</PanelBody>\n\t\t\t<PanelBody\n\t\t\t\ttitle={__(\"Headline Font\", \"wp-html-mail\")}\n\t\t\t\tinitialOpen={false}\n\t\t\t>\n\t\t\t\t<PanelRow>\n\t\t\t\t\t<ColorPicker\n\t\t\t\t\t\tcolor={settings.headlinecolor}\n\t\t\t\t\t\tonChangeComplete={(value) => {\n\t\t\t\t\t\t\ttemplateDesignerContext.updateSetting(\n\t\t\t\t\t\t\t\t\"headlinecolor\",\n\t\t\t\t\t\t\t\tvalue.hex\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tdisableAlpha\n\t\t\t\t\t/>\n\t\t\t\t</PanelRow>\n\t\t\t\t<PanelRow>\n\t\t\t\t\t<SelectControl\n\t\t\t\t\t\tvalue={settings.headlinefont}\n\t\t\t\t\t\toptions={window.mailTemplateDesigner.fonts}\n\t\t\t\t\t\tonChange={(value) => {\n\t\t\t\t\t\t\ttemplateDesignerContext.updateSetting(\n\t\t\t\t\t\t\t\t\"headlinefont\",\n\t\t\t\t\t\t\t\tvalue\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t\t<TextControl\n\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\tonChange={(value) => {\n\t\t\t\t\t\t\ttemplateDesignerContext.updateSetting(\n\t\t\t\t\t\t\t\t\"headlinefontsize\",\n\t\t\t\t\t\t\t\tvalue\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tvalue={getIntVal(settings.headlinefontsize)}\n\t\t\t\t\t/>\n\t\t\t\t</PanelRow>\n\t\t\t\t<PanelRow>\n\t\t\t\t\t<Toolbar\n\t\t\t\t\t\tcontrols={[\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ticon: \"editor-alignleft\",\n\t\t\t\t\t\t\t\tisActive: settings.headlinealign === \"left\",\n\t\t\t\t\t\t\t\tonClick: () =>\n\t\t\t\t\t\t\t\t\ttemplateDesignerContext.updateSetting(\n\t\t\t\t\t\t\t\t\t\t\"headlinealign\",\n\t\t\t\t\t\t\t\t\t\t\"left\"\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ticon: \"editor-aligncenter\",\n\t\t\t\t\t\t\t\tisActive: settings.headlinealign === \"center\",\n\t\t\t\t\t\t\t\tonClick: () =>\n\t\t\t\t\t\t\t\t\ttemplateDesignerContext.updateSetting(\n\t\t\t\t\t\t\t\t\t\t\"headlinealign\",\n\t\t\t\t\t\t\t\t\t\t\"center\"\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ticon: \"editor-alignright\",\n\t\t\t\t\t\t\t\tisActive: settings.headlinealign === \"right\",\n\t\t\t\t\t\t\t\tonClick: () =>\n\t\t\t\t\t\t\t\t\ttemplateDesignerContext.updateSetting(\n\t\t\t\t\t\t\t\t\t\t\"headlinealign\",\n\t\t\t\t\t\t\t\t\t\t\"right\"\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ticon: \"editor-bold\",\n\t\t\t\t\t\t\t\tisActive:\n\t\t\t\t\t\t\t\t\tgetIntVal(settings.headlinebold) === 1,\n\t\t\t\t\t\t\t\tonClick: () =>\n\t\t\t\t\t\t\t\t\ttemplateDesignerContext.updateSetting(\n\t\t\t\t\t\t\t\t\t\t\"headlinebold\",\n\t\t\t\t\t\t\t\t\t\tgetIntVal(settings.headlinebold) === 1\n\t\t\t\t\t\t\t\t\t\t\t? 0\n\t\t\t\t\t\t\t\t\t\t\t: 1\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ticon: \"editor-italic\",\n\t\t\t\t\t\t\t\tisActive:\n\t\t\t\t\t\t\t\t\tgetIntVal(settings.headlineitalic) === 1,\n\t\t\t\t\t\t\t\tonClick: () =>\n\t\t\t\t\t\t\t\t\ttemplateDesignerContext.updateSetting(\n\t\t\t\t\t\t\t\t\t\t\"headlineitalic\",\n\t\t\t\t\t\t\t\t\t\tgetIntVal(settings.headlineitalic) === 1\n\t\t\t\t\t\t\t\t\t\t\t? 0\n\t\t\t\t\t\t\t\t\t\t\t: 1\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ticon: \"arrow-up\",\n\t\t\t\t\t\t\t\tisActive:\n\t\t\t\t\t\t\t\t\tsettings.headlinetexttransform ===\n\t\t\t\t\t\t\t\t\t\"uppercase\",\n\t\t\t\t\t\t\t\tonClick: () =>\n\t\t\t\t\t\t\t\t\ttemplateDesignerContext.updateSetting(\n\t\t\t\t\t\t\t\t\t\t\"headlinetexttransform\",\n\t\t\t\t\t\t\t\t\t\tsettings.headlinetexttransform ===\n\t\t\t\t\t\t\t\t\t\t\t\"uppercase\"\n\t\t\t\t\t\t\t\t\t\t\t? \"none\"\n\t\t\t\t\t\t\t\t\t\t\t: \"uppercase\"\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t]}\n\t\t\t\t\t/>\n\t\t\t\t</PanelRow>\n\t\t\t</PanelBody>\n\t\t\t<PanelBody\n\t\t\t\ttitle={__(\"Subheadline Font\", \"wp-html-mail\")}\n\t\t\t\tinitialOpen={false}\n\t\t\t>\n\t\t\t\t<PanelRow>\n\t\t\t\t\t<ColorPicker\n\t\t\t\t\t\tcolor={settings.subheadlinecolor}\n\t\t\t\t\t\tonChangeComplete={(value) => {\n\t\t\t\t\t\t\ttemplateDesignerContext.updateSetting(\n\t\t\t\t\t\t\t\t\"subheadlinecolor\",\n\t\t\t\t\t\t\t\tvalue.hex\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tdisableAlpha\n\t\t\t\t\t/>\n\t\t\t\t</PanelRow>\n\t\t\t\t<PanelRow>\n\t\t\t\t\t<SelectControl\n\t\t\t\t\t\tvalue={settings.subheadlinefont}\n\t\t\t\t\t\toptions={window.mailTemplateDesigner.fonts}\n\t\t\t\t\t\tonChange={(value) => {\n\t\t\t\t\t\t\ttemplateDesignerContext.updateSetting(\n\t\t\t\t\t\t\t\t\"subheadlinefont\",\n\t\t\t\t\t\t\t\tvalue\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t\t<TextControl\n\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\tonChange={(value) => {\n\t\t\t\t\t\t\ttemplateDesignerContext.updateSetting(\n\t\t\t\t\t\t\t\t\"subheadlinefontsize\",\n\t\t\t\t\t\t\t\tvalue\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tvalue={getIntVal(settings.subheadlinefontsize)}\n\t\t\t\t\t/>\n\t\t\t\t</PanelRow>\n\t\t\t\t<PanelRow>\n\t\t\t\t\t<Toolbar\n\t\t\t\t\t\tcontrols={[\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ticon: \"editor-alignleft\",\n\t\t\t\t\t\t\t\tisActive: settings.subheadlinealign === \"left\",\n\t\t\t\t\t\t\t\tonClick: () =>\n\t\t\t\t\t\t\t\t\ttemplateDesignerContext.updateSetting(\n\t\t\t\t\t\t\t\t\t\t\"subheadlinealign\",\n\t\t\t\t\t\t\t\t\t\t\"left\"\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ticon: \"editor-aligncenter\",\n\t\t\t\t\t\t\t\tisActive:\n\t\t\t\t\t\t\t\t\tsettings.subheadlinealign === \"center\",\n\t\t\t\t\t\t\t\tonClick: () =>\n\t\t\t\t\t\t\t\t\ttemplateDesignerContext.updateSetting(\n\t\t\t\t\t\t\t\t\t\t\"subheadlinealign\",\n\t\t\t\t\t\t\t\t\t\t\"center\"\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ticon: \"editor-alignright\",\n\t\t\t\t\t\t\t\tisActive: settings.subheadlinealign === \"right\",\n\t\t\t\t\t\t\t\tonClick: () =>\n\t\t\t\t\t\t\t\t\ttemplateDesignerContext.updateSetting(\n\t\t\t\t\t\t\t\t\t\t\"subheadlinealign\",\n\t\t\t\t\t\t\t\t\t\t\"right\"\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ticon: \"editor-bold\",\n\t\t\t\t\t\t\t\tisActive:\n\t\t\t\t\t\t\t\t\tgetIntVal(settings.subheadlinebold) === 1,\n\t\t\t\t\t\t\t\tonClick: () =>\n\t\t\t\t\t\t\t\t\ttemplateDesignerContext.updateSetting(\n\t\t\t\t\t\t\t\t\t\t\"subheadlinebold\",\n\t\t\t\t\t\t\t\t\t\tgetIntVal(settings.subheadlinebold) ===\n\t\t\t\t\t\t\t\t\t\t\t1\n\t\t\t\t\t\t\t\t\t\t\t? 0\n\t\t\t\t\t\t\t\t\t\t\t: 1\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ticon: \"editor-italic\",\n\t\t\t\t\t\t\t\tisActive:\n\t\t\t\t\t\t\t\t\tgetIntVal(settings.subheadlineitalic) === 1,\n\t\t\t\t\t\t\t\tonClick: () =>\n\t\t\t\t\t\t\t\t\ttemplateDesignerContext.updateSetting(\n\t\t\t\t\t\t\t\t\t\t\"subheadlineitalic\",\n\t\t\t\t\t\t\t\t\t\tgetIntVal(\n\t\t\t\t\t\t\t\t\t\t\tsettings.subheadlineitalic\n\t\t\t\t\t\t\t\t\t\t) === 1\n\t\t\t\t\t\t\t\t\t\t\t? 0\n\t\t\t\t\t\t\t\t\t\t\t: 1\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ticon: \"arrow-up\",\n\t\t\t\t\t\t\t\tisActive:\n\t\t\t\t\t\t\t\t\tsettings.subheadlinetexttransform ===\n\t\t\t\t\t\t\t\t\t\"uppercase\",\n\t\t\t\t\t\t\t\tonClick: () =>\n\t\t\t\t\t\t\t\t\ttemplateDesignerContext.updateSetting(\n\t\t\t\t\t\t\t\t\t\t\"subheadlinetexttransform\",\n\t\t\t\t\t\t\t\t\t\tsettings.subheadlinetexttransform ===\n\t\t\t\t\t\t\t\t\t\t\t\"uppercase\"\n\t\t\t\t\t\t\t\t\t\t\t? \"none\"\n\t\t\t\t\t\t\t\t\t\t\t: \"uppercase\"\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t]}\n\t\t\t\t\t/>\n\t\t\t\t</PanelRow>\n\t\t\t</PanelBody>\n\n\t\t\t<PanelBody\n\t\t\t\ttitle={__(\"Content Font\", \"wp-html-mail\")}\n\t\t\t\tinitialOpen={false}\n\t\t\t>\n\t\t\t\t<PanelRow>\n\t\t\t\t\t<ColorPicker\n\t\t\t\t\t\tcolor={settings.textcolor}\n\t\t\t\t\t\tonChangeComplete={(value) => {\n\t\t\t\t\t\t\ttemplateDesignerContext.updateSetting(\n\t\t\t\t\t\t\t\t\"textcolor\",\n\t\t\t\t\t\t\t\tvalue.hex\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tdisableAlpha\n\t\t\t\t\t/>\n\t\t\t\t</PanelRow>\n\t\t\t\t<PanelRow>\n\t\t\t\t\t<SelectControl\n\t\t\t\t\t\tvalue={settings.textfont}\n\t\t\t\t\t\toptions={window.mailTemplateDesigner.fonts}\n\t\t\t\t\t\tonChange={(value) => {\n\t\t\t\t\t\t\ttemplateDesignerContext.updateSetting(\n\t\t\t\t\t\t\t\t\"textfont\",\n\t\t\t\t\t\t\t\tvalue\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}}\n\t\t\t\t\t/>\n\t\t\t\t\t<TextControl\n\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\tonChange={(value) => {\n\t\t\t\t\t\t\ttemplateDesignerContext.updateSetting(\n\t\t\t\t\t\t\t\t\"textfontsize\",\n\t\t\t\t\t\t\t\tvalue\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tvalue={getIntVal(settings.textfontsize)}\n\t\t\t\t\t/>\n\t\t\t\t</PanelRow>\n\t\t\t\t<PanelRow>\n\t\t\t\t\t<Toolbar\n\t\t\t\t\t\tcontrols={[\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ticon: \"editor-alignleft\",\n\t\t\t\t\t\t\t\tisActive: settings.textalign === \"left\",\n\t\t\t\t\t\t\t\tonClick: () =>\n\t\t\t\t\t\t\t\t\ttemplateDesignerContext.updateSetting(\n\t\t\t\t\t\t\t\t\t\t\"textalign\",\n\t\t\t\t\t\t\t\t\t\t\"left\"\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ticon: \"editor-aligncenter\",\n\t\t\t\t\t\t\t\tisActive: settings.textalign === \"center\",\n\t\t\t\t\t\t\t\tonClick: () =>\n\t\t\t\t\t\t\t\t\ttemplateDesignerContext.updateSetting(\n\t\t\t\t\t\t\t\t\t\t\"textalign\",\n\t\t\t\t\t\t\t\t\t\t\"center\"\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ticon: \"editor-alignright\",\n\t\t\t\t\t\t\t\tisActive: settings.textalign === \"right\",\n\t\t\t\t\t\t\t\tonClick: () =>\n\t\t\t\t\t\t\t\t\ttemplateDesignerContext.updateSetting(\n\t\t\t\t\t\t\t\t\t\t\"textalign\",\n\t\t\t\t\t\t\t\t\t\t\"right\"\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ticon: \"editor-bold\",\n\t\t\t\t\t\t\t\tisActive: getIntVal(settings.textbold) === 1,\n\t\t\t\t\t\t\t\tonClick: () =>\n\t\t\t\t\t\t\t\t\ttemplateDesignerContext.updateSetting(\n\t\t\t\t\t\t\t\t\t\t\"textbold\",\n\t\t\t\t\t\t\t\t\t\tgetIntVal(settings.textbold) === 1\n\t\t\t\t\t\t\t\t\t\t\t? 0\n\t\t\t\t\t\t\t\t\t\t\t: 1\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ticon: \"editor-italic\",\n\t\t\t\t\t\t\t\tisActive: getIntVal(settings.textitalic) === 1,\n\t\t\t\t\t\t\t\tonClick: () =>\n\t\t\t\t\t\t\t\t\ttemplateDesignerContext.updateSetting(\n\t\t\t\t\t\t\t\t\t\t\"textitalic\",\n\t\t\t\t\t\t\t\t\t\tgetIntVal(settings.textitalic) === 1\n\t\t\t\t\t\t\t\t\t\t\t? 0\n\t\t\t\t\t\t\t\t\t\t\t: 1\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t]}\n\t\t\t\t\t/>\n\t\t\t\t</PanelRow>\n\t\t\t</PanelBody>\n\n\t\t\t<PanelBody\n\t\t\t\ttitle={__(\"Link styling\", \"wp-html-mail\")}\n\t\t\t\tinitialOpen={false}\n\t\t\t>\n\t\t\t\t<PanelRow>\n\t\t\t\t\t<ColorPicker\n\t\t\t\t\t\tcolor={settings.linkcolor}\n\t\t\t\t\t\tonChangeComplete={(value) => {\n\t\t\t\t\t\t\ttemplateDesignerContext.updateSetting(\n\t\t\t\t\t\t\t\t\"linkcolor\",\n\t\t\t\t\t\t\t\tvalue.hex\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tdisableAlpha\n\t\t\t\t\t/>\n\t\t\t\t</PanelRow>\n\t\t\t\t<PanelRow>\n\t\t\t\t\t<Toolbar\n\t\t\t\t\t\tcontrols={[\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ticon: \"editor-bold\",\n\t\t\t\t\t\t\t\tisActive: getIntVal(settings.linkbold) === 1,\n\t\t\t\t\t\t\t\tonClick: () =>\n\t\t\t\t\t\t\t\t\ttemplateDesignerContext.updateSetting(\n\t\t\t\t\t\t\t\t\t\t\"linkbold\",\n\t\t\t\t\t\t\t\t\t\tgetIntVal(settings.linkbold) === 1\n\t\t\t\t\t\t\t\t\t\t\t? 0\n\t\t\t\t\t\t\t\t\t\t\t: 1\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ticon: \"editor-italic\",\n\t\t\t\t\t\t\t\tisActive: getIntVal(settings.linkitalic) === 1,\n\t\t\t\t\t\t\t\tonClick: () =>\n\t\t\t\t\t\t\t\t\ttemplateDesignerContext.updateSetting(\n\t\t\t\t\t\t\t\t\t\t\"linkitalic\",\n\t\t\t\t\t\t\t\t\t\tgetIntVal(settings.linkitalic) === 1\n\t\t\t\t\t\t\t\t\t\t\t? 0\n\t\t\t\t\t\t\t\t\t\t\t: 1\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ticon: \"editor-underline\",\n\t\t\t\t\t\t\t\tisActive:\n\t\t\t\t\t\t\t\t\tgetIntVal(settings.linkunderline) === 1,\n\t\t\t\t\t\t\t\tonClick: () =>\n\t\t\t\t\t\t\t\t\ttemplateDesignerContext.updateSetting(\n\t\t\t\t\t\t\t\t\t\t\"linkunderline\",\n\t\t\t\t\t\t\t\t\t\tgetIntVal(settings.linkunderline) === 1\n\t\t\t\t\t\t\t\t\t\t\t? 0\n\t\t\t\t\t\t\t\t\t\t\t: 1\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\ticon: \"arrow-up\",\n\t\t\t\t\t\t\t\tisActive:\n\t\t\t\t\t\t\t\t\tsettings.linktexttransform === \"uppercase\",\n\t\t\t\t\t\t\t\tonClick: () =>\n\t\t\t\t\t\t\t\t\ttemplateDesignerContext.updateSetting(\n\t\t\t\t\t\t\t\t\t\t\"linktexttransform\",\n\t\t\t\t\t\t\t\t\t\tsettings.linktexttransform ===\n\t\t\t\t\t\t\t\t\t\t\t\"uppercase\"\n\t\t\t\t\t\t\t\t\t\t\t? \"none\"\n\t\t\t\t\t\t\t\t\t\t\t: \"uppercase\"\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t]}\n\t\t\t\t\t/>\n\t\t\t\t</PanelRow>\n\t\t\t</PanelBody>\n\t\t</React.Fragment>\n\t);\n\n\tuseEffect(() => {\n\t\tif (templateDesignerContext.editingElement === elementName) {\n\t\t\ttemplateDesignerContext.setPanelTitle(elementTitle);\n\t\t}\n\t}, [templateDesignerContext.editingElement]);\n\n\tuseEffect(() => {\n\t\tif (templateDesignerContext.editingElement === elementName) {\n\t\t\ttemplateDesignerContext.setPanelOptions(options);\n\t\t}\n\t}, [templateDesignerContext.editingElement, settings]);\n\n\tconst h1Styles = {\n\t\tfontSize: getIntVal(settings.headlinefontsize),\n\t\tfontFamily: settings.headlinefont,\n\t\tfontStyle:\n\t\t\tgetIntVal(settings.headlineitalic) === 1 ? \"italic\" : \"normal\",\n\t\tfontWeight: getIntVal(settings.headlinebold) === 1 ? \"bold\" : \"normal\",\n\t\ttextTransform: settings.headlinetexttransform,\n\t\tcolor: settings.headlinecolor,\n\t\ttextAlign: settings.headlinealign,\n\t\tlineHeight: 1.5,\n\t\tmarginTop: \"0.67em\",\n\t\tmarginBottom: \"0.67em\",\n\t};\n\n\tconst h2Styles = {\n\t\tfontSize: getIntVal(settings.subheadlinefontsize),\n\t\tfontFamily: settings.subheadlinefont,\n\t\tfontStyle:\n\t\t\tgetIntVal(settings.subheadlineitalic) === 1 ? \"italic\" : \"normal\",\n\t\tfontWeight:\n\t\t\tgetIntVal(settings.subheadlinebold) === 1 ? \"bold\" : \"normal\",\n\t\ttextTransform: settings.subheadlinetexttransform,\n\t\tcolor: settings.subheadlinecolor,\n\t\ttextAlign: settings.subheadlinealign,\n\t\tlineHeight: 1.5,\n\t\tmarginTop: \"0.83em\",\n\t\tmarginBottom: \"0.83em\",\n\t};\n\n\tconst pStyles = {\n\t\tfontSize: getIntVal(settings.textfontsize),\n\t\tfontFamily: settings.textfont,\n\t\tfontStyle: getIntVal(settings.textitalic) === 1 ? \"italic\" : \"normal\",\n\t\tfontWeight: getIntVal(settings.textbold) === 1 ? \"bold\" : \"normal\",\n\t\tcolor: settings.textcolor,\n\t\ttextAlign: settings.textalign,\n\t\tlineHeight: 1.5,\n\t\tmarginTop: \"0.83em\",\n\t\tmarginBottom: \"0.83em\",\n\t};\n\n\tconst aStyles = {\n\t\tfontStyle: getIntVal(settings.linkitalic) === 1 ? \"italic\" : \"normal\",\n\t\tfontWeight: getIntVal(settings.linkbold) === 1 ? \"bold\" : \"normal\",\n\t\ttextDecoration:\n\t\t\tgetIntVal(settings.linkunderline) === 1 ? \"underline\" : \"none\",\n\t\ttextTransform: settings.linktexttransform,\n\t\tcolor: settings.linkcolor,\n\t};\n\n\treturn (\n\t\t<EditableElement elementTitle={elementTitle} elementName={elementName}>\n\t\t\t<div\n\t\t\t\tclassName=\"mail-content clearfix\"\n\t\t\t\tstyle={{\n\t\t\t\t\tbackgroundColor: settings.contentbackground,\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<h1 style={h1Styles}>Lorem ipsum dolor sit amet</h1>\n\t\t\t\t<p style={pStyles}>\n\t\t\t\t\tLorem ipsum dolor sit amet, consetetur sadipscing elitr, sed{\" \"}\n\t\t\t\t\t<a href=\"#\" style={aStyles}>\n\t\t\t\t\t\tdiam nonumy\n\t\t\t\t\t</a>{\" \"}\n\t\t\t\t\teirmod tempor invidunt ut labore et dolore magna aliquyam\n\t\t\t\t\terat, sed diam voluptua. At vero eos et accusam et justo duo\n\t\t\t\t\tdolores et ea rebum.\n\t\t\t\t\t<br />\n\t\t\t\t\tStet clita kasd gubergren, no sea takimata sanctus est Lorem\n\t\t\t\t\tipsum dolor sit amet.\n\t\t\t\t</p>\n\t\t\t\t<h2 style={h2Styles}>Sed diam nonumy eirmod tempor</h2>\n\t\t\t\t<p style={pStyles}>\n\t\t\t\t\tLorem ipsum dolor sit amet, consetetur sadipscing elitr, sed\n\t\t\t\t\tdiam nonumy eirmod tempor invidunt ut labore et dolore magna\n\t\t\t\t\taliquyam erat, sed diam voluptua.\n\t\t\t\t</p>\n\t\t\t</div>\n\t\t</EditableElement>\n\t);\n}\n","import { useState, useEffect, useContext } from \"@wordpress/element\";\n\nimport {\n\tPanelBody,\n\tPanelRow,\n\tColorPicker,\n\tFormToggle,\n\tTextareaControl,\n} from \"@wordpress/components\";\n\nimport { __ } from \"@wordpress/i18n\";\n\nimport { arrowUp, arrowLeft, arrowRight, arrowDown } from \"@wordpress/icons\";\n\nimport { TemplateDesignerContext } from \"../contexts/TemplateDesignerContext\";\nimport {\n\tisTranslationEnabledForField,\n\tgetTranslateableThemeOption,\n\tgetTranslateableThemeOptionsKey,\n} from \"../functions/helper-functions\";\n\nimport EditableElement from \"./EditableElement.js\";\n\nexport default function MailFooter({}) {\n\tconst templateDesignerContext = useContext(TemplateDesignerContext);\n\tconst [editor, setEditor] = useState(false);\n\tconst { settings } = templateDesignerContext;\n\tconst elementTitle = __(\"Email footer\", \"wp-html-mail\");\n\tconst elementName = \"footer\";\n\tconst footer = getTranslateableThemeOption(settings, \"footer\").replace(\n\t\t/\\\\(.)/gm,\n\t\t\"$1\"\n\t); // this is some kind of stripslashes\n\tconst footer_field_key = getTranslateableThemeOptionsKey(\n\t\tsettings,\n\t\t\"footer\"\n\t);\n\n\tconst options = (\n\t\t<React.Fragment>\n\t\t\t<PanelBody\n\t\t\t\ttitle={__(\"Background color\", \"wp-html-mail\")}\n\t\t\t\tinitialOpen={false}\n\t\t\t>\n\t\t\t\t<PanelRow>\n\t\t\t\t\t<ColorPicker\n\t\t\t\t\t\tcolor={settings.footerbackground}\n\t\t\t\t\t\tonChangeComplete={(value) => {\n\t\t\t\t\t\t\ttemplateDesignerContext.updateSetting(\n\t\t\t\t\t\t\t\t\"footerbackground\",\n\t\t\t\t\t\t\t\tvalue.hex\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tdisableAlpha\n\t\t\t\t\t/>\n\t\t\t\t</PanelRow>\n\t\t\t</PanelBody>\n\t\t\t{/* <PanelBody\n\t\t\t\ttitle={__(\"Padding\", \"wp-html-mail\")}\n\t\t\t\tinitialOpen={false}\n\t\t\t>\n\t\t\t\t<PanelRow>\n\t\t\t\t\t<RangeControl\n\t\t\t\t\t\tbeforeIcon={arrowDown}\n\t\t\t\t\t\tvalue={getIntVal(settings.headerpaddingtop, 10)}\n\t\t\t\t\t\tonChange={(value) => {\n\t\t\t\t\t\t\ttemplateDesignerContext.updateSetting(\n\t\t\t\t\t\t\t\t\"headerpaddingtop\",\n\t\t\t\t\t\t\t\tvalue\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tmin={0}\n\t\t\t\t\t\tmax={100}\n\t\t\t\t\t/>\n\t\t\t\t</PanelRow>\n\t\t\t\t<PanelRow>\n\t\t\t\t\t<RangeControl\n\t\t\t\t\t\tbeforeIcon={arrowLeft}\n\t\t\t\t\t\tvalue={getIntVal(settings.headerpaddingright, 10)}\n\t\t\t\t\t\tonChange={(value) => {\n\t\t\t\t\t\t\ttemplateDesignerContext.updateSetting(\n\t\t\t\t\t\t\t\t\"headerpaddingright\",\n\t\t\t\t\t\t\t\tvalue\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tmin={0}\n\t\t\t\t\t\tmax={100}\n\t\t\t\t\t/>\n\t\t\t\t</PanelRow>\n\t\t\t\t<PanelRow>\n\t\t\t\t\t<RangeControl\n\t\t\t\t\t\tbeforeIcon={arrowUp}\n\t\t\t\t\t\tvalue={getIntVal(settings.headerpaddingbottom, 10)}\n\t\t\t\t\t\tonChange={(value) => {\n\t\t\t\t\t\t\ttemplateDesignerContext.updateSetting(\n\t\t\t\t\t\t\t\t\"headerpaddingbottom\",\n\t\t\t\t\t\t\t\tvalue\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tmin={0}\n\t\t\t\t\t\tmax={100}\n\t\t\t\t\t/>\n\t\t\t\t</PanelRow>\n\t\t\t\t<PanelRow>\n\t\t\t\t\t<RangeControl\n\t\t\t\t\t\tbeforeIcon={arrowRight}\n\t\t\t\t\t\tvalue={getIntVal(settings.headerpaddingleft, 10)}\n\t\t\t\t\t\tonChange={(value) => {\n\t\t\t\t\t\t\ttemplateDesignerContext.updateSetting(\n\t\t\t\t\t\t\t\t\"headerpaddingleft\",\n\t\t\t\t\t\t\t\tvalue\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tmin={0}\n\t\t\t\t\t\tmax={100}\n\t\t\t\t\t/>\n\t\t\t\t</PanelRow>\n\t\t\t</PanelBody> */}\n\t\t\t<PanelBody\n\t\t\t\ttitle={__(\"Edit HTML\", \"wp-html-mail\")}\n\t\t\t\tinitialOpen={false}\n\t\t\t>\n\t\t\t\t<PanelRow>\n\t\t\t\t\t<TextareaControl\n\t\t\t\t\t\thelp={__(\n\t\t\t\t\t\t\t\"Just in case the editor on the left is not flexible enough you can use this field to edit the HTML code.\",\n\t\t\t\t\t\t\t\"wp-html-mail\"\n\t\t\t\t\t\t)}\n\t\t\t\t\t\tclassName=\"footer-html\"\n\t\t\t\t\t\tvalue={footer}\n\t\t\t\t\t\tonChange={(value) => {\n\t\t\t\t\t\t\ttemplateDesignerContext.updateSetting(\n\t\t\t\t\t\t\t\tfooter_field_key,\n\t\t\t\t\t\t\t\tvalue\n\t\t\t\t\t\t\t);\n\t\t\t\t\t\t}}\n\t\t\t\t\t\tplaceholder={__(\"your code snippet\")}\n\t\t\t\t\t/>\n\t\t\t\t</PanelRow>\n\t\t\t</PanelBody>\n\t\t\t{window.mailTemplateDesigner.isMultiLanguageSite == 1 && (\n\t\t\t\t<PanelBody\n\t\t\t\t\ttitle={__(\"Translation\", \"wp-html-mail\")}\n\t\t\t\t\tinitialOpen={false}\n\t\t\t\t>\n\t\t\t\t\t<PanelRow>\n\t\t\t\t\t\t<FormToggle\n\t\t\t\t\t\t\tchecked={isTranslationEnabledForField(\n\t\t\t\t\t\t\t\tsettings,\n\t\t\t\t\t\t\t\t\"footer\"\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\tonChange={(e) =>\n\t\t\t\t\t\t\t\ttemplateDesignerContext.updateSetting(\n\t\t\t\t\t\t\t\t\t\"footer_enable_translation\",\n\t\t\t\t\t\t\t\t\t!isTranslationEnabledForField(\n\t\t\t\t\t\t\t\t\t\tsettings,\n\t\t\t\t\t\t\t\t\t\t\"footer\"\n\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t{__(\n\t\t\t\t\t\t\t\"Enable translation for this field\",\n\t\t\t\t\t\t\t\"wp-html-mail\"\n\t\t\t\t\t\t)}\n\t\t\t\t\t</PanelRow>\n\t\t\t\t\t<PanelRow>\n\t\t\t\t\t\t<p className=\"description\">\n\t\t\t\t\t\t\t{__(\n\t\t\t\t\t\t\t\t\"If enabled you can use individual settings depending on the current language selected at the top of the page in your admin bar.\",\n\t\t\t\t\t\t\t\t\"wp-html-mail\"\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</p>\n\t\t\t\t\t</PanelRow>\n\t\t\t\t</PanelBody>\n\t\t\t)}\n\t\t</React.Fragment>\n\t);\n\n\tconst onEditorSetup = (newEditor) => {\n\t\tsetEditor(newEditor);\n\t\tif (footer) {\n\t\t\tnewEditor.on(\"loadContent\", () => newEditor.setContent(footer));\n\t\t}\n\n\t\tnewEditor.on(\"blur\", () => {\n\t\t\ttemplateDesignerContext.updateSetting(\n\t\t\t\tfooter_field_key,\n\t\t\t\tnewEditor.getContent()\n\t\t\t);\n\n\t\t\treturn false;\n\t\t});\n\t};\n\n\tuseEffect(() => {\n\t\tif (templateDesignerContext.editingElement === elementName) {\n\t\t\ttemplateDesignerContext.setPanelTitle(elementTitle);\n\t\t}\n\t}, [templateDesignerContext.editingElement]);\n\n\tuseEffect(() => {\n\t\tif (templateDesignerContext.editingElement === elementName) {\n\t\t\ttemplateDesignerContext.setPanelOptions(options);\n\t\t\twindow.setTimeout(() => {\n\t\t\t\tlet availableFonts = \"\";\n\t\t\t\twindow.mailTemplateDesigner.fonts.forEach((font) => {\n\t\t\t\t\tavailableFonts += font.label + \"=\" + font.value + \";\";\n\t\t\t\t});\n\t\t\t\twp.oldEditor.initialize(\"footer-html\", {\n\t\t\t\t\ttinymce: {\n\t\t\t\t\t\tinline: true,\n\t\t\t\t\t\tcontent_css: false,\n\t\t\t\t\t\tfixed_toolbar_container: \"footer-editor-toolbar\",\n\t\t\t\t\t\ttoolbar1: \"fontselect,fontsizeselect,|,undo,redo\",\n\t\t\t\t\t\ttoolbar2:\n\t\t\t\t\t\t\t\"forecolor,|,bold,italic,|,alignleft,aligncenter,alignright,|,pastetext,|,link,unlink\",\n\t\t\t\t\t\tfont_formats: availableFonts,\n\t\t\t\t\t\tfontsize_formats:\n\t\t\t\t\t\t\t\"10px 11px 12px 13px 14px 15px 16px 17px 18px 20px 22px 24px 26px 28px 30px 35px 40px\",\n\t\t\t\t\t\tsetup: onEditorSetup,\n\t\t\t\t\t},\n\t\t\t\t});\n\t\t\t}, 1000);\n\t\t} else {\n\t\t\twp.oldEditor.remove(\"footer-html\");\n\t\t}\n\t}, [templateDesignerContext.editingElement, settings]);\n\n\treturn (\n\t\t<EditableElement elementTitle={elementTitle} elementName={elementName}>\n\t\t\t<div\n\t\t\t\tclassName=\"mail-footer clearfix\"\n\t\t\t\tstyle={{\n\t\t\t\t\tbackgroundColor: settings.footerbackground,\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t<div\n\t\t\t\t\tkey=\"toolbar\"\n\t\t\t\t\tid=\"footer-editor-toolbar\"\n\t\t\t\t\tclassName=\"block-library-classic__toolbar\"\n\t\t\t\t\tonKeyDown={(e) => {\n\t\t\t\t\t\telementName.stopPropagation();\n\t\t\t\t\t\te.nativeEvent.stopImmediatePropagation();\n\t\t\t\t\t}}\n\t\t\t\t/>\n\t\t\t\t<div\n\t\t\t\t\tkey=\"editor\"\n\t\t\t\t\tid=\"footer-html\"\n\t\t\t\t\tclassName=\"wp-block-freeform block-library-rich-text__tinymce\"\n\t\t\t\t\tdangerouslySetInnerHTML={{\n\t\t\t\t\t\t__html: footer,\n\t\t\t\t\t}}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t</EditableElement>\n\t);\n}\n","import { useState, useEffect, useContext } from \"@wordpress/element\";\n\nimport {\n\tButton,\n\tPanelBody,\n\tPanelRow,\n\tColorPicker,\n\tSpinner,\n\tNotice,\n\tAnimate,\n} from \"@wordpress/components\";\nimport { __ } from \"@wordpress/i18n\";\n\nimport { TemplateDesignerContext } from \"../contexts/TemplateDesignerContext\";\n\nimport OptionsPanel from \"./OptionsPanel\";\nimport MailHeader from \"./MailHeader\";\nimport MailContent from \"./MailContent\";\nimport MailFooter from \"./MailFooter\";\nimport EditableElement from \"./EditableElement\";\n\nexport default function MailTemplate() {\n\tconst templateDesignerContext = useContext(TemplateDesignerContext);\n\tconst { settings } = templateDesignerContext;\n\tconst [isSaving, setIsSaving] = useState(false);\n\tconst [showSaveSuccess, setShowSaveSuccess] = useState(false);\n\tconst elementTitle = __(\"Email Container\", \"wp-html-mail\");\n\tconst elementName = \"container\";\n\tconst options = (\n\t\t<PanelBody\n\t\t\ttitle={__(\"Background color\", \"wp-html-mail\")}\n\t\t\tinitialOpen={true}\n\t\t>\n\t\t\t<PanelRow>\n\t\t\t\t<ColorPicker\n\t\t\t\t\tcolor={settings.background}\n\t\t\t\t\tonChangeComplete={(value) => {\n\t\t\t\t\t\ttemplateDesignerContext.updateSetting(\n\t\t\t\t\t\t\t\"background\",\n\t\t\t\t\t\t\tvalue.hex\n\t\t\t\t\t\t);\n\t\t\t\t\t}}\n\t\t\t\t\tdisableAlpha\n\t\t\t\t/>\n\t\t\t</PanelRow>\n\t\t</PanelBody>\n\t);\n\n\tconst loadSettings = () => {\n\t\tvar request = new Request(\n\t\t\twindow.mailTemplateDesigner.restUrl + \"themesettings\",\n\t\t\t{\n\t\t\t\tmethod: \"GET\",\n\t\t\t\theaders: {\n\t\t\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t\t\t\"X-WP-Nonce\": window.mailTemplateDesigner.nonce\n\t\t\t\t},\n\t\t\t\tcredentials: \"same-origin\"\n\t\t\t}\n\t\t);\n\t\tfetch(request)\n\t\t\t.then((resp) => resp.json())\n\t\t\t.then((data) => {\n\t\t\t\ttemplateDesignerContext.setSettings(data);\n\t\t\t\ttemplateDesignerContext.setIsLoading(false);\n\t\t\t});\n\t};\n\n\tconst saveSettings = () => {\n\t\tsetIsSaving(true);\n\t\tvar request = new Request(\n\t\t\twindow.mailTemplateDesigner.restUrl + \"themesettings\",\n\t\t\t{\n\t\t\t\tmethod: \"POST\",\n\t\t\t\tbody: JSON.stringify(settings),\n\t\t\t\theaders: {\n\t\t\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t\t\t\"X-WP-Nonce\": window.mailTemplateDesigner.nonce\n\t\t\t\t},\n\t\t\t}\n\t\t);\n\t\tfetch(request)\n\t\t\t.then((resp) => resp.json())\n\t\t\t.then((data) => {\n\t\t\t\tsetIsSaving(false);\n\t\t\t\tsetShowSaveSuccess(true);\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tsetShowSaveSuccess(false);\n\t\t\t\t}, 4000);\n\t\t\t\tif (data.preview) {\n\t\t\t\t\thaet_mail.previewMail(data.preview);\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tuseEffect(() => {\n\t\tloadSettings();\n\t}, []);\n\n\tuseEffect(() => {\n\t\tif (templateDesignerContext.editingElement === elementName) {\n\t\t\ttemplateDesignerContext.setPanelTitle(elementTitle);\n\t\t}\n\t}, [templateDesignerContext.editingElement]);\n\n\tuseEffect(() => {\n\t\tif (templateDesignerContext.editingElement === elementName) {\n\t\t\ttemplateDesignerContext.setPanelOptions(options);\n\t\t}\n\t}, [templateDesignerContext.editingElement, settings]);\n\n\tif (templateDesignerContext.isLoading || !templateDesignerContext.settings)\n\t\treturn (\n\t\t\t<div className=\"mail-loader\">\n\t\t\t\t<Spinner />\n\t\t\t</div>\n\t\t);\n\telse\n\t\treturn (\n\t\t\t<React.Fragment>\n\t\t\t\t<div\n\t\t\t\t\tclassName=\"mail-container\"\n\t\t\t\t\tstyle={{\n\t\t\t\t\t\tbackgroundColor: settings.background,\n\t\t\t\t\t}}\n\t\t\t\t>\n\t\t\t\t\t{showSaveSuccess && (\n\t\t\t\t\t\t<Notice status=\"success\" isDismissible={false}>\n\t\t\t\t\t\t\t<p>\n\t\t\t\t\t\t\t\t{__(\n\t\t\t\t\t\t\t\t\t\"Your settings have been saved. Check the preview of your email at the bottom of the page.\",\n\t\t\t\t\t\t\t\t\t\"wp-html-mail\"\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</p>\n\t\t\t\t\t\t</Notice>\n\t\t\t\t\t)}\n\n\t\t\t\t\t<div className=\"save-button-pane components-panel__header\">\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tisSecondary\n\t\t\t\t\t\t\thref={\n\t\t\t\t\t\t\t\twindow.mailTemplateDesigner.templateLibraryUrl\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tstyle={{ marginRight: 10 }}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{__(\"Browse our template library\", \"wp-html-mail\")}\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tisPrimary\n\t\t\t\t\t\t\tisBusy={isSaving}\n\t\t\t\t\t\t\tonClick={(e) => {\n\t\t\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\t\t\tsaveSettings();\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{__(\"Save and Preview\", \"wp-html-mail\")}\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</div>\n\t\t\t\t\t<EditableElement\n\t\t\t\t\t\telementTitle={elementTitle}\n\t\t\t\t\t\telementName={elementName}\n\t\t\t\t\t\tframeSize=\"xs\"\n\t\t\t\t\t>\n\t\t\t\t\t\t<div className=\"mail-content-wrap\">\n\t\t\t\t\t\t\t<MailHeader />\n\t\t\t\t\t\t\t<MailContent />\n\t\t\t\t\t\t\t<MailFooter />\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</EditableElement>\n\t\t\t\t</div>\n\t\t\t\t<OptionsPanel />\n\t\t\t</React.Fragment>\n\t\t);\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport MailTemplate from \"../components/MailTemplate\";\n\nimport TemplateDesignerContextProvider from \"../contexts/TemplateDesignerContext\";\n\ndocument.addEventListener(\"DOMContentLoaded\", function () {\n\tReactDOM.render(\n\t\t<TemplateDesignerContextProvider>\n\t\t\t<MailTemplate />\n\t\t</TemplateDesignerContextProvider>,\n\t\tdocument.getElementById(\"wp-html-mail-template-designer\")\n\t);\n});\n"],"sourceRoot":""}